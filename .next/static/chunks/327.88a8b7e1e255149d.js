(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[327],{98099:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=c(97117);function writeUint16BE(t,i,c){return void 0===i&&(i=new Uint8Array(2)),void 0===c&&(c=0),i[c+0]=t>>>8,i[c+1]=t>>>0,i}function writeUint16LE(t,i,c){return void 0===i&&(i=new Uint8Array(2)),void 0===c&&(c=0),i[c+0]=t>>>0,i[c+1]=t>>>8,i}function readInt32BE(t,i){return void 0===i&&(i=0),t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3]}function readUint32BE(t,i){return void 0===i&&(i=0),(t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3])>>>0}function readInt32LE(t,i){return void 0===i&&(i=0),t[i+3]<<24|t[i+2]<<16|t[i+1]<<8|t[i]}function readUint32LE(t,i){return void 0===i&&(i=0),(t[i+3]<<24|t[i+2]<<16|t[i+1]<<8|t[i])>>>0}function writeUint32BE(t,i,c){return void 0===i&&(i=new Uint8Array(4)),void 0===c&&(c=0),i[c+0]=t>>>24,i[c+1]=t>>>16,i[c+2]=t>>>8,i[c+3]=t>>>0,i}function writeUint32LE(t,i,c){return void 0===i&&(i=new Uint8Array(4)),void 0===c&&(c=0),i[c+0]=t>>>0,i[c+1]=t>>>8,i[c+2]=t>>>16,i[c+3]=t>>>24,i}function writeUint64BE(t,i,c){return void 0===i&&(i=new Uint8Array(8)),void 0===c&&(c=0),writeUint32BE(t/4294967296>>>0,i,c),writeUint32BE(t>>>0,i,c+4),i}function writeUint64LE(t,i,c){return void 0===i&&(i=new Uint8Array(8)),void 0===c&&(c=0),writeUint32LE(t>>>0,i,c),writeUint32LE(t/4294967296>>>0,i,c+4),i}i.readInt16BE=function(t,i){return void 0===i&&(i=0),(t[i+0]<<8|t[i+1])<<16>>16},i.readUint16BE=function(t,i){return void 0===i&&(i=0),(t[i+0]<<8|t[i+1])>>>0},i.readInt16LE=function(t,i){return void 0===i&&(i=0),(t[i+1]<<8|t[i])<<16>>16},i.readUint16LE=function(t,i){return void 0===i&&(i=0),(t[i+1]<<8|t[i])>>>0},i.writeUint16BE=writeUint16BE,i.writeInt16BE=writeUint16BE,i.writeUint16LE=writeUint16LE,i.writeInt16LE=writeUint16LE,i.readInt32BE=readInt32BE,i.readUint32BE=readUint32BE,i.readInt32LE=readInt32LE,i.readUint32LE=readUint32LE,i.writeUint32BE=writeUint32BE,i.writeInt32BE=writeUint32BE,i.writeUint32LE=writeUint32LE,i.writeInt32LE=writeUint32LE,i.readInt64BE=function(t,i){void 0===i&&(i=0);var c=readInt32BE(t,i),l=readInt32BE(t,i+4);return 4294967296*c+l-(l>>31)*4294967296},i.readUint64BE=function(t,i){return void 0===i&&(i=0),4294967296*readUint32BE(t,i)+readUint32BE(t,i+4)},i.readInt64LE=function(t,i){void 0===i&&(i=0);var c=readInt32LE(t,i);return 4294967296*readInt32LE(t,i+4)+c-(c>>31)*4294967296},i.readUint64LE=function(t,i){void 0===i&&(i=0);var c=readUint32LE(t,i);return 4294967296*readUint32LE(t,i+4)+c},i.writeUint64BE=writeUint64BE,i.writeInt64BE=writeUint64BE,i.writeUint64LE=writeUint64LE,i.writeInt64LE=writeUint64LE,i.readUintBE=function(t,i,c){if(void 0===c&&(c=0),t%8!=0)throw Error("readUintBE supports only bitLengths divisible by 8");if(t/8>i.length-c)throw Error("readUintBE: array is too short for the given bitLength");for(var l=0,_=1,v=t/8+c-1;v>=c;v--)l+=i[v]*_,_*=256;return l},i.readUintLE=function(t,i,c){if(void 0===c&&(c=0),t%8!=0)throw Error("readUintLE supports only bitLengths divisible by 8");if(t/8>i.length-c)throw Error("readUintLE: array is too short for the given bitLength");for(var l=0,_=1,v=c;v<c+t/8;v++)l+=i[v]*_,_*=256;return l},i.writeUintBE=function(t,i,c,_){if(void 0===c&&(c=new Uint8Array(t/8)),void 0===_&&(_=0),t%8!=0)throw Error("writeUintBE supports only bitLengths divisible by 8");if(!l.isSafeInteger(i))throw Error("writeUintBE value must be an integer");for(var v=1,P=t/8+_-1;P>=_;P--)c[P]=i/v&255,v*=256;return c},i.writeUintLE=function(t,i,c,_){if(void 0===c&&(c=new Uint8Array(t/8)),void 0===_&&(_=0),t%8!=0)throw Error("writeUintLE supports only bitLengths divisible by 8");if(!l.isSafeInteger(i))throw Error("writeUintLE value must be an integer");for(var v=1,P=_;P<_+t/8;P++)c[P]=i/v&255,v*=256;return c},i.readFloat32BE=function(t,i){return void 0===i&&(i=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(i)},i.readFloat32LE=function(t,i){return void 0===i&&(i=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(i,!0)},i.readFloat64BE=function(t,i){return void 0===i&&(i=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(i)},i.readFloat64LE=function(t,i){return void 0===i&&(i=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(i,!0)},i.writeFloat32BE=function(t,i,c){return void 0===i&&(i=new Uint8Array(4)),void 0===c&&(c=0),new DataView(i.buffer,i.byteOffset,i.byteLength).setFloat32(c,t),i},i.writeFloat32LE=function(t,i,c){return void 0===i&&(i=new Uint8Array(4)),void 0===c&&(c=0),new DataView(i.buffer,i.byteOffset,i.byteLength).setFloat32(c,t,!0),i},i.writeFloat64BE=function(t,i,c){return void 0===i&&(i=new Uint8Array(8)),void 0===c&&(c=0),new DataView(i.buffer,i.byteOffset,i.byteLength).setFloat64(c,t),i},i.writeFloat64LE=function(t,i,c){return void 0===i&&(i=new Uint8Array(8)),void 0===c&&(c=0),new DataView(i.buffer,i.byteOffset,i.byteLength).setFloat64(c,t,!0),i}},25439:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=c(98099),_=c(17309);function streamXOR(t,i,c,v,P){if(void 0===P&&(P=0),32!==t.length)throw Error("ChaCha: key size must be 32 bytes");if(v.length<c.length)throw Error("ChaCha: destination is shorter than source");if(0===P){if(8!==i.length&&12!==i.length)throw Error("ChaCha nonce must be 8 or 12 bytes");k=(U=new Uint8Array(16)).length-i.length,U.set(i,k)}else{if(16!==i.length)throw Error("ChaCha nonce with counter must be 16 bytes");U=i,k=P}for(var U,k,B=new Uint8Array(64),W=0;W<c.length;W+=64){!function(t,i,c){for(var _=c[3]<<24|c[2]<<16|c[1]<<8|c[0],v=c[7]<<24|c[6]<<16|c[5]<<8|c[4],P=c[11]<<24|c[10]<<16|c[9]<<8|c[8],U=c[15]<<24|c[14]<<16|c[13]<<8|c[12],k=c[19]<<24|c[18]<<16|c[17]<<8|c[16],B=c[23]<<24|c[22]<<16|c[21]<<8|c[20],W=c[27]<<24|c[26]<<16|c[25]<<8|c[24],J=c[31]<<24|c[30]<<16|c[29]<<8|c[28],X=i[3]<<24|i[2]<<16|i[1]<<8|i[0],Q=i[7]<<24|i[6]<<16|i[5]<<8|i[4],er=i[11]<<24|i[10]<<16|i[9]<<8|i[8],es=i[15]<<24|i[14]<<16|i[13]<<8|i[12],eo=1634760805,ea=857760878,ec=2036477234,el=1797285236,eh=_,ef=v,ed=P,ep=U,eg=k,e_=B,ey=W,ev=J,em=X,eb=Q,ew=er,eE=es,eD=0;eD<20;eD+=2)em^=eo=eo+eh|0,eh^=eg=eg+(em=em>>>16|em<<16)|0,eh=eh>>>20|eh<<12,eb^=ea=ea+ef|0,ef^=e_=e_+(eb=eb>>>16|eb<<16)|0,ef=ef>>>20|ef<<12,ew^=ec=ec+ed|0,ed^=ey=ey+(ew=ew>>>16|ew<<16)|0,ed=ed>>>20|ed<<12,eE^=el=el+ep|0,ep^=ev=ev+(eE=eE>>>16|eE<<16)|0,ep=ep>>>20|ep<<12,ew^=ec=ec+ed|0,ed^=ey=ey+(ew=ew>>>24|ew<<8)|0,ed=ed>>>25|ed<<7,eE^=el=el+ep|0,ep^=ev=ev+(eE=eE>>>24|eE<<8)|0,ep=ep>>>25|ep<<7,eb^=ea=ea+ef|0,ef^=e_=e_+(eb=eb>>>24|eb<<8)|0,ef=ef>>>25|ef<<7,em^=eo=eo+eh|0,eh^=eg=eg+(em=em>>>24|em<<8)|0,eh=eh>>>25|eh<<7,eE^=eo=eo+ef|0,ef^=ey=ey+(eE=eE>>>16|eE<<16)|0,ef=ef>>>20|ef<<12,em^=ea=ea+ed|0,ed^=ev=ev+(em=em>>>16|em<<16)|0,ed=ed>>>20|ed<<12,eb^=ec=ec+ep|0,ep^=eg=eg+(eb=eb>>>16|eb<<16)|0,ep=ep>>>20|ep<<12,ew^=el=el+eh|0,eh^=e_=e_+(ew=ew>>>16|ew<<16)|0,eh=eh>>>20|eh<<12,eb^=ec=ec+ep|0,ep^=eg=eg+(eb=eb>>>24|eb<<8)|0,ep=ep>>>25|ep<<7,ew^=el=el+eh|0,eh^=e_=e_+(ew=ew>>>24|ew<<8)|0,eh=eh>>>25|eh<<7,em^=ea=ea+ed|0,ed^=ev=ev+(em=em>>>24|em<<8)|0,ed=ed>>>25|ed<<7,eE^=eo=eo+ef|0,ef^=ey=ey+(eE=eE>>>24|eE<<8)|0,ef=ef>>>25|ef<<7;l.writeUint32LE(eo+1634760805|0,t,0),l.writeUint32LE(ea+857760878|0,t,4),l.writeUint32LE(ec+2036477234|0,t,8),l.writeUint32LE(el+1797285236|0,t,12),l.writeUint32LE(eh+_|0,t,16),l.writeUint32LE(ef+v|0,t,20),l.writeUint32LE(ed+P|0,t,24),l.writeUint32LE(ep+U|0,t,28),l.writeUint32LE(eg+k|0,t,32),l.writeUint32LE(e_+B|0,t,36),l.writeUint32LE(ey+W|0,t,40),l.writeUint32LE(ev+J|0,t,44),l.writeUint32LE(em+X|0,t,48),l.writeUint32LE(eb+Q|0,t,52),l.writeUint32LE(ew+er|0,t,56),l.writeUint32LE(eE+es|0,t,60)}(B,U,t);for(var J=W;J<W+64&&J<c.length;J++)v[J]=c[J]^B[J-W];!function(t,i,c){for(var l=1;c--;)l=l+(255&t[i])|0,t[i]=255&l,l>>>=8,i++;if(l>0)throw Error("ChaCha: counter overflow")}(U,0,k)}return _.wipe(B),0===P&&_.wipe(U),v}i.streamXOR=streamXOR,i.stream=function(t,i,c,l){return void 0===l&&(l=0),_.wipe(c),streamXOR(t,i,c,c,l)}},15501:function(t,i,c){"use strict";var l=c(25439),_=c(63027),v=c(17309),P=c(98099),U=c(4153);i.Cv=32,i.WH=12,i.pg=16;var k=new Uint8Array(16),B=function(){function ChaCha20Poly1305(t){if(this.nonceLength=i.WH,this.tagLength=i.pg,t.length!==i.Cv)throw Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(t)}return ChaCha20Poly1305.prototype.seal=function(t,i,c,_){if(t.length>16)throw Error("ChaCha20Poly1305: incorrect nonce length");var P,U=new Uint8Array(16);U.set(t,U.length-t.length);var k=new Uint8Array(32);l.stream(this._key,U,k,4);var B=i.length+this.tagLength;if(_){if(_.length!==B)throw Error("ChaCha20Poly1305: incorrect destination length");P=_}else P=new Uint8Array(B);return l.streamXOR(this._key,U,i,P,4),this._authenticate(P.subarray(P.length-this.tagLength,P.length),k,P.subarray(0,P.length-this.tagLength),c),v.wipe(U),P},ChaCha20Poly1305.prototype.open=function(t,i,c,_){if(t.length>16)throw Error("ChaCha20Poly1305: incorrect nonce length");if(i.length<this.tagLength)return null;var P,k=new Uint8Array(16);k.set(t,k.length-t.length);var B=new Uint8Array(32);l.stream(this._key,k,B,4);var W=new Uint8Array(this.tagLength);if(this._authenticate(W,B,i.subarray(0,i.length-this.tagLength),c),!U.equal(W,i.subarray(i.length-this.tagLength,i.length)))return null;var J=i.length-this.tagLength;if(_){if(_.length!==J)throw Error("ChaCha20Poly1305: incorrect destination length");P=_}else P=new Uint8Array(J);return l.streamXOR(this._key,k,i.subarray(0,i.length-this.tagLength),P,4),v.wipe(k),P},ChaCha20Poly1305.prototype.clean=function(){return v.wipe(this._key),this},ChaCha20Poly1305.prototype._authenticate=function(t,i,c,l){var U=new _.Poly1305(i);l&&(U.update(l),l.length%16>0&&U.update(k.subarray(l.length%16))),U.update(c),c.length%16>0&&U.update(k.subarray(c.length%16));var B=new Uint8Array(8);l&&P.writeUint64LE(l.length,B),U.update(B),P.writeUint64LE(c.length,B),U.update(B);for(var W=U.digest(),J=0;J<W.length;J++)t[J]=W[J];U.clean(),v.wipe(W),v.wipe(B)},ChaCha20Poly1305}();i.OK=B},4153:function(t,i){"use strict";function compare(t,i){if(t.length!==i.length)return 0;for(var c=0,l=0;l<t.length;l++)c|=t[l]^i[l];return 1&c-1>>>8}Object.defineProperty(i,"__esModule",{value:!0}),i.select=function(t,i,c){return~(t-1)&i|t-1&c},i.lessOrEqual=function(t,i){return(0|t)-(0|i)-1>>>31&1},i.compare=compare,i.equal=function(t,i){return 0!==t.length&&0!==i.length&&0!==compare(t,i)}},31050:function(t,i,c){"use strict";i.Xx=i._w=i.aP=i.KS=i.jQ=void 0,c(31416);let l=c(93350);function gf(t){let i=new Float64Array(16);if(t)for(let c=0;c<t.length;c++)i[c]=t[c];return i}c(17309),i.jQ=64,i.KS=64,i.aP=32;let _=new Uint8Array(32);_[0]=9;let v=gf(),P=gf([1]),U=(gf([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),gf([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222])),k=gf([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),B=gf([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]);function set25519(t,i){for(let c=0;c<16;c++)t[c]=0|i[c]}function car25519(t){let i=1;for(let c=0;c<16;c++){let l=t[c]+i+65535;i=Math.floor(l/65536),t[c]=l-65536*i}t[0]+=i-1+37*(i-1)}function sel25519(t,i,c){let l=~(c-1);for(let c=0;c<16;c++){let _=l&(t[c]^i[c]);t[c]^=_,i[c]^=_}}function pack25519(t,i){let c=gf(),l=gf();for(let t=0;t<16;t++)l[t]=i[t];car25519(l),car25519(l),car25519(l);for(let t=0;t<2;t++){c[0]=l[0]-65517;for(let t=1;t<15;t++)c[t]=l[t]-65535-(c[t-1]>>16&1),c[t-1]&=65535;c[15]=l[15]-32767-(c[14]>>16&1);let t=c[15]>>16&1;c[14]&=65535,sel25519(l,c,1-t)}for(let i=0;i<16;i++)t[2*i]=255&l[i],t[2*i+1]=l[i]>>8}gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function add(t,i,c){for(let l=0;l<16;l++)t[l]=i[l]+c[l]}function sub(t,i,c){for(let l=0;l<16;l++)t[l]=i[l]-c[l]}function mul(t,i,c){let l,_,v=0,P=0,U=0,k=0,B=0,W=0,J=0,X=0,Q=0,er=0,es=0,eo=0,ea=0,ec=0,el=0,eh=0,ef=0,ed=0,ep=0,eg=0,e_=0,ey=0,ev=0,em=0,eb=0,ew=0,eE=0,eD=0,eS=0,ex=0,eI=0,eO=c[0],eP=c[1],eC=c[2],eA=c[3],eR=c[4],eN=c[5],eT=c[6],ej=c[7],eL=c[8],eU=c[9],eM=c[10],ek=c[11],e$=c[12],ez=c[13],eH=c[14],eB=c[15];v+=(l=i[0])*eO,P+=l*eP,U+=l*eC,k+=l*eA,B+=l*eR,W+=l*eN,J+=l*eT,X+=l*ej,Q+=l*eL,er+=l*eU,es+=l*eM,eo+=l*ek,ea+=l*e$,ec+=l*ez,el+=l*eH,eh+=l*eB,P+=(l=i[1])*eO,U+=l*eP,k+=l*eC,B+=l*eA,W+=l*eR,J+=l*eN,X+=l*eT,Q+=l*ej,er+=l*eL,es+=l*eU,eo+=l*eM,ea+=l*ek,ec+=l*e$,el+=l*ez,eh+=l*eH,ef+=l*eB,U+=(l=i[2])*eO,k+=l*eP,B+=l*eC,W+=l*eA,J+=l*eR,X+=l*eN,Q+=l*eT,er+=l*ej,es+=l*eL,eo+=l*eU,ea+=l*eM,ec+=l*ek,el+=l*e$,eh+=l*ez,ef+=l*eH,ed+=l*eB,k+=(l=i[3])*eO,B+=l*eP,W+=l*eC,J+=l*eA,X+=l*eR,Q+=l*eN,er+=l*eT,es+=l*ej,eo+=l*eL,ea+=l*eU,ec+=l*eM,el+=l*ek,eh+=l*e$,ef+=l*ez,ed+=l*eH,ep+=l*eB,B+=(l=i[4])*eO,W+=l*eP,J+=l*eC,X+=l*eA,Q+=l*eR,er+=l*eN,es+=l*eT,eo+=l*ej,ea+=l*eL,ec+=l*eU,el+=l*eM,eh+=l*ek,ef+=l*e$,ed+=l*ez,ep+=l*eH,eg+=l*eB,W+=(l=i[5])*eO,J+=l*eP,X+=l*eC,Q+=l*eA,er+=l*eR,es+=l*eN,eo+=l*eT,ea+=l*ej,ec+=l*eL,el+=l*eU,eh+=l*eM,ef+=l*ek,ed+=l*e$,ep+=l*ez,eg+=l*eH,e_+=l*eB,J+=(l=i[6])*eO,X+=l*eP,Q+=l*eC,er+=l*eA,es+=l*eR,eo+=l*eN,ea+=l*eT,ec+=l*ej,el+=l*eL,eh+=l*eU,ef+=l*eM,ed+=l*ek,ep+=l*e$,eg+=l*ez,e_+=l*eH,ey+=l*eB,X+=(l=i[7])*eO,Q+=l*eP,er+=l*eC,es+=l*eA,eo+=l*eR,ea+=l*eN,ec+=l*eT,el+=l*ej,eh+=l*eL,ef+=l*eU,ed+=l*eM,ep+=l*ek,eg+=l*e$,e_+=l*ez,ey+=l*eH,ev+=l*eB,Q+=(l=i[8])*eO,er+=l*eP,es+=l*eC,eo+=l*eA,ea+=l*eR,ec+=l*eN,el+=l*eT,eh+=l*ej,ef+=l*eL,ed+=l*eU,ep+=l*eM,eg+=l*ek,e_+=l*e$,ey+=l*ez,ev+=l*eH,em+=l*eB,er+=(l=i[9])*eO,es+=l*eP,eo+=l*eC,ea+=l*eA,ec+=l*eR,el+=l*eN,eh+=l*eT,ef+=l*ej,ed+=l*eL,ep+=l*eU,eg+=l*eM,e_+=l*ek,ey+=l*e$,ev+=l*ez,em+=l*eH,eb+=l*eB,es+=(l=i[10])*eO,eo+=l*eP,ea+=l*eC,ec+=l*eA,el+=l*eR,eh+=l*eN,ef+=l*eT,ed+=l*ej,ep+=l*eL,eg+=l*eU,e_+=l*eM,ey+=l*ek,ev+=l*e$,em+=l*ez,eb+=l*eH,ew+=l*eB,eo+=(l=i[11])*eO,ea+=l*eP,ec+=l*eC,el+=l*eA,eh+=l*eR,ef+=l*eN,ed+=l*eT,ep+=l*ej,eg+=l*eL,e_+=l*eU,ey+=l*eM,ev+=l*ek,em+=l*e$,eb+=l*ez,ew+=l*eH,eE+=l*eB,ea+=(l=i[12])*eO,ec+=l*eP,el+=l*eC,eh+=l*eA,ef+=l*eR,ed+=l*eN,ep+=l*eT,eg+=l*ej,e_+=l*eL,ey+=l*eU,ev+=l*eM,em+=l*ek,eb+=l*e$,ew+=l*ez,eE+=l*eH,eD+=l*eB,ec+=(l=i[13])*eO,el+=l*eP,eh+=l*eC,ef+=l*eA,ed+=l*eR,ep+=l*eN,eg+=l*eT,e_+=l*ej,ey+=l*eL,ev+=l*eU,em+=l*eM,eb+=l*ek,ew+=l*e$,eE+=l*ez,eD+=l*eH,eS+=l*eB,el+=(l=i[14])*eO,eh+=l*eP,ef+=l*eC,ed+=l*eA,ep+=l*eR,eg+=l*eN,e_+=l*eT,ey+=l*ej,ev+=l*eL,em+=l*eU,eb+=l*eM,ew+=l*ek,eE+=l*e$,eD+=l*ez,eS+=l*eH,ex+=l*eB,eh+=(l=i[15])*eO,ef+=l*eP,ed+=l*eC,ep+=l*eA,eg+=l*eR,e_+=l*eN,ey+=l*eT,ev+=l*ej,em+=l*eL,eb+=l*eU,ew+=l*eM,eE+=l*ek,eD+=l*e$,eS+=l*ez,ex+=l*eH,eI+=l*eB,v+=38*ef,P+=38*ed,U+=38*ep,k+=38*eg,B+=38*e_,W+=38*ey,J+=38*ev,X+=38*em,Q+=38*eb,er+=38*ew,es+=38*eE,eo+=38*eD,ea+=38*eS,ec+=38*ex,el+=38*eI,_=Math.floor((l=v+(_=1)+65535)/65536),v=l-65536*_,_=Math.floor((l=P+_+65535)/65536),P=l-65536*_,_=Math.floor((l=U+_+65535)/65536),U=l-65536*_,_=Math.floor((l=k+_+65535)/65536),k=l-65536*_,_=Math.floor((l=B+_+65535)/65536),B=l-65536*_,_=Math.floor((l=W+_+65535)/65536),W=l-65536*_,_=Math.floor((l=J+_+65535)/65536),J=l-65536*_,_=Math.floor((l=X+_+65535)/65536),X=l-65536*_,_=Math.floor((l=Q+_+65535)/65536),Q=l-65536*_,_=Math.floor((l=er+_+65535)/65536),er=l-65536*_,_=Math.floor((l=es+_+65535)/65536),es=l-65536*_,_=Math.floor((l=eo+_+65535)/65536),eo=l-65536*_,_=Math.floor((l=ea+_+65535)/65536),ea=l-65536*_,_=Math.floor((l=ec+_+65535)/65536),ec=l-65536*_,_=Math.floor((l=el+_+65535)/65536),el=l-65536*_,_=Math.floor((l=eh+_+65535)/65536),eh=l-65536*_,v+=_-1+37*(_-1),_=Math.floor((l=v+(_=1)+65535)/65536),v=l-65536*_,_=Math.floor((l=P+_+65535)/65536),P=l-65536*_,_=Math.floor((l=U+_+65535)/65536),U=l-65536*_,_=Math.floor((l=k+_+65535)/65536),k=l-65536*_,_=Math.floor((l=B+_+65535)/65536),B=l-65536*_,_=Math.floor((l=W+_+65535)/65536),W=l-65536*_,_=Math.floor((l=J+_+65535)/65536),J=l-65536*_,_=Math.floor((l=X+_+65535)/65536),X=l-65536*_,_=Math.floor((l=Q+_+65535)/65536),Q=l-65536*_,_=Math.floor((l=er+_+65535)/65536),er=l-65536*_,_=Math.floor((l=es+_+65535)/65536),es=l-65536*_,_=Math.floor((l=eo+_+65535)/65536),eo=l-65536*_,_=Math.floor((l=ea+_+65535)/65536),ea=l-65536*_,_=Math.floor((l=ec+_+65535)/65536),ec=l-65536*_,_=Math.floor((l=el+_+65535)/65536),el=l-65536*_,_=Math.floor((l=eh+_+65535)/65536),eh=l-65536*_,v+=_-1+37*(_-1),t[0]=v,t[1]=P,t[2]=U,t[3]=k,t[4]=B,t[5]=W,t[6]=J,t[7]=X,t[8]=Q,t[9]=er,t[10]=es,t[11]=eo,t[12]=ea,t[13]=ec,t[14]=el,t[15]=eh}function edadd(t,i){let c=gf(),l=gf(),_=gf(),v=gf(),P=gf(),k=gf(),B=gf(),W=gf(),J=gf();sub(c,t[1],t[0]),sub(J,i[1],i[0]),mul(c,c,J),add(l,t[0],t[1]),add(J,i[0],i[1]),mul(l,l,J),mul(_,t[3],i[3]),mul(_,_,U),mul(v,t[2],i[2]),add(v,v,v),sub(P,l,c),sub(k,v,_),add(B,v,_),add(W,l,c),mul(t[0],P,k),mul(t[1],W,B),mul(t[2],B,k),mul(t[3],P,W)}function cswap(t,i,c){for(let l=0;l<4;l++)sel25519(t[l],i[l],c)}function pack(t,i){let c=gf(),l=gf(),_=gf();(function(t,i){let c;let l=gf();for(c=0;c<16;c++)l[c]=i[c];for(c=253;c>=0;c--)mul(l,l,l),2!==c&&4!==c&&mul(l,l,i);for(c=0;c<16;c++)t[c]=l[c]})(_,i[2]),mul(c,i[0],_),mul(l,i[1],_),pack25519(t,l),t[31]^=function(t){let i=new Uint8Array(32);return pack25519(i,t),1&i[0]}(c)<<7}function scalarbase(t,i){let c=[gf(),gf(),gf(),gf()];set25519(c[0],k),set25519(c[1],B),set25519(c[2],P),mul(c[3],k,B),function(t,i,c){set25519(t[0],v),set25519(t[1],P),set25519(t[2],P),set25519(t[3],v);for(let l=255;l>=0;--l){let _=c[l/8|0]>>(7&l)&1;cswap(t,i,_),edadd(i,t),edadd(t,t),cswap(t,i,_)}}(t,c,i)}i._w=function(t){if(t.length!==i.aP)throw Error(`ed25519: seed must be ${i.aP} bytes`);let c=(0,l.hash)(t);c[0]&=248,c[31]&=127,c[31]|=64;let _=new Uint8Array(32),v=[gf(),gf(),gf(),gf()];scalarbase(v,c),pack(_,v);let P=new Uint8Array(64);return P.set(t),P.set(_,32),{publicKey:_,secretKey:P}};let W=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function modL(t,i){let c,l,_,v;for(l=63;l>=32;--l){for(c=0,_=l-32,v=l-12;_<v;++_)i[_]+=c-16*i[l]*W[_-(l-32)],c=Math.floor((i[_]+128)/256),i[_]-=256*c;i[_]+=c,i[l]=0}for(_=0,c=0;_<32;_++)i[_]+=c-(i[31]>>4)*W[_],c=i[_]>>8,i[_]&=255;for(_=0;_<32;_++)i[_]-=c*W[_];for(l=0;l<32;l++)i[l+1]+=i[l]>>8,t[l]=255&i[l]}function reduce(t){let i=new Float64Array(64);for(let c=0;c<64;c++)i[c]=t[c];for(let i=0;i<64;i++)t[i]=0;modL(t,i)}i.Xx=function(t,i){let c=new Float64Array(64),_=[gf(),gf(),gf(),gf()],v=(0,l.hash)(t.subarray(0,32));v[0]&=248,v[31]&=127,v[31]|=64;let P=new Uint8Array(64);P.set(v.subarray(32),32);let U=new l.SHA512;U.update(P.subarray(32)),U.update(i);let k=U.digest();U.clean(),reduce(k),scalarbase(_,k),pack(P,_),U.reset(),U.update(P.subarray(0,32)),U.update(t.subarray(32)),U.update(i);let B=U.digest();reduce(B);for(let t=0;t<32;t++)c[t]=k[t];for(let t=0;t<32;t++)for(let i=0;i<32;i++)c[t+i]+=B[t]*v[i];return modL(P.subarray(32),c),P}},79984:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.isSerializableHash=function(t){return void 0!==t.saveState&&void 0!==t.restoreState&&void 0!==t.cleanSavedState}},512:function(t,i,c){"use strict";var l=c(25629),_=c(17309),v=function(){function HKDF(t,i,c,_){void 0===c&&(c=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=t,this._info=_;var v=l.hmac(this._hash,c,i);this._hmac=new l.HMAC(t,v),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return HKDF.prototype._fillBuffer=function(){this._counter[0]++;var t=this._counter[0];if(0===t)throw Error("hkdf: cannot expand more");this._hmac.reset(),t>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},HKDF.prototype.expand=function(t){for(var i=new Uint8Array(t),c=0;c<i.length;c++)this._bufpos===this._buffer.length&&this._fillBuffer(),i[c]=this._buffer[this._bufpos++];return i},HKDF.prototype.clean=function(){this._hmac.clean(),_.wipe(this._buffer),_.wipe(this._counter),this._bufpos=0},HKDF}();i.t=v},25629:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=c(79984),_=c(4153),v=c(17309),P=function(){function HMAC(t,i){this._finished=!1,this._inner=new t,this._outer=new t,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var c=new Uint8Array(this.blockSize);i.length>this.blockSize?this._inner.update(i).finish(c).clean():c.set(i);for(var _=0;_<c.length;_++)c[_]^=54;this._inner.update(c);for(var _=0;_<c.length;_++)c[_]^=106;this._outer.update(c),l.isSerializableHash(this._inner)&&l.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),v.wipe(c)}return HMAC.prototype.reset=function(){if(!l.isSerializableHash(this._inner)||!l.isSerializableHash(this._outer))throw Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},HMAC.prototype.clean=function(){l.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),l.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},HMAC.prototype.update=function(t){return this._inner.update(t),this},HMAC.prototype.finish=function(t){return this._finished?this._outer.finish(t):(this._inner.finish(t),this._outer.update(t.subarray(0,this.digestLength)).finish(t),this._finished=!0),this},HMAC.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},HMAC.prototype.saveState=function(){if(!l.isSerializableHash(this._inner))throw Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},HMAC.prototype.restoreState=function(t){if(!l.isSerializableHash(this._inner)||!l.isSerializableHash(this._outer))throw Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(t),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},HMAC.prototype.cleanSavedState=function(t){if(!l.isSerializableHash(this._inner))throw Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(t)},HMAC}();i.HMAC=P,i.hmac=function(t,i,c){var l=new P(t,i);l.update(c);var _=l.digest();return l.clean(),_},i.equal=_.equal},97117:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.mul=Math.imul||function(t,i){var c=65535&t,l=65535&i;return c*l+((t>>>16&65535)*l+c*(i>>>16&65535)<<16>>>0)|0},i.add=function(t,i){return t+i|0},i.sub=function(t,i){return t-i|0},i.rotl=function(t,i){return t<<i|t>>>32-i},i.rotr=function(t,i){return t<<32-i|t>>>i},i.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},i.MAX_SAFE_INTEGER=9007199254740991,i.isSafeInteger=function(t){return i.isInteger(t)&&t>=-i.MAX_SAFE_INTEGER&&t<=i.MAX_SAFE_INTEGER}},63027:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=c(4153),_=c(17309);i.DIGEST_LENGTH=16;var v=function(){function Poly1305(t){this.digestLength=i.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var c=t[0]|t[1]<<8;this._r[0]=8191&c;var l=t[2]|t[3]<<8;this._r[1]=(c>>>13|l<<3)&8191;var _=t[4]|t[5]<<8;this._r[2]=(l>>>10|_<<6)&7939;var v=t[6]|t[7]<<8;this._r[3]=(_>>>7|v<<9)&8191;var P=t[8]|t[9]<<8;this._r[4]=(v>>>4|P<<12)&255,this._r[5]=P>>>1&8190;var U=t[10]|t[11]<<8;this._r[6]=(P>>>14|U<<2)&8191;var k=t[12]|t[13]<<8;this._r[7]=(U>>>11|k<<5)&8065;var B=t[14]|t[15]<<8;this._r[8]=(k>>>8|B<<8)&8191,this._r[9]=B>>>5&127,this._pad[0]=t[16]|t[17]<<8,this._pad[1]=t[18]|t[19]<<8,this._pad[2]=t[20]|t[21]<<8,this._pad[3]=t[22]|t[23]<<8,this._pad[4]=t[24]|t[25]<<8,this._pad[5]=t[26]|t[27]<<8,this._pad[6]=t[28]|t[29]<<8,this._pad[7]=t[30]|t[31]<<8}return Poly1305.prototype._blocks=function(t,i,c){for(var l=this._fin?0:2048,_=this._h[0],v=this._h[1],P=this._h[2],U=this._h[3],k=this._h[4],B=this._h[5],W=this._h[6],J=this._h[7],X=this._h[8],Q=this._h[9],er=this._r[0],es=this._r[1],eo=this._r[2],ea=this._r[3],ec=this._r[4],el=this._r[5],eh=this._r[6],ef=this._r[7],ed=this._r[8],ep=this._r[9];c>=16;){var eg,e_=t[i+0]|t[i+1]<<8;_+=8191&e_;var ey=t[i+2]|t[i+3]<<8;v+=(e_>>>13|ey<<3)&8191;var ev=t[i+4]|t[i+5]<<8;P+=(ey>>>10|ev<<6)&8191;var em=t[i+6]|t[i+7]<<8;U+=(ev>>>7|em<<9)&8191;var eb=t[i+8]|t[i+9]<<8;k+=(em>>>4|eb<<12)&8191,B+=eb>>>1&8191;var ew=t[i+10]|t[i+11]<<8;W+=(eb>>>14|ew<<2)&8191;var eE=t[i+12]|t[i+13]<<8;J+=(ew>>>11|eE<<5)&8191;var eD=t[i+14]|t[i+15]<<8;X+=(eE>>>8|eD<<8)&8191,Q+=eD>>>5|l;var eS=0;eS=(eg=0+_*er+v*(5*ep)+P*(5*ed)+U*(5*ef)+k*(5*eh))>>>13,eg&=8191,eg+=B*(5*el)+W*(5*ec)+J*(5*ea)+X*(5*eo)+Q*(5*es),eS+=eg>>>13,eg&=8191;var ex=eS;ex+=_*es+v*er+P*(5*ep)+U*(5*ed)+k*(5*ef),eS=ex>>>13,ex&=8191,ex+=B*(5*eh)+W*(5*el)+J*(5*ec)+X*(5*ea)+Q*(5*eo),eS+=ex>>>13,ex&=8191;var eI=eS;eI+=_*eo+v*es+P*er+U*(5*ep)+k*(5*ed),eS=eI>>>13,eI&=8191,eI+=B*(5*ef)+W*(5*eh)+J*(5*el)+X*(5*ec)+Q*(5*ea),eS+=eI>>>13,eI&=8191;var eO=eS;eO+=_*ea+v*eo+P*es+U*er+k*(5*ep),eS=eO>>>13,eO&=8191,eO+=B*(5*ed)+W*(5*ef)+J*(5*eh)+X*(5*el)+Q*(5*ec),eS+=eO>>>13,eO&=8191;var eP=eS;eP+=_*ec+v*ea+P*eo+U*es+k*er,eS=eP>>>13,eP&=8191,eP+=B*(5*ep)+W*(5*ed)+J*(5*ef)+X*(5*eh)+Q*(5*el),eS+=eP>>>13,eP&=8191;var eC=eS;eC+=_*el+v*ec+P*ea+U*eo+k*es,eS=eC>>>13,eC&=8191,eC+=B*er+W*(5*ep)+J*(5*ed)+X*(5*ef)+Q*(5*eh),eS+=eC>>>13,eC&=8191;var eA=eS;eA+=_*eh+v*el+P*ec+U*ea+k*eo,eS=eA>>>13,eA&=8191,eA+=B*es+W*er+J*(5*ep)+X*(5*ed)+Q*(5*ef),eS+=eA>>>13,eA&=8191;var eR=eS;eR+=_*ef+v*eh+P*el+U*ec+k*ea,eS=eR>>>13,eR&=8191,eR+=B*eo+W*es+J*er+X*(5*ep)+Q*(5*ed),eS+=eR>>>13,eR&=8191;var eN=eS;eN+=_*ed+v*ef+P*eh+U*el+k*ec,eS=eN>>>13,eN&=8191,eN+=B*ea+W*eo+J*es+X*er+Q*(5*ep),eS+=eN>>>13,eN&=8191;var eT=eS;eT+=_*ep+v*ed+P*ef+U*eh+k*el,eS=eT>>>13,eT&=8191,eT+=B*ec+W*ea+J*eo+X*es+Q*er,eS+=eT>>>13,eT&=8191,eg=8191&(eS=(eS=(eS<<2)+eS|0)+eg|0),eS>>>=13,ex+=eS,_=eg,v=ex,P=eI,U=eO,k=eP,B=eC,W=eA,J=eR,X=eN,Q=eT,i+=16,c-=16}this._h[0]=_,this._h[1]=v,this._h[2]=P,this._h[3]=U,this._h[4]=k,this._h[5]=B,this._h[6]=W,this._h[7]=J,this._h[8]=X,this._h[9]=Q},Poly1305.prototype.finish=function(t,i){void 0===i&&(i=0);var c,l,_,v,P=new Uint16Array(10);if(this._leftover){for(v=this._leftover,this._buffer[v++]=1;v<16;v++)this._buffer[v]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(c=this._h[1]>>>13,this._h[1]&=8191,v=2;v<10;v++)this._h[v]+=c,c=this._h[v]>>>13,this._h[v]&=8191;for(this._h[0]+=5*c,c=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=c,c=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=c,P[0]=this._h[0]+5,c=P[0]>>>13,P[0]&=8191,v=1;v<10;v++)P[v]=this._h[v]+c,c=P[v]>>>13,P[v]&=8191;for(P[9]-=8192,l=(1^c)-1,v=0;v<10;v++)P[v]&=l;for(v=0,l=~l;v<10;v++)this._h[v]=this._h[v]&l|P[v];for(v=1,this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,_=this._h[0]+this._pad[0],this._h[0]=65535&_;v<8;v++)_=(this._h[v]+this._pad[v]|0)+(_>>>16)|0,this._h[v]=65535&_;return t[i+0]=this._h[0]>>>0,t[i+1]=this._h[0]>>>8,t[i+2]=this._h[1]>>>0,t[i+3]=this._h[1]>>>8,t[i+4]=this._h[2]>>>0,t[i+5]=this._h[2]>>>8,t[i+6]=this._h[3]>>>0,t[i+7]=this._h[3]>>>8,t[i+8]=this._h[4]>>>0,t[i+9]=this._h[4]>>>8,t[i+10]=this._h[5]>>>0,t[i+11]=this._h[5]>>>8,t[i+12]=this._h[6]>>>0,t[i+13]=this._h[6]>>>8,t[i+14]=this._h[7]>>>0,t[i+15]=this._h[7]>>>8,this._finished=!0,this},Poly1305.prototype.update=function(t){var i,c=0,l=t.length;if(this._leftover){(i=16-this._leftover)>l&&(i=l);for(var _=0;_<i;_++)this._buffer[this._leftover+_]=t[c+_];if(l-=i,c+=i,this._leftover+=i,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(l>=16&&(i=l-l%16,this._blocks(t,c,i),c+=i,l-=i),l){for(var _=0;_<l;_++)this._buffer[this._leftover+_]=t[c+_];this._leftover+=l}return this},Poly1305.prototype.digest=function(){if(this._finished)throw Error("Poly1305 was finished");var t=new Uint8Array(16);return this.finish(t),t},Poly1305.prototype.clean=function(){return _.wipe(this._buffer),_.wipe(this._r),_.wipe(this._h),_.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},Poly1305}();i.Poly1305=v,i.oneTimeAuth=function(t,i){var c=new v(t);c.update(i);var l=c.digest();return c.clean(),l},i.equal=function(t,c){return t.length===i.DIGEST_LENGTH&&c.length===i.DIGEST_LENGTH&&l.equal(t,c)}},31416:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.randomStringForEntropy=i.randomString=i.randomUint32=i.randomBytes=i.defaultRandomSource=void 0;let l=c(46008),_=c(98099),v=c(17309);function randomBytes(t,c=i.defaultRandomSource){return c.randomBytes(t)}i.defaultRandomSource=new l.SystemRandomSource,i.randomBytes=randomBytes,i.randomUint32=function(t=i.defaultRandomSource){let c=randomBytes(4,t),l=(0,_.readUint32LE)(c);return(0,v.wipe)(c),l};let P="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function randomString(t,c=P,l=i.defaultRandomSource){if(c.length<2)throw Error("randomString charset is too short");if(c.length>256)throw Error("randomString charset is too long");let _="",U=c.length,k=256-256%U;for(;t>0;){let i=randomBytes(Math.ceil(256*t/k),l);for(let l=0;l<i.length&&t>0;l++){let v=i[l];v<k&&(_+=c.charAt(v%U),t--)}(0,v.wipe)(i)}return _}i.randomString=randomString,i.randomStringForEntropy=function(t,c=P,l=i.defaultRandomSource){let _=Math.ceil(t/(Math.log(c.length)/Math.LN2));return randomString(_,c,l)}},75455:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BrowserRandomSource=void 0,i.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let t="undefined"!=typeof self?self.crypto||self.msCrypto:null;t&&void 0!==t.getRandomValues&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw Error("Browser random byte generator is not available.");let i=new Uint8Array(t);for(let t=0;t<i.length;t+=65536)this._crypto.getRandomValues(i.subarray(t,t+Math.min(i.length-t,65536)));return i}}},58871:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.NodeRandomSource=void 0;let l=c(17309);i.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{let t=c(35883);t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw Error("Node.js random byte generator is not available.");let i=this._crypto.randomBytes(t);if(i.length!==t)throw Error("NodeRandomSource: got fewer bytes than requested");let c=new Uint8Array(t);for(let t=0;t<c.length;t++)c[t]=i[t];return(0,l.wipe)(i),c}}},46008:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.SystemRandomSource=void 0;let l=c(75455),_=c(58871);i.SystemRandomSource=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new l.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new _.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(t){if(!this.isAvailable)throw Error("System random byte generator is not available.");return this._source.randomBytes(t)}}},73294:function(t,i,c){"use strict";var l=c(98099),_=c(17309);i.k=32,i.cn=64;var v=function(){function SHA256(){this.digestLength=i.k,this.blockSize=i.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return SHA256.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},SHA256.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},SHA256.prototype.clean=function(){_.wipe(this._buffer),_.wipe(this._temp),this.reset()},SHA256.prototype.update=function(t,i){if(void 0===i&&(i=t.length),this._finished)throw Error("SHA256: can't update because hash was finished.");var c=0;if(this._bytesHashed+=i,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&i>0;)this._buffer[this._bufferLength++]=t[c++],i--;this._bufferLength===this.blockSize&&(hashBlocks(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(i>=this.blockSize&&(c=hashBlocks(this._temp,this._state,t,c,i),i%=this.blockSize);i>0;)this._buffer[this._bufferLength++]=t[c++],i--;return this},SHA256.prototype.finish=function(t){if(!this._finished){var i=this._bytesHashed,c=this._bufferLength,_=i%64<56?64:128;this._buffer[c]=128;for(var v=c+1;v<_-8;v++)this._buffer[v]=0;l.writeUint32BE(i/536870912|0,this._buffer,_-8),l.writeUint32BE(i<<3,this._buffer,_-4),hashBlocks(this._temp,this._state,this._buffer,0,_),this._finished=!0}for(var v=0;v<this.digestLength/4;v++)l.writeUint32BE(this._state[v],t,4*v);return this},SHA256.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},SHA256.prototype.saveState=function(){if(this._finished)throw Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},SHA256.prototype.restoreState=function(t){return this._state.set(t.state),this._bufferLength=t.bufferLength,t.buffer&&this._buffer.set(t.buffer),this._bytesHashed=t.bytesHashed,this._finished=!1,this},SHA256.prototype.cleanSavedState=function(t){_.wipe(t.state),t.buffer&&_.wipe(t.buffer),t.bufferLength=0,t.bytesHashed=0},SHA256}();i.mE=v;var P=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function hashBlocks(t,i,c,_,v){for(;v>=64;){for(var U=i[0],k=i[1],B=i[2],W=i[3],J=i[4],X=i[5],Q=i[6],er=i[7],es=0;es<16;es++){var eo=_+4*es;t[es]=l.readUint32BE(c,eo)}for(var es=16;es<64;es++){var ea=t[es-2],ec=(ea>>>17|ea<<15)^(ea>>>19|ea<<13)^ea>>>10,el=((ea=t[es-15])>>>7|ea<<25)^(ea>>>18|ea<<14)^ea>>>3;t[es]=(ec+t[es-7]|0)+(el+t[es-16]|0)}for(var es=0;es<64;es++){var ec=(((J>>>6|J<<26)^(J>>>11|J<<21)^(J>>>25|J<<7))+(J&X^~J&Q)|0)+(er+(P[es]+t[es]|0)|0)|0,el=((U>>>2|U<<30)^(U>>>13|U<<19)^(U>>>22|U<<10))+(U&k^U&B^k&B)|0;er=Q,Q=X,X=J,J=W+ec|0,W=B,B=k,k=U,U=ec+el|0}i[0]+=U,i[1]+=k,i[2]+=B,i[3]+=W,i[4]+=J,i[5]+=X,i[6]+=Q,i[7]+=er,_+=64,v-=64}return _}i.vp=function(t){var i=new v;i.update(t);var c=i.digest();return i.clean(),c}},93350:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=c(98099),_=c(17309);i.DIGEST_LENGTH=64,i.BLOCK_SIZE=128;var v=function(){function SHA512(){this.digestLength=i.DIGEST_LENGTH,this.blockSize=i.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return SHA512.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},SHA512.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},SHA512.prototype.clean=function(){_.wipe(this._buffer),_.wipe(this._tempHi),_.wipe(this._tempLo),this.reset()},SHA512.prototype.update=function(t,c){if(void 0===c&&(c=t.length),this._finished)throw Error("SHA512: can't update because hash was finished.");var l=0;if(this._bytesHashed+=c,this._bufferLength>0){for(;this._bufferLength<i.BLOCK_SIZE&&c>0;)this._buffer[this._bufferLength++]=t[l++],c--;this._bufferLength===this.blockSize&&(hashBlocks(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(c>=this.blockSize&&(l=hashBlocks(this._tempHi,this._tempLo,this._stateHi,this._stateLo,t,l,c),c%=this.blockSize);c>0;)this._buffer[this._bufferLength++]=t[l++],c--;return this},SHA512.prototype.finish=function(t){if(!this._finished){var i=this._bytesHashed,c=this._bufferLength,_=i%128<112?128:256;this._buffer[c]=128;for(var v=c+1;v<_-8;v++)this._buffer[v]=0;l.writeUint32BE(i/536870912|0,this._buffer,_-8),l.writeUint32BE(i<<3,this._buffer,_-4),hashBlocks(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,_),this._finished=!0}for(var v=0;v<this.digestLength/8;v++)l.writeUint32BE(this._stateHi[v],t,8*v),l.writeUint32BE(this._stateLo[v],t,8*v+4);return this},SHA512.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},SHA512.prototype.saveState=function(){if(this._finished)throw Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},SHA512.prototype.restoreState=function(t){return this._stateHi.set(t.stateHi),this._stateLo.set(t.stateLo),this._bufferLength=t.bufferLength,t.buffer&&this._buffer.set(t.buffer),this._bytesHashed=t.bytesHashed,this._finished=!1,this},SHA512.prototype.cleanSavedState=function(t){_.wipe(t.stateHi),_.wipe(t.stateLo),t.buffer&&_.wipe(t.buffer),t.bufferLength=0,t.bytesHashed=0},SHA512}();i.SHA512=v;var P=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function hashBlocks(t,i,c,_,v,U,k){for(var B,W,J,X,Q,er,es,eo,ea=c[0],ec=c[1],el=c[2],eh=c[3],ef=c[4],ed=c[5],ep=c[6],eg=c[7],e_=_[0],ey=_[1],ev=_[2],em=_[3],eb=_[4],ew=_[5],eE=_[6],eD=_[7];k>=128;){for(var eS=0;eS<16;eS++){var ex=8*eS+U;t[eS]=l.readUint32BE(v,ex),i[eS]=l.readUint32BE(v,ex+4)}for(var eS=0;eS<80;eS++){var eI=ea,eO=ec,eP=el,eC=eh,eA=ef,eR=ed,eN=ep,eT=eg,ej=e_,eL=ey,eU=ev,eM=em,ek=eb,e$=ew,ez=eE,eH=eD;if(B=eg,Q=65535&(W=eD),er=W>>>16,es=65535&B,eo=B>>>16,B=(ef>>>14|eb<<18)^(ef>>>18|eb<<14)^(eb>>>9|ef<<23),Q+=65535&(W=(eb>>>14|ef<<18)^(eb>>>18|ef<<14)^(ef>>>9|eb<<23)),er+=W>>>16,es+=65535&B,eo+=B>>>16,B=ef&ed^~ef&ep,Q+=65535&(W=eb&ew^~eb&eE),er+=W>>>16,es+=65535&B,eo+=B>>>16,B=P[2*eS],Q+=65535&(W=P[2*eS+1]),er+=W>>>16,es+=65535&B,eo+=B>>>16,B=t[eS%16],Q+=65535&(W=i[eS%16]),er+=W>>>16,es+=65535&B,eo+=B>>>16,er+=Q>>>16,es+=er>>>16,eo+=es>>>16,J=65535&es|eo<<16,X=65535&Q|er<<16,B=J,Q=65535&(W=X),er=W>>>16,es=65535&B,eo=B>>>16,B=(ea>>>28|e_<<4)^(e_>>>2|ea<<30)^(e_>>>7|ea<<25),Q+=65535&(W=(e_>>>28|ea<<4)^(ea>>>2|e_<<30)^(ea>>>7|e_<<25)),er+=W>>>16,es+=65535&B,eo+=B>>>16,B=ea&ec^ea&el^ec&el,Q+=65535&(W=e_&ey^e_&ev^ey&ev),er+=W>>>16,es+=65535&B,eo+=B>>>16,er+=Q>>>16,es+=er>>>16,eo+=es>>>16,eT=65535&es|eo<<16,eH=65535&Q|er<<16,B=eC,Q=65535&(W=eM),er=W>>>16,es=65535&B,eo=B>>>16,B=J,Q+=65535&(W=X),er+=W>>>16,es+=65535&B,eo+=B>>>16,er+=Q>>>16,es+=er>>>16,eo+=es>>>16,eC=65535&es|eo<<16,eM=65535&Q|er<<16,ec=eI,el=eO,eh=eP,ef=eC,ed=eA,ep=eR,eg=eN,ea=eT,ey=ej,ev=eL,em=eU,eb=eM,ew=ek,eE=e$,eD=ez,e_=eH,eS%16==15)for(var ex=0;ex<16;ex++)B=t[ex],Q=65535&(W=i[ex]),er=W>>>16,es=65535&B,eo=B>>>16,B=t[(ex+9)%16],Q+=65535&(W=i[(ex+9)%16]),er+=W>>>16,es+=65535&B,eo+=B>>>16,B=((J=t[(ex+1)%16])>>>1|(X=i[(ex+1)%16])<<31)^(J>>>8|X<<24)^J>>>7,Q+=65535&(W=(X>>>1|J<<31)^(X>>>8|J<<24)^(X>>>7|J<<25)),er+=W>>>16,es+=65535&B,eo+=B>>>16,B=((J=t[(ex+14)%16])>>>19|(X=i[(ex+14)%16])<<13)^(X>>>29|J<<3)^J>>>6,Q+=65535&(W=(X>>>19|J<<13)^(J>>>29|X<<3)^(X>>>6|J<<26)),er+=W>>>16,es+=65535&B,eo+=B>>>16,er+=Q>>>16,es+=er>>>16,eo+=es>>>16,t[ex]=65535&es|eo<<16,i[ex]=65535&Q|er<<16}B=ea,Q=65535&(W=e_),er=W>>>16,es=65535&B,eo=B>>>16,B=c[0],Q+=65535&(W=_[0]),er+=W>>>16,es+=65535&B,eo+=B>>>16,er+=Q>>>16,es+=er>>>16,eo+=es>>>16,c[0]=ea=65535&es|eo<<16,_[0]=e_=65535&Q|er<<16,B=ec,Q=65535&(W=ey),er=W>>>16,es=65535&B,eo=B>>>16,B=c[1],Q+=65535&(W=_[1]),er+=W>>>16,es+=65535&B,eo+=B>>>16,er+=Q>>>16,es+=er>>>16,eo+=es>>>16,c[1]=ec=65535&es|eo<<16,_[1]=ey=65535&Q|er<<16,B=el,Q=65535&(W=ev),er=W>>>16,es=65535&B,eo=B>>>16,B=c[2],Q+=65535&(W=_[2]),er+=W>>>16,es+=65535&B,eo+=B>>>16,er+=Q>>>16,es+=er>>>16,eo+=es>>>16,c[2]=el=65535&es|eo<<16,_[2]=ev=65535&Q|er<<16,B=eh,Q=65535&(W=em),er=W>>>16,es=65535&B,eo=B>>>16,B=c[3],Q+=65535&(W=_[3]),er+=W>>>16,es+=65535&B,eo+=B>>>16,er+=Q>>>16,es+=er>>>16,eo+=es>>>16,c[3]=eh=65535&es|eo<<16,_[3]=em=65535&Q|er<<16,B=ef,Q=65535&(W=eb),er=W>>>16,es=65535&B,eo=B>>>16,B=c[4],Q+=65535&(W=_[4]),er+=W>>>16,es+=65535&B,eo+=B>>>16,er+=Q>>>16,es+=er>>>16,eo+=es>>>16,c[4]=ef=65535&es|eo<<16,_[4]=eb=65535&Q|er<<16,B=ed,Q=65535&(W=ew),er=W>>>16,es=65535&B,eo=B>>>16,B=c[5],Q+=65535&(W=_[5]),er+=W>>>16,es+=65535&B,eo+=B>>>16,er+=Q>>>16,es+=er>>>16,eo+=es>>>16,c[5]=ed=65535&es|eo<<16,_[5]=ew=65535&Q|er<<16,B=ep,Q=65535&(W=eE),er=W>>>16,es=65535&B,eo=B>>>16,B=c[6],Q+=65535&(W=_[6]),er+=W>>>16,es+=65535&B,eo+=B>>>16,er+=Q>>>16,es+=er>>>16,eo+=es>>>16,c[6]=ep=65535&es|eo<<16,_[6]=eE=65535&Q|er<<16,B=eg,Q=65535&(W=eD),er=W>>>16,es=65535&B,eo=B>>>16,B=c[7],Q+=65535&(W=_[7]),er+=W>>>16,es+=65535&B,eo+=B>>>16,er+=Q>>>16,es+=er>>>16,eo+=es>>>16,c[7]=eg=65535&es|eo<<16,_[7]=eD=65535&Q|er<<16,U+=128,k-=128}return U}i.hash=function(t){var i=new v;i.update(t);var c=i.digest();return i.clean(),c}},17309:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.wipe=function(t){for(var i=0;i<t.length;i++)t[i]=0;return t}},57664:function(t,i,c){"use strict";i.gi=i.Au=i.KS=i.kz=void 0;let l=c(31416),_=c(17309);function gf(t){let i=new Float64Array(16);if(t)for(let c=0;c<t.length;c++)i[c]=t[c];return i}i.kz=32,i.KS=32;let v=new Uint8Array(32);v[0]=9;let P=gf([56129,1]);function car25519(t){let i=1;for(let c=0;c<16;c++){let l=t[c]+i+65535;i=Math.floor(l/65536),t[c]=l-65536*i}t[0]+=i-1+37*(i-1)}function sel25519(t,i,c){let l=~(c-1);for(let c=0;c<16;c++){let _=l&(t[c]^i[c]);t[c]^=_,i[c]^=_}}function add(t,i,c){for(let l=0;l<16;l++)t[l]=i[l]+c[l]}function sub(t,i,c){for(let l=0;l<16;l++)t[l]=i[l]-c[l]}function mul(t,i,c){let l,_,v=0,P=0,U=0,k=0,B=0,W=0,J=0,X=0,Q=0,er=0,es=0,eo=0,ea=0,ec=0,el=0,eh=0,ef=0,ed=0,ep=0,eg=0,e_=0,ey=0,ev=0,em=0,eb=0,ew=0,eE=0,eD=0,eS=0,ex=0,eI=0,eO=c[0],eP=c[1],eC=c[2],eA=c[3],eR=c[4],eN=c[5],eT=c[6],ej=c[7],eL=c[8],eU=c[9],eM=c[10],ek=c[11],e$=c[12],ez=c[13],eH=c[14],eB=c[15];v+=(l=i[0])*eO,P+=l*eP,U+=l*eC,k+=l*eA,B+=l*eR,W+=l*eN,J+=l*eT,X+=l*ej,Q+=l*eL,er+=l*eU,es+=l*eM,eo+=l*ek,ea+=l*e$,ec+=l*ez,el+=l*eH,eh+=l*eB,P+=(l=i[1])*eO,U+=l*eP,k+=l*eC,B+=l*eA,W+=l*eR,J+=l*eN,X+=l*eT,Q+=l*ej,er+=l*eL,es+=l*eU,eo+=l*eM,ea+=l*ek,ec+=l*e$,el+=l*ez,eh+=l*eH,ef+=l*eB,U+=(l=i[2])*eO,k+=l*eP,B+=l*eC,W+=l*eA,J+=l*eR,X+=l*eN,Q+=l*eT,er+=l*ej,es+=l*eL,eo+=l*eU,ea+=l*eM,ec+=l*ek,el+=l*e$,eh+=l*ez,ef+=l*eH,ed+=l*eB,k+=(l=i[3])*eO,B+=l*eP,W+=l*eC,J+=l*eA,X+=l*eR,Q+=l*eN,er+=l*eT,es+=l*ej,eo+=l*eL,ea+=l*eU,ec+=l*eM,el+=l*ek,eh+=l*e$,ef+=l*ez,ed+=l*eH,ep+=l*eB,B+=(l=i[4])*eO,W+=l*eP,J+=l*eC,X+=l*eA,Q+=l*eR,er+=l*eN,es+=l*eT,eo+=l*ej,ea+=l*eL,ec+=l*eU,el+=l*eM,eh+=l*ek,ef+=l*e$,ed+=l*ez,ep+=l*eH,eg+=l*eB,W+=(l=i[5])*eO,J+=l*eP,X+=l*eC,Q+=l*eA,er+=l*eR,es+=l*eN,eo+=l*eT,ea+=l*ej,ec+=l*eL,el+=l*eU,eh+=l*eM,ef+=l*ek,ed+=l*e$,ep+=l*ez,eg+=l*eH,e_+=l*eB,J+=(l=i[6])*eO,X+=l*eP,Q+=l*eC,er+=l*eA,es+=l*eR,eo+=l*eN,ea+=l*eT,ec+=l*ej,el+=l*eL,eh+=l*eU,ef+=l*eM,ed+=l*ek,ep+=l*e$,eg+=l*ez,e_+=l*eH,ey+=l*eB,X+=(l=i[7])*eO,Q+=l*eP,er+=l*eC,es+=l*eA,eo+=l*eR,ea+=l*eN,ec+=l*eT,el+=l*ej,eh+=l*eL,ef+=l*eU,ed+=l*eM,ep+=l*ek,eg+=l*e$,e_+=l*ez,ey+=l*eH,ev+=l*eB,Q+=(l=i[8])*eO,er+=l*eP,es+=l*eC,eo+=l*eA,ea+=l*eR,ec+=l*eN,el+=l*eT,eh+=l*ej,ef+=l*eL,ed+=l*eU,ep+=l*eM,eg+=l*ek,e_+=l*e$,ey+=l*ez,ev+=l*eH,em+=l*eB,er+=(l=i[9])*eO,es+=l*eP,eo+=l*eC,ea+=l*eA,ec+=l*eR,el+=l*eN,eh+=l*eT,ef+=l*ej,ed+=l*eL,ep+=l*eU,eg+=l*eM,e_+=l*ek,ey+=l*e$,ev+=l*ez,em+=l*eH,eb+=l*eB,es+=(l=i[10])*eO,eo+=l*eP,ea+=l*eC,ec+=l*eA,el+=l*eR,eh+=l*eN,ef+=l*eT,ed+=l*ej,ep+=l*eL,eg+=l*eU,e_+=l*eM,ey+=l*ek,ev+=l*e$,em+=l*ez,eb+=l*eH,ew+=l*eB,eo+=(l=i[11])*eO,ea+=l*eP,ec+=l*eC,el+=l*eA,eh+=l*eR,ef+=l*eN,ed+=l*eT,ep+=l*ej,eg+=l*eL,e_+=l*eU,ey+=l*eM,ev+=l*ek,em+=l*e$,eb+=l*ez,ew+=l*eH,eE+=l*eB,ea+=(l=i[12])*eO,ec+=l*eP,el+=l*eC,eh+=l*eA,ef+=l*eR,ed+=l*eN,ep+=l*eT,eg+=l*ej,e_+=l*eL,ey+=l*eU,ev+=l*eM,em+=l*ek,eb+=l*e$,ew+=l*ez,eE+=l*eH,eD+=l*eB,ec+=(l=i[13])*eO,el+=l*eP,eh+=l*eC,ef+=l*eA,ed+=l*eR,ep+=l*eN,eg+=l*eT,e_+=l*ej,ey+=l*eL,ev+=l*eU,em+=l*eM,eb+=l*ek,ew+=l*e$,eE+=l*ez,eD+=l*eH,eS+=l*eB,el+=(l=i[14])*eO,eh+=l*eP,ef+=l*eC,ed+=l*eA,ep+=l*eR,eg+=l*eN,e_+=l*eT,ey+=l*ej,ev+=l*eL,em+=l*eU,eb+=l*eM,ew+=l*ek,eE+=l*e$,eD+=l*ez,eS+=l*eH,ex+=l*eB,eh+=(l=i[15])*eO,ef+=l*eP,ed+=l*eC,ep+=l*eA,eg+=l*eR,e_+=l*eN,ey+=l*eT,ev+=l*ej,em+=l*eL,eb+=l*eU,ew+=l*eM,eE+=l*ek,eD+=l*e$,eS+=l*ez,ex+=l*eH,eI+=l*eB,v+=38*ef,P+=38*ed,U+=38*ep,k+=38*eg,B+=38*e_,W+=38*ey,J+=38*ev,X+=38*em,Q+=38*eb,er+=38*ew,es+=38*eE,eo+=38*eD,ea+=38*eS,ec+=38*ex,el+=38*eI,_=Math.floor((l=v+(_=1)+65535)/65536),v=l-65536*_,_=Math.floor((l=P+_+65535)/65536),P=l-65536*_,_=Math.floor((l=U+_+65535)/65536),U=l-65536*_,_=Math.floor((l=k+_+65535)/65536),k=l-65536*_,_=Math.floor((l=B+_+65535)/65536),B=l-65536*_,_=Math.floor((l=W+_+65535)/65536),W=l-65536*_,_=Math.floor((l=J+_+65535)/65536),J=l-65536*_,_=Math.floor((l=X+_+65535)/65536),X=l-65536*_,_=Math.floor((l=Q+_+65535)/65536),Q=l-65536*_,_=Math.floor((l=er+_+65535)/65536),er=l-65536*_,_=Math.floor((l=es+_+65535)/65536),es=l-65536*_,_=Math.floor((l=eo+_+65535)/65536),eo=l-65536*_,_=Math.floor((l=ea+_+65535)/65536),ea=l-65536*_,_=Math.floor((l=ec+_+65535)/65536),ec=l-65536*_,_=Math.floor((l=el+_+65535)/65536),el=l-65536*_,_=Math.floor((l=eh+_+65535)/65536),eh=l-65536*_,v+=_-1+37*(_-1),_=Math.floor((l=v+(_=1)+65535)/65536),v=l-65536*_,_=Math.floor((l=P+_+65535)/65536),P=l-65536*_,_=Math.floor((l=U+_+65535)/65536),U=l-65536*_,_=Math.floor((l=k+_+65535)/65536),k=l-65536*_,_=Math.floor((l=B+_+65535)/65536),B=l-65536*_,_=Math.floor((l=W+_+65535)/65536),W=l-65536*_,_=Math.floor((l=J+_+65535)/65536),J=l-65536*_,_=Math.floor((l=X+_+65535)/65536),X=l-65536*_,_=Math.floor((l=Q+_+65535)/65536),Q=l-65536*_,_=Math.floor((l=er+_+65535)/65536),er=l-65536*_,_=Math.floor((l=es+_+65535)/65536),es=l-65536*_,_=Math.floor((l=eo+_+65535)/65536),eo=l-65536*_,_=Math.floor((l=ea+_+65535)/65536),ea=l-65536*_,_=Math.floor((l=ec+_+65535)/65536),ec=l-65536*_,_=Math.floor((l=el+_+65535)/65536),el=l-65536*_,_=Math.floor((l=eh+_+65535)/65536),eh=l-65536*_,v+=_-1+37*(_-1),t[0]=v,t[1]=P,t[2]=U,t[3]=k,t[4]=B,t[5]=W,t[6]=J,t[7]=X,t[8]=Q,t[9]=er,t[10]=es,t[11]=eo,t[12]=ea,t[13]=ec,t[14]=el,t[15]=eh}function scalarMult(t,i){let c=new Uint8Array(32),l=new Float64Array(80),_=gf(),v=gf(),U=gf(),k=gf(),B=gf(),W=gf();for(let i=0;i<31;i++)c[i]=t[i];c[31]=127&t[31]|64,c[0]&=248,function(t,i){for(let c=0;c<16;c++)t[c]=i[2*c]+(i[2*c+1]<<8);t[15]&=32767}(l,i);for(let t=0;t<16;t++)v[t]=l[t];_[0]=k[0]=1;for(let t=254;t>=0;--t){let i=c[t>>>3]>>>(7&t)&1;sel25519(_,v,i),sel25519(U,k,i),add(B,_,U),sub(_,_,U),add(U,v,k),sub(v,v,k),mul(k,B,B),mul(W,_,_),mul(_,U,_),mul(U,v,B),add(B,_,U),sub(_,_,U),mul(v,_,_),sub(U,k,W),mul(_,U,P),add(_,_,k),mul(U,U,_),mul(_,k,W),mul(k,v,l),mul(v,B,B),sel25519(_,v,i),sel25519(U,k,i)}for(let t=0;t<16;t++)l[t+16]=_[t],l[t+32]=U[t],l[t+48]=v[t],l[t+64]=k[t];let J=l.subarray(32),X=l.subarray(16);!function(t,i){let c=gf();for(let t=0;t<16;t++)c[t]=i[t];for(let t=253;t>=0;t--)mul(c,c,c),2!==t&&4!==t&&mul(c,c,i);for(let i=0;i<16;i++)t[i]=c[i]}(J,J),mul(X,X,J);let Q=new Uint8Array(32);return!function(t,i){let c=gf(),l=gf();for(let t=0;t<16;t++)l[t]=i[t];car25519(l),car25519(l),car25519(l);for(let t=0;t<2;t++){c[0]=l[0]-65517;for(let t=1;t<15;t++)c[t]=l[t]-65535-(c[t-1]>>16&1),c[t-1]&=65535;c[15]=l[15]-32767-(c[14]>>16&1);let t=c[15]>>16&1;c[14]&=65535,sel25519(l,c,1-t)}for(let i=0;i<16;i++)t[2*i]=255&l[i],t[2*i+1]=l[i]>>8}(Q,X),Q}i.Au=function(t){let c=(0,l.randomBytes)(32,t),P=function(t){if(t.length!==i.KS)throw Error(`x25519: seed must be ${i.KS} bytes`);let c=new Uint8Array(t),l=scalarMult(c,v);return{publicKey:l,secretKey:c}}(c);return(0,_.wipe)(c),P},i.gi=function(t,c,l=!1){if(t.length!==i.kz)throw Error("X25519: incorrect secret key length");if(c.length!==i.kz)throw Error("X25519: incorrect public key length");let _=scalarMult(t,c);if(l){let t=0;for(let i=0;i<_.length;i++)t|=_[i];if(0===t)throw Error("X25519: invalid shared key")}return _}},40926:function(t,i,c){"use strict";function getBrowerCrypto(){return(null===c.g||void 0===c.g?void 0:c.g.crypto)||(null===c.g||void 0===c.g?void 0:c.g.msCrypto)||{}}function getSubtleCrypto(){let t=getBrowerCrypto();return t.subtle||t.webkitSubtle}Object.defineProperty(i,"__esModule",{value:!0}),i.isBrowserCryptoAvailable=i.getSubtleCrypto=i.getBrowerCrypto=void 0,i.getBrowerCrypto=getBrowerCrypto,i.getSubtleCrypto=getSubtleCrypto,i.isBrowserCryptoAvailable=function(){return!!getBrowerCrypto()&&!!getSubtleCrypto()}},88618:function(t,i,c){"use strict";var l=c(83454);function isReactNative(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function isNode(){return void 0!==l&&void 0!==l.versions&&void 0!==l.versions.node}Object.defineProperty(i,"__esModule",{value:!0}),i.isBrowser=i.isNode=i.isReactNative=void 0,i.isReactNative=isReactNative,i.isNode=isNode,i.isBrowser=function(){return!isReactNative()&&!isNode()}},1468:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});let l=c(34308);l.__exportStar(c(40926),i),l.__exportStar(c(88618),i)},34308:function(t,i,c){"use strict";c.r(i),c.d(i,{__assign:function(){return __assign},__asyncDelegator:function(){return __asyncDelegator},__asyncGenerator:function(){return __asyncGenerator},__asyncValues:function(){return __asyncValues},__await:function(){return __await},__awaiter:function(){return __awaiter},__classPrivateFieldGet:function(){return __classPrivateFieldGet},__classPrivateFieldSet:function(){return __classPrivateFieldSet},__createBinding:function(){return __createBinding},__decorate:function(){return __decorate},__exportStar:function(){return __exportStar},__extends:function(){return __extends},__generator:function(){return __generator},__importDefault:function(){return __importDefault},__importStar:function(){return __importStar},__makeTemplateObject:function(){return __makeTemplateObject},__metadata:function(){return __metadata},__param:function(){return __param},__read:function(){return __read},__rest:function(){return __rest},__spread:function(){return __spread},__spreadArrays:function(){return __spreadArrays},__values:function(){return __values}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(t,i){return(extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var c in i)i.hasOwnProperty(c)&&(t[c]=i[c])})(t,i)};function __extends(t,i){function __(){this.constructor=t}extendStatics(t,i),t.prototype=null===i?Object.create(i):(__.prototype=i.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(t){for(var i,c=1,l=arguments.length;c<l;c++)for(var _ in i=arguments[c])Object.prototype.hasOwnProperty.call(i,_)&&(t[_]=i[_]);return t}).apply(this,arguments)};function __rest(t,i){var c={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&0>i.indexOf(l)&&(c[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var _=0,l=Object.getOwnPropertySymbols(t);_<l.length;_++)0>i.indexOf(l[_])&&Object.prototype.propertyIsEnumerable.call(t,l[_])&&(c[l[_]]=t[l[_]]);return c}function __decorate(t,i,c,l){var _,v=arguments.length,P=v<3?i:null===l?l=Object.getOwnPropertyDescriptor(i,c):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(t,i,c,l);else for(var U=t.length-1;U>=0;U--)(_=t[U])&&(P=(v<3?_(P):v>3?_(i,c,P):_(i,c))||P);return v>3&&P&&Object.defineProperty(i,c,P),P}function __param(t,i){return function(c,l){i(c,l,t)}}function __metadata(t,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,i)}function __awaiter(t,i,c,l){return new(c||(c=Promise))(function(_,v){function fulfilled(t){try{step(l.next(t))}catch(t){v(t)}}function rejected(t){try{step(l.throw(t))}catch(t){v(t)}}function step(t){var i;t.done?_(t.value):((i=t.value)instanceof c?i:new c(function(t){t(i)})).then(fulfilled,rejected)}step((l=l.apply(t,i||[])).next())})}function __generator(t,i){var c,l,_,v,P={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return v={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v;function verb(v){return function(U){return function(v){if(c)throw TypeError("Generator is already executing.");for(;P;)try{if(c=1,l&&(_=2&v[0]?l.return:v[0]?l.throw||((_=l.return)&&_.call(l),0):l.next)&&!(_=_.call(l,v[1])).done)return _;switch(l=0,_&&(v=[2&v[0],_.value]),v[0]){case 0:case 1:_=v;break;case 4:return P.label++,{value:v[1],done:!1};case 5:P.label++,l=v[1],v=[0];continue;case 7:v=P.ops.pop(),P.trys.pop();continue;default:if(!(_=(_=P.trys).length>0&&_[_.length-1])&&(6===v[0]||2===v[0])){P=0;continue}if(3===v[0]&&(!_||v[1]>_[0]&&v[1]<_[3])){P.label=v[1];break}if(6===v[0]&&P.label<_[1]){P.label=_[1],_=v;break}if(_&&P.label<_[2]){P.label=_[2],P.ops.push(v);break}_[2]&&P.ops.pop(),P.trys.pop();continue}v=i.call(t,P)}catch(t){v=[6,t],l=0}finally{c=_=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([v,U])}}}function __createBinding(t,i,c,l){void 0===l&&(l=c),t[l]=i[c]}function __exportStar(t,i){for(var c in t)"default"===c||i.hasOwnProperty(c)||(i[c]=t[c])}function __values(t){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&t[i],l=0;if(c)return c.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&l>=t.length&&(t=void 0),{value:t&&t[l++],done:!t}}};throw TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(t,i){var c="function"==typeof Symbol&&t[Symbol.iterator];if(!c)return t;var l,_,v=c.call(t),P=[];try{for(;(void 0===i||i-- >0)&&!(l=v.next()).done;)P.push(l.value)}catch(t){_={error:t}}finally{try{l&&!l.done&&(c=v.return)&&c.call(v)}finally{if(_)throw _.error}}return P}function __spread(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(__read(arguments[i]));return t}function __spreadArrays(){for(var t=0,i=0,c=arguments.length;i<c;i++)t+=arguments[i].length;for(var l=Array(t),_=0,i=0;i<c;i++)for(var v=arguments[i],P=0,U=v.length;P<U;P++,_++)l[_]=v[P];return l}function __await(t){return this instanceof __await?(this.v=t,this):new __await(t)}function __asyncGenerator(t,i,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var l,_=c.apply(t,i||[]),v=[];return l={},verb("next"),verb("throw"),verb("return"),l[Symbol.asyncIterator]=function(){return this},l;function verb(t){_[t]&&(l[t]=function(i){return new Promise(function(c,l){v.push([t,i,c,l])>1||resume(t,i)})})}function resume(t,i){try{var c;(c=_[t](i)).value instanceof __await?Promise.resolve(c.value.v).then(fulfill,reject):settle(v[0][2],c)}catch(t){settle(v[0][3],t)}}function fulfill(t){resume("next",t)}function reject(t){resume("throw",t)}function settle(t,i){t(i),v.shift(),v.length&&resume(v[0][0],v[0][1])}}function __asyncDelegator(t){var i,c;return i={},verb("next"),verb("throw",function(t){throw t}),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(l,_){i[l]=t[l]?function(i){return(c=!c)?{value:__await(t[l](i)),done:"return"===l}:_?_(i):i}:_}}function __asyncValues(t){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,c=t[Symbol.asyncIterator];return c?c.call(t):(t=__values(t),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(c){i[c]=t[c]&&function(i){return new Promise(function(l,_){!function(t,i,c,l){Promise.resolve(l).then(function(i){t({value:i,done:c})},i)}(l,_,(i=t[c](i)).done,i.value)})}}}function __makeTemplateObject(t,i){return Object.defineProperty?Object.defineProperty(t,"raw",{value:i}):t.raw=i,t}function __importStar(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var c in t)Object.hasOwnProperty.call(t,c)&&(i[c]=t[c]);return i.default=t,i}function __importDefault(t){return t&&t.__esModule?t:{default:t}}function __classPrivateFieldGet(t,i){if(!i.has(t))throw TypeError("attempted to get private field on non-instance");return i.get(t)}function __classPrivateFieldSet(t,i,c){if(!i.has(t))throw TypeError("attempted to set private field on non-instance");return i.set(t,c),c}},44327:function(t,i,c){"use strict";c.d(i,{EthereumProvider:function(){return n6},OPTIONAL_EVENTS:function(){return nX},OPTIONAL_METHODS:function(){return nJ}});var l={};c.r(l),c.d(l,{identity:function(){return eg}});var _={};c.r(_),c.d(_,{base2:function(){return e_}});var v={};c.r(v),c.d(v,{base8:function(){return ey}});var P={};c.r(P),c.d(P,{base10:function(){return ev}});var U={};c.r(U),c.d(U,{base16:function(){return em},base16upper:function(){return eb}});var k={};c.r(k),c.d(k,{base32:function(){return ew},base32hex:function(){return ex},base32hexpad:function(){return eO},base32hexpadupper:function(){return eP},base32hexupper:function(){return eI},base32pad:function(){return eD},base32padupper:function(){return eS},base32upper:function(){return eE},base32z:function(){return eC}});var B={};c.r(B),c.d(B,{base36:function(){return eA},base36upper:function(){return eR}});var W={};c.r(W),c.d(W,{base58btc:function(){return eN},base58flickr:function(){return eT}});var J={};c.r(J),c.d(J,{base64:function(){return ej},base64pad:function(){return eL},base64url:function(){return eU},base64urlpad:function(){return eM}});var X={};c.r(X),c.d(X,{base256emoji:function(){return eH}});var Q={};c.r(Q),c.d(Q,{sha256:function(){return eF},sha512:function(){return eV}});var er={};c.r(er),c.d(er,{identity:function(){return eK}});var es={};c.r(es),c.d(es,{code:function(){return eG},decode:function(){return raw_decode},encode:function(){return raw_encode},name:function(){return eW}});var eo={};c.r(eo),c.d(eo,{code:function(){return eZ},decode:function(){return json_decode},encode:function(){return json_encode},name:function(){return eX}});var ea=c(17187),ec=c.n(ea),el=c(15501),eh=c(512),ef=c(31416),ed=c(73294),ep=c(57664);function as_uint8array_asUint8Array(t){return null!=globalThis.Buffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function allocUnsafe(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?as_uint8array_asUint8Array(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function concat(t,i){i||(i=t.reduce((t,i)=>t+i.length,0));let c=allocUnsafe(i),l=0;for(let i of t)c.set(i,l),l+=i.length;return as_uint8array_asUint8Array(c)}var base_x=function(t,i){if(t.length>=255)throw TypeError("Alphabet too long");for(var c=new Uint8Array(256),l=0;l<c.length;l++)c[l]=255;for(var _=0;_<t.length;_++){var v=t.charAt(_),P=v.charCodeAt(0);if(255!==c[P])throw TypeError(v+" is ambiguous");c[P]=_}var U=t.length,k=t.charAt(0),B=Math.log(U)/Math.log(256),W=Math.log(256)/Math.log(U);function decodeUnsafe(t){if("string"!=typeof t)throw TypeError("Expected String");if(0===t.length)return new Uint8Array;var i=0;if(" "!==t[0]){for(var l=0,_=0;t[i]===k;)l++,i++;for(var v=(t.length-i)*B+1>>>0,P=new Uint8Array(v);t[i];){var W=c[t.charCodeAt(i)];if(255===W)return;for(var J=0,X=v-1;(0!==W||J<_)&&-1!==X;X--,J++)W+=U*P[X]>>>0,P[X]=W%256>>>0,W=W/256>>>0;if(0!==W)throw Error("Non-zero carry");_=J,i++}if(" "!==t[i]){for(var Q=v-_;Q!==v&&0===P[Q];)Q++;for(var er=new Uint8Array(l+(v-Q)),es=l;Q!==v;)er[es++]=P[Q++];return er}}}return{encode:function(i){if(i instanceof Uint8Array||(ArrayBuffer.isView(i)?i=new Uint8Array(i.buffer,i.byteOffset,i.byteLength):Array.isArray(i)&&(i=Uint8Array.from(i))),!(i instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===i.length)return"";for(var c=0,l=0,_=0,v=i.length;_!==v&&0===i[_];)_++,c++;for(var P=(v-_)*W+1>>>0,B=new Uint8Array(P);_!==v;){for(var J=i[_],X=0,Q=P-1;(0!==J||X<l)&&-1!==Q;Q--,X++)J+=256*B[Q]>>>0,B[Q]=J%U>>>0,J=J/U>>>0;if(0!==J)throw Error("Non-zero carry");l=X,_++}for(var er=P-l;er!==P&&0===B[er];)er++;for(var es=k.repeat(c);er<P;++er)es+=t.charAt(B[er]);return es},decodeUnsafe:decodeUnsafe,decode:function(t){var c=decodeUnsafe(t);if(c)return c;throw Error(`Non-${i} character`)}}};new Uint8Array(0);let equals=(t,i)=>{if(t===i)return!0;if(t.byteLength!==i.byteLength)return!1;for(let c=0;c<t.byteLength;c++)if(t[c]!==i[c])return!1;return!0},coerce=t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw Error("Unknown type, must be binary type")},bytes_fromString=t=>new TextEncoder().encode(t),bytes_toString=t=>new TextDecoder().decode(t);let Encoder=class Encoder{constructor(t,i,c){this.name=t,this.prefix=i,this.baseEncode=c}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}};let Decoder=class Decoder{constructor(t,i,c){if(this.name=t,this.prefix=i,void 0===i.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=i.codePointAt(0),this.baseDecode=c}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return or(this,t)}};let ComposedDecoder=class ComposedDecoder{constructor(t){this.decoders=t}or(t){return or(this,t)}decode(t){let i=t[0],c=this.decoders[i];if(c)return c.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};let or=(t,i)=>new ComposedDecoder({...t.decoders||{[t.prefix]:t},...i.decoders||{[i.prefix]:i}});let Codec=class Codec{constructor(t,i,c,l){this.name=t,this.prefix=i,this.baseEncode=c,this.baseDecode=l,this.encoder=new Encoder(t,i,c),this.decoder=new Decoder(t,i,l)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};let from=({name:t,prefix:i,encode:c,decode:l})=>new Codec(t,i,c,l),baseX=({prefix:t,name:i,alphabet:c})=>{let{encode:l,decode:_}=base_x(c,i);return from({prefix:t,name:i,encode:l,decode:t=>coerce(_(t))})},decode=(t,i,c,l)=>{let _={};for(let t=0;t<i.length;++t)_[i[t]]=t;let v=t.length;for(;"="===t[v-1];)--v;let P=new Uint8Array(v*c/8|0),U=0,k=0,B=0;for(let i=0;i<v;++i){let v=_[t[i]];if(void 0===v)throw SyntaxError(`Non-${l} character`);k=k<<c|v,(U+=c)>=8&&(U-=8,P[B++]=255&k>>U)}if(U>=c||255&k<<8-U)throw SyntaxError("Unexpected end of data");return P},encode=(t,i,c)=>{let l="="===i[i.length-1],_=(1<<c)-1,v="",P=0,U=0;for(let l=0;l<t.length;++l)for(U=U<<8|t[l],P+=8;P>c;)P-=c,v+=i[_&U>>P];if(P&&(v+=i[_&U<<c-P]),l)for(;v.length*c&7;)v+="=";return v},rfc4648=({name:t,prefix:i,bitsPerChar:c,alphabet:l})=>from({prefix:i,name:t,encode:t=>encode(t,l,c),decode:i=>decode(i,l,c,t)}),eg=from({prefix:"\x00",name:"identity",encode:t=>bytes_toString(t),decode:t=>bytes_fromString(t)}),e_=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),ey=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),ev=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),em=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),eb=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),ew=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),eE=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),eD=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),eS=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),eI=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),eO=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),eP=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),eC=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),eA=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),eR=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),eN=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),eT=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),ej=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),eL=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),eU=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),eM=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),ek=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),e$=ek.reduce((t,i,c)=>(t[c]=i,t),[]),ez=ek.reduce((t,i,c)=>(t[i.codePointAt(0)]=c,t),[]),eH=from({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(t){return t.reduce((t,i)=>t+=e$[i],"")},decode:function(t){let i=[];for(let c of t){let t=ez[c.codePointAt(0)];if(void 0===t)throw Error(`Non-base256emoji character: ${c}`);i.push(t)}return new Uint8Array(i)}});function varint_encode(t,i,c){i=i||[];for(var l=c=c||0;t>=2147483648;)i[c++]=255&t|128,t/=128;for(;-128&t;)i[c++]=255&t|128,t>>>=7;return i[c]=0|t,varint_encode.bytes=c-l+1,i}function read(t,i){var c,l=0,i=i||0,_=0,v=i,P=t.length;do{if(v>=P)throw read.bytes=0,RangeError("Could not decode varint");c=t[v++],l+=_<28?(127&c)<<_:(127&c)*Math.pow(2,_),_+=7}while(c>=128);return read.bytes=v-i,l}var eB={encode:varint_encode,decode:read,encodingLength:function(t){return t<128?1:t<16384?2:t<2097152?3:t<268435456?4:t<34359738368?5:t<4398046511104?6:t<562949953421312?7:t<72057594037927940?8:t<0x7fffffffffffffff?9:10}};let src_varint_decode=(t,i=0)=>{let c=eB.decode(t,i);return[c,eB.decode.bytes]},encodeTo=(t,i,c=0)=>(eB.encode(t,i,c),i),encodingLength=t=>eB.encodingLength(t),create=(t,i)=>{let c=i.byteLength,l=encodingLength(t),_=l+encodingLength(c),v=new Uint8Array(_+c);return encodeTo(t,v,0),encodeTo(c,v,l),v.set(i,_),new Digest(t,c,i,v)},digest_decode=t=>{let i=coerce(t),[c,l]=src_varint_decode(i),[_,v]=src_varint_decode(i.subarray(l)),P=i.subarray(l+v);if(P.byteLength!==_)throw Error("Incorrect length");return new Digest(c,_,P,i)},digest_equals=(t,i)=>t===i||t.code===i.code&&t.size===i.size&&equals(t.bytes,i.bytes);let Digest=class Digest{constructor(t,i,c,l){this.code=t,this.size=i,this.digest=c,this.bytes=l}};let hasher_from=({name:t,code:i,encode:c})=>new Hasher(t,i,c);let Hasher=class Hasher{constructor(t,i,c){this.name=t,this.code=i,this.encode=c}digest(t){if(t instanceof Uint8Array){let i=this.encode(t);return i instanceof Uint8Array?create(this.code,i):i.then(t=>create(this.code,t))}throw Error("Unknown type, must be binary type")}};let sha=t=>async i=>new Uint8Array(await crypto.subtle.digest(t,i)),eF=hasher_from({name:"sha2-256",code:18,encode:sha("SHA-256")}),eV=hasher_from({name:"sha2-512",code:19,encode:sha("SHA-512")}),eK={code:0,name:"identity",encode:coerce,digest:t=>create(0,coerce(t))},eW="raw",eG=85,raw_encode=t=>coerce(t),raw_decode=t=>coerce(t),eJ=new TextEncoder,eY=new TextDecoder,eX="json",eZ=512,json_encode=t=>eJ.encode(JSON.stringify(t)),json_decode=t=>JSON.parse(eY.decode(t));let CID=class CID{constructor(t,i,c,l){this.code=i,this.version=t,this.multihash=c,this.bytes=l,this.byteOffset=l.byteOffset,this.byteLength=l.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:e3,byteLength:e3,code:e5,version:e5,multihash:e5,bytes:e5,_baseCache:e3,asCID:e3})}toV0(){if(0===this.version)return this;{let{code:t,multihash:i}=this;if(t!==eQ)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(i.code!==e0)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID.createV0(i)}}toV1(){switch(this.version){case 0:{let{code:t,digest:i}=this.multihash,c=create(t,i);return CID.createV1(this.code,c)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&digest_equals(this.multihash,t.multihash)}toString(t){let{bytes:i,version:c,_baseCache:l}=this;return 0===c?toStringV0(i,l,t||eN.encoder):toStringV1(i,l,t||ew.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return deprecate(/^0\.0/,e6),!!(t&&(t[e1]||t.asCID===t))}get toBaseEncodedString(){throw Error("Deprecated, use .toString()")}get codec(){throw Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw Error('"multibaseName" property is deprecated')}get prefix(){throw Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof CID)return t;if(null!=t&&t.asCID===t){let{version:i,code:c,multihash:l,bytes:_}=t;return new CID(i,c,l,_||encodeCID(i,c,l.bytes))}if(null==t||!0!==t[e1])return null;{let{version:i,multihash:c,code:l}=t,_=digest_decode(c);return CID.create(i,l,_)}}static create(t,i,c){if("number"!=typeof i)throw Error("String codecs are no longer supported");switch(t){case 0:if(i===eQ)return new CID(t,i,c,c.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${eQ}) block encoding`);case 1:{let l=encodeCID(t,i,c.bytes);return new CID(t,i,c,l)}default:throw Error("Invalid version")}}static createV0(t){return CID.create(0,eQ,t)}static createV1(t,i){return CID.create(1,t,i)}static decode(t){let[i,c]=CID.decodeFirst(t);if(c.length)throw Error("Incorrect length");return i}static decodeFirst(t){let i=CID.inspectBytes(t),c=i.size-i.multihashSize,l=coerce(t.subarray(c,c+i.multihashSize));if(l.byteLength!==i.multihashSize)throw Error("Incorrect length");let _=l.subarray(i.multihashSize-i.digestSize),v=new Digest(i.multihashCode,i.digestSize,_,l),P=0===i.version?CID.createV0(v):CID.createV1(i.codec,v);return[P,t.subarray(i.size)]}static inspectBytes(t){let i=0,next=()=>{let[c,l]=src_varint_decode(t.subarray(i));return i+=l,c},c=next(),l=eQ;if(18===c?(c=0,i=0):1===c&&(l=next()),0!==c&&1!==c)throw RangeError(`Invalid CID version ${c}`);let _=i,v=next(),P=next(),U=i+P;return{version:c,codec:l,multihashCode:v,digestSize:P,multihashSize:U-_,size:U}}static parse(t,i){let[c,l]=parseCIDtoBytes(t,i),_=CID.decode(l);return _._baseCache.set(c,t),_}};let parseCIDtoBytes=(t,i)=>{switch(t[0]){case"Q":return[eN.prefix,(i||eN).decode(`${eN.prefix}${t}`)];case eN.prefix:return[eN.prefix,(i||eN).decode(t)];case ew.prefix:return[ew.prefix,(i||ew).decode(t)];default:if(null==i)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],i.decode(t)]}},toStringV0=(t,i,c)=>{let{prefix:l}=c;if(l!==eN.prefix)throw Error(`Cannot string encode V0 in ${c.name} encoding`);let _=i.get(l);if(null!=_)return _;{let _=c.encode(t).slice(1);return i.set(l,_),_}},toStringV1=(t,i,c)=>{let{prefix:l}=c,_=i.get(l);if(null!=_)return _;{let _=c.encode(t);return i.set(l,_),_}},eQ=112,e0=18,encodeCID=(t,i,c)=>{let l=encodingLength(t),_=l+encodingLength(i),v=new Uint8Array(_+c.byteLength);return encodeTo(t,v,0),encodeTo(i,v,l),v.set(c,_),v},e1=Symbol.for("@ipld/js-cid/CID"),e5={writable:!1,configurable:!1,enumerable:!0},e3={writable:!1,enumerable:!1,configurable:!1},deprecate=(t,i)=>{if(t.test("0.0.0-dev"))console.warn(i);else throw Error(i)},e6=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,e2={...l,..._,...v,...P,...U,...k,...B,...W,...J,...X};function createCodec(t,i,c,l){return{name:t,prefix:i,encoder:{name:t,prefix:i,encode:c},decoder:{decode:l}}}({...Q,...er});let e8=createCodec("utf8","u",t=>{let i=new TextDecoder("utf8");return"u"+i.decode(t)},t=>{let i=new TextEncoder;return i.encode(t.substring(1))}),e4=createCodec("ascii","a",t=>{let i="a";for(let c=0;c<t.length;c++)i+=String.fromCharCode(t[c]);return i},t=>{t=t.substring(1);let i=allocUnsafe(t.length);for(let c=0;c<t.length;c++)i[c]=t.charCodeAt(c);return i}),e9={utf8:e8,"utf-8":e8,hex:e2.base16,latin1:e4,ascii:e4,binary:e4,...e2};function from_string_fromString(t,i="utf8"){let c=e9[i];if(!c)throw Error(`Unsupported encoding "${i}"`);return("utf8"===i||"utf-8"===i)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?as_uint8array_asUint8Array(globalThis.Buffer.from(t,"utf-8")):c.decoder.decode(`${c.prefix}${t}`)}function to_string_toString(t,i="utf8"){let c=e9[i];if(!c)throw Error(`Unsupported encoding "${i}"`);return("utf8"===i||"utf-8"===i)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):c.encoder.encode(t).substring(1)}var e7=c(83454),__spreadArray=function(t,i,c){if(c||2==arguments.length)for(var l,_=0,v=i.length;_<v;_++)!l&&_ in i||(l||(l=Array.prototype.slice.call(i,0,_)),l[_]=i[_]);return t.concat(l||Array.prototype.slice.call(i))},BrowserInfo=function(t,i,c){this.name=t,this.version=i,this.os=c,this.type="browser"},NodeInfo=function(t){this.version=t,this.type="node",this.name="node",this.os=e7.platform},SearchBotDeviceInfo=function(t,i,c,l){this.name=t,this.version=i,this.os=c,this.bot=l,this.type="bot-device"},BotInfo=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},ReactNativeInfo=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},tt=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,tn=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],ts=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function parseUserAgent(t){var i=""!==t&&tn.reduce(function(i,c){var l=c[0],_=c[1];if(i)return i;var v=_.exec(t);return!!v&&[l,v]},!1);if(!i)return null;var c=i[0],l=i[1];if("searchbot"===c)return new BotInfo;var _=l[1]&&l[1].split(".").join("_").split("_").slice(0,3);_?_.length<3&&(_=__spreadArray(__spreadArray([],_,!0),function(t){for(var i=[],c=0;c<t;c++)i.push("0");return i}(3-_.length),!0)):_=[];var v=_.join("."),P=function(t){for(var i=0,c=ts.length;i<c;i++){var l=ts[i],_=l[0];if(l[1].exec(t))return _}return null}(t),U=tt.exec(t);return U&&U[1]?new SearchBotDeviceInfo(c,v,P,U[1]):new BrowserInfo(c,v,P)}var to=c(66736),tc=c(62873),tl=c(65755),th=c(66151);c(61882);let tf={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};var td=c(83454);function M(t,i){return t.includes(":")?[t]:i.chains||[]}let tp="base10",tg="base16",t_="base64pad",ty="utf8";function An(){let t=(0,ef.randomBytes)(32);return to_string_toString(t,tg)}function $n(t){let i=(0,ed.vp)(from_string_fromString(t,ty));return to_string_toString(i,tg)}function $(t){return Number(to_string_toString(t,tp))}function Z(t){let i=from_string_fromString(t,t_),c=i.slice(0,1);if(1===$(c)){let t=i.slice(1,33),l=i.slice(33,45),_=i.slice(45);return{type:c,sealed:_,iv:l,senderPublicKey:t}}let l=i.slice(1,13),_=i.slice(13);return{type:c,sealed:_,iv:l}}function Pe(t){let i=t?.type||0;if(1===i){if(typeof t?.senderPublicKey>"u")throw Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw Error("missing receiver public key")}return{type:i,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function Vn(t){return 1===t.type&&"string"==typeof t.senderPublicKey&&"string"==typeof t.receiverPublicKey}var tv=Object.defineProperty,tm=Object.getOwnPropertySymbols,tb=Object.prototype.hasOwnProperty,tw=Object.prototype.propertyIsEnumerable,Re=(t,i,c)=>i in t?tv(t,i,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[i]=c,we=(t,i)=>{for(var c in i||(i={}))tb.call(i,c)&&Re(t,c,i[c]);if(tm)for(var c of tm(i))tw.call(i,c)&&Re(t,c,i[c]);return t};let tE={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function ee(){return"u">typeof td&&"u">typeof td.versions&&"u">typeof td.versions.node}function $e(){return!(0,tc.getDocument)()&&!!(0,tc.getNavigator)()&&"ReactNative"===navigator.product}function je(){return!ee()&&!!(0,tc.getNavigator)()}function F(){return $e()?tE.reactNative:ee()?tE.node:je()?tE.browser:tE.unknown}function O(t,i){return t.filter(t=>i.includes(t)).length===t.length}function Bn(t){return Object.fromEntries(t.entries())}function Yn(t){return new Map(Object.entries(t))}function Xn(t=to.FIVE_MINUTES,i){let c,l,_;let v=(0,to.toMiliseconds)(t||to.FIVE_MINUTES);return{resolve:t=>{_&&c&&(clearTimeout(_),c(t))},reject:t=>{_&&l&&(clearTimeout(_),l(t))},done:()=>new Promise((t,P)=>{_=setTimeout(()=>{P(Error(i))},v),c=t,l=P})}}function et(t,i,c){return new Promise(async(l,_)=>{let v=setTimeout(()=>_(Error(c)),i);try{let i=await t;l(i)}catch(t){_(t)}clearTimeout(v)})}function ne(t,i){if("string"==typeof i&&i.startsWith(`${t}:`))return i;if("topic"===t.toLowerCase()){if("string"!=typeof i)throw Error('Value must be "string" for expirer target type: topic');return`topic:${i}`}if("id"===t.toLowerCase()){if("number"!=typeof i)throw Error('Value must be "number" for expirer target type: id');return`id:${i}`}throw Error(`Unknown expirer target type: ${t}`)}function rt(t){let[i,c]=t.split(":"),l={id:void 0,topic:void 0};if("topic"===i&&"string"==typeof c)l.topic=c;else if("id"===i&&Number.isInteger(Number(c)))l.id=Number(c);else throw Error(`Invalid target, expected id:number or topic:string, got ${i}:${c}`);return l}function ot(t,i){return(0,to.fromMiliseconds)((i||Date.now())+(0,to.toMiliseconds)(t))}function st(t){return Date.now()>=(0,to.toMiliseconds)(t)}function it(t,i){return`${t}${i?`:${i}`:""}`}function S(t=[],i=[]){return[...new Set([...t,...i])]}async function ct({id:t,topic:i,wcDeepLink:l}){try{if(!l)return;let _="string"==typeof l?JSON.parse(l):l,v=_?.href;if("string"!=typeof v)return;v.endsWith("/")&&(v=v.slice(0,-1));let P=`${v}/wc?requestId=${t}&sessionTopic=${i}`,U=F();U===tE.browser?P.startsWith("https://")?window.open(P,"_blank","noreferrer noopener"):window.open(P,"_self","noreferrer noopener"):U===tE.reactNative&&"u">typeof(null==c.g?void 0:c.g.Linking)&&await c.g.Linking.openURL(P)}catch(t){console.error(t)}}function at(t){return t?.relay||{protocol:"irn"}}function ut(t){let i=tf[t];if(typeof i>"u")throw Error(`Relay Protocol not supported: ${t}`);return i}var tD=Object.defineProperty,tS=Object.getOwnPropertySymbols,tx=Object.prototype.hasOwnProperty,tI=Object.prototype.propertyIsEnumerable,He=(t,i,c)=>i in t?tD(t,i,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[i]=c,pt=(t,i)=>{for(var c in i||(i={}))tx.call(i,c)&&He(t,c,i[c]);if(tS)for(var c of tS(i))tI.call(i,c)&&He(t,c,i[c]);return t};function R(t){let i=[];return t.forEach(t=>{let[c,l]=t.split(":");i.push(`${c}:${l}`)}),i}function te(t){return t.includes(":")}function Ze(t){return te(t)?t.split(":")[0]:t}Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let tO={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},tP={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function N(t,i){let{message:c,code:l}=tP[t];return{message:i?`${c} ${i}`:c,code:l}}function w(t,i){let{message:c,code:l}=tO[t];return{message:i?`${c} ${i}`:c,code:l}}function j(t,i){return!!Array.isArray(t)&&(!("u">typeof i)||!t.length||t.every(i))}function H(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function I(t){return typeof t>"u"}function m(t,i){return!!(i&&I(t))||"string"==typeof t&&!!t.trim().length}function q(t,i){return!!(i&&I(t))||"number"==typeof t&&!isNaN(t)}function C(t){return!!(m(t,!1)&&t.includes(":"))&&2===t.split(":").length}function oe(t){let i=!0;return j(t)?t.length&&(i=t.every(t=>m(t,!1))):i=!1,i}function se(t,i){let c=null;return Object.values(t).forEach(t=>{var l;let _;if(c)return;let v=(l=`${i}, namespace`,_=null,oe(t?.methods)?oe(t?.events)||(_=w("UNSUPPORTED_EVENTS",`${l}, events should be an array of strings or empty array for no events`)):_=w("UNSUPPORTED_METHODS",`${l}, methods should be an array of strings or empty array for no methods`),_);v&&(c=v)}),c}function sn(t,i){let c=null;if(t&&H(t)){let l;let _=se(t,i);_&&(c=_);let v=(l=null,Object.values(t).forEach(t=>{var c,_;let v;if(l)return;let P=(c=t?.accounts,_=`${i} namespace`,v=null,j(c)?c.forEach(t=>{v||function(t){if(m(t,!1)&&t.includes(":")){let i=t.split(":");if(3===i.length){let t=i[0]+":"+i[1];return!!i[2]&&C(t)}}return!1}(t)||(v=w("UNSUPPORTED_ACCOUNTS",`${_}, account ${t} should be a string and conform to "namespace:chainId:address" format`))}):v=w("UNSUPPORTED_ACCOUNTS",`${_}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),v);P&&(l=P)}),l);v&&(c=v)}else c=N("MISSING_OR_INVALID",`${i}, namespaces should be an object with data`);return c}function cn(t){return m(t.protocol,!0)}function Dt(t){return"u">typeof t}function Lt(t,i){return!(!C(i)||!(function(t){let i=[];return Object.values(t).forEach(t=>{i.push(...R(t.accounts))}),i})(t).includes(i))}function an(t,i,c){let l=null,_=function(t){let i={};return Object.keys(t).forEach(c=>{var l;c.includes(":")?i[c]=t[c]:null==(l=t[c].chains)||l.forEach(l=>{i[l]={methods:t[c].methods,events:t[c].events}})}),i}(t),v=function(t){let i={};return Object.keys(t).forEach(c=>{if(c.includes(":"))i[c]=t[c];else{let l=R(t[c].accounts);l?.forEach(l=>{i[l]={accounts:t[c].accounts.filter(t=>t.includes(`${l}:`)),methods:t[c].methods,events:t[c].events}})}}),i}(i),P=Object.keys(_),U=Object.keys(v),k=un(Object.keys(t)),B=un(Object.keys(i)),W=k.filter(t=>!B.includes(t));return W.length&&(l=N("NON_CONFORMING_NAMESPACES",`${c} namespaces keys don't satisfy requiredNamespaces.
      Required: ${W.toString()}
      Received: ${Object.keys(i).toString()}`)),O(P,U)||(l=N("NON_CONFORMING_NAMESPACES",`${c} namespaces chains don't satisfy required namespaces.
      Required: ${P.toString()}
      Approved: ${U.toString()}`)),Object.keys(i).forEach(t=>{if(!t.includes(":")||l)return;let _=R(i[t].accounts);_.includes(t)||(l=N("NON_CONFORMING_NAMESPACES",`${c} namespaces accounts don't satisfy namespace accounts for ${t}
        Required: ${t}
        Approved: ${_.toString()}`))}),P.forEach(t=>{l||(O(_[t].methods,v[t].methods)?O(_[t].events,v[t].events)||(l=N("NON_CONFORMING_NAMESPACES",`${c} namespaces events don't satisfy namespace events for ${t}`)):l=N("NON_CONFORMING_NAMESPACES",`${c} namespaces methods don't satisfy namespace methods for ${t}`))}),l}function un(t){return[...new Set(t.map(t=>t.includes(":")?t.split(":")[0]:t))]}var tC=c(85150),tA=c(90772),tR=c(9107),tN=c(38200);let n=class n extends tN.q{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}};let h=class h extends tN.q{constructor(t,i){super(),this.core=t,this.logger=i,this.records=new Map}};let a=class a{constructor(t,i){this.logger=t,this.core=i}};let u=class u extends tN.q{constructor(t,i){super(),this.relayer=t,this.logger=i}};let g=class g extends tN.q{constructor(t){super()}};let p=class p{constructor(t,i,c,l){this.core=t,this.logger=i,this.name=c}};let d=class d extends tN.q{constructor(t,i){super(),this.relayer=t,this.logger=i}};let E=class E extends tN.q{constructor(t,i){super(),this.core=t,this.logger=i}};let y=class y{constructor(t,i){this.projectId=t,this.logger=i}};let index_es_b=class index_es_b{constructor(t){this.opts=t,this.protocol="wc",this.version=2}};let index_es_S=class index_es_S{constructor(t){this.client=t}};let JSONStringify=t=>JSON.stringify(t,(t,i)=>"bigint"==typeof i?i.toString()+"n":i),JSONParse=t=>{let i=t.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(i,(t,i)=>{let c="string"==typeof i&&i.match(/^\d+n$/);return c?BigInt(i.substring(0,i.length-1)):i})};function esm_safeJsonParse(t){if("string"!=typeof t)throw Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSONParse(t)}catch(i){return t}}function safeJsonStringify(t){return"string"==typeof t?t:JSONStringify(t)||""}var tT=c(31050);let tj="base64url",tL="base58btc";function encodeJSON(t){return to_string_toString(from_string_fromString(safeJsonStringify(t),"utf8"),tj)}function encodeIss(t){let i=from_string_fromString("K36",tL),c="z"+to_string_toString(concat([i,t]),tL);return["did","key",c].join(":")}function generateKeyPair(t=(0,ef.randomBytes)(32)){return tT._w(t)}async function signJWT(t,i,c,l,_=(0,to.fromMiliseconds)(Date.now())){var v,P;let U={alg:"EdDSA",typ:"JWT"},k=encodeIss(l.publicKey),B={iss:k,sub:t,aud:i,iat:_,exp:_+c},W=from_string_fromString([encodeJSON((v={header:U,payload:B}).header),encodeJSON(v.payload)].join("."),"utf8"),J=tT.Xx(l.secretKey,W);return[encodeJSON((P={header:U,payload:B,signature:J}).header),encodeJSON(P.payload),to_string_toString(P.signature,tj)].join(".")}c(43014);let tU="INTERNAL_ERROR",tM="SERVER_ERROR",tk=[-32700,-32600,-32601,-32602,-32603],t$={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[tU]:{code:-32603,message:"Internal error"},[tM]:{code:-32e3,message:"Server error"}};function getError(t){return Object.keys(t$).includes(t)?t$[t]:t$[tM]}function parseConnectionError(t,i,c){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?Error(`Unavailable ${c} RPC url at ${i}`):t}var tz=c(1468);function payloadId(t=3){let i=Date.now()*Math.pow(10,t);return i+Math.floor(Math.random()*Math.pow(10,t))}function getBigIntRpcId(t=6){return BigInt(payloadId(t))}function formatJsonRpcRequest(t,i,c){return{id:c||payloadId(),jsonrpc:"2.0",method:t,params:i}}function formatJsonRpcResult(t,i){return{id:t,jsonrpc:"2.0",result:i}}function formatJsonRpcError(t,i,c){var l,_;return{id:t,jsonrpc:"2.0",error:void 0===(l=i)?getError(tU):("string"==typeof l&&(l=Object.assign(Object.assign({},getError(tM)),{message:l})),void 0!==c&&(l.data=c),_=l.code,tk.includes(_)&&(l=function(t){let i=Object.values(t$).find(i=>i.code===t);return i||t$[tM]}(l.code)),l)}}let misc_IEvents=class misc_IEvents{};let IBaseJsonRpcProvider=class IBaseJsonRpcProvider extends misc_IEvents{constructor(){super()}};let IJsonRpcProvider=class IJsonRpcProvider extends IBaseJsonRpcProvider{constructor(t){super()}};function matchRegexProtocol(t,i){let c=function(t){let i=t.match(RegExp(/^\w+:/,"gi"));if(i&&i.length)return i[0]}(t);return void 0!==c&&new RegExp(i).test(c)}function isHttpUrl(t){return matchRegexProtocol(t,"^https?:")}function isWsUrl(t){return matchRegexProtocol(t,"^wss?:")}function isJsonRpcPayload(t){return"object"==typeof t&&"id"in t&&"jsonrpc"in t&&"2.0"===t.jsonrpc}function isJsonRpcRequest(t){return isJsonRpcPayload(t)&&"method"in t}function isJsonRpcResponse(t){return isJsonRpcPayload(t)&&(isJsonRpcResult(t)||isJsonRpcError(t))}function isJsonRpcResult(t){return"result"in t}function isJsonRpcError(t){return"error"in t}let JsonRpcProvider=class JsonRpcProvider extends IJsonRpcProvider{constructor(t){super(t),this.events=new ea.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,i){this.events.on(t,i)}once(t,i){this.events.once(t,i)}off(t,i){this.events.off(t,i)}removeListener(t,i){this.events.removeListener(t,i)}async request(t,i){return this.requestStrict(formatJsonRpcRequest(t.method,t.params||[],t.id||getBigIntRpcId().toString()),i)}async requestStrict(t,i){return new Promise(async(c,l)=>{if(!this.connection.connected)try{await this.open()}catch(t){l(t)}this.events.on(`${t.id}`,t=>{isJsonRpcError(t)?l(t.error):c(t.result)});try{await this.connection.send(t,i)}catch(t){l(t)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),isJsonRpcResponse(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&3e3===t.code&&this.events.emit("error",Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof t&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}};let isBrowser=()=>"undefined"!=typeof window,truncateQuery=t=>t.split("?")[0],tH=void 0!==c.g&&void 0!==c.g.WebSocket?c.g.WebSocket:"undefined"!=typeof window&&void 0!==window.WebSocket?window.WebSocket:c(57026);var tB=class{constructor(t){if(this.url=t,this.events=new ea.EventEmitter,this.registering=!1,!isWsUrl(t))throw Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return void 0!==this.socket}get connecting(){return this.registering}on(t,i){this.events.on(t,i)}once(t,i){this.events.once(t,i)}off(t,i){this.events.off(t,i)}removeListener(t,i){this.events.removeListener(t,i)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,i)=>{if(void 0===this.socket){i(Error("Connection already closed"));return}this.socket.onclose=i=>{this.onClose(i),t()},this.socket.close()})}async send(t,i){void 0===this.socket&&(this.socket=await this.register());try{this.socket.send(safeJsonStringify(t))}catch(i){this.onError(t.id,i)}}register(t=this.url){if(!isWsUrl(t))throw Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){let t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((t,i)=>{this.events.once("register_error",t=>{this.resetMaxListeners(),i(t)}),this.events.once("open",()=>{if(this.resetMaxListeners(),void 0===this.socket)return i(Error("WebSocket connection is missing or invalid"));t(this.socket)})})}return this.url=t,this.registering=!0,new Promise((i,c)=>{let l=(0,tz.isReactNative)()?void 0:{rejectUnauthorized:!RegExp("wss?://localhost(:d{2,5})?").test(t)},_=new tH(t,[],l);isBrowser()?_.onerror=t=>{c(this.emitError(t.error))}:_.on("error",t=>{c(this.emitError(t))}),_.onopen=()=>{this.onOpen(_),i(_)}})}onOpen(t){t.onmessage=t=>this.onPayload(t),t.onclose=t=>this.onClose(t),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(void 0===t.data)return;let i="string"==typeof t.data?esm_safeJsonParse(t.data):t.data;this.events.emit("payload",i)}onError(t,i){let c=this.parseError(i),l=c.message||c.toString(),_=formatJsonRpcError(t,l);this.events.emit("payload",_)}parseError(t,i=this.url){return parseConnectionError(t,truncateQuery(i),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(t){let i=this.parseError(Error((null==t?void 0:t.message)||`WebSocket connection failed for host: ${truncateQuery(this.url)}`));return this.events.emit("register_error",i),i}},tF=c(72307),tq=c.n(tF),tV=c(83454),Mi=function(t,i){if(t.length>=255)throw TypeError("Alphabet too long");for(var c=new Uint8Array(256),l=0;l<c.length;l++)c[l]=255;for(var _=0;_<t.length;_++){var v=t.charAt(_),P=v.charCodeAt(0);if(255!==c[P])throw TypeError(v+" is ambiguous");c[P]=_}var U=t.length,k=t.charAt(0),B=Math.log(U)/Math.log(256),W=Math.log(256)/Math.log(U);function b(t){if("string"!=typeof t)throw TypeError("Expected String");if(0===t.length)return new Uint8Array;var i=0;if(" "!==t[0]){for(var l=0,_=0;t[i]===k;)l++,i++;for(var v=(t.length-i)*B+1>>>0,P=new Uint8Array(v);t[i];){var W=c[t.charCodeAt(i)];if(255===W)return;for(var J=0,X=v-1;(0!==W||J<_)&&-1!==X;X--,J++)W+=U*P[X]>>>0,P[X]=W%256>>>0,W=W/256>>>0;if(0!==W)throw Error("Non-zero carry");_=J,i++}if(" "!==t[i]){for(var Q=v-_;Q!==v&&0===P[Q];)Q++;for(var er=new Uint8Array(l+(v-Q)),es=l;Q!==v;)er[es++]=P[Q++];return er}}}return{encode:function(i){if(i instanceof Uint8Array||(ArrayBuffer.isView(i)?i=new Uint8Array(i.buffer,i.byteOffset,i.byteLength):Array.isArray(i)&&(i=Uint8Array.from(i))),!(i instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===i.length)return"";for(var c=0,l=0,_=0,v=i.length;_!==v&&0===i[_];)_++,c++;for(var P=(v-_)*W+1>>>0,B=new Uint8Array(P);_!==v;){for(var J=i[_],X=0,Q=P-1;(0!==J||X<l)&&-1!==Q;Q--,X++)J+=256*B[Q]>>>0,B[Q]=J%U>>>0,J=J/U>>>0;if(0!==J)throw Error("Non-zero carry");l=X,_++}for(var er=P-l;er!==P&&0===B[er];)er++;for(var es=k.repeat(c);er<P;++er)es+=t.charAt(B[er]);return es},decodeUnsafe:b,decode:function(t){var c=b(t);if(c)return c;throw Error(`Non-${i} character`)}}};let index_es_Oe=t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw Error("Unknown type, must be binary type")},Ki=t=>new TextEncoder().encode(t),ki=t=>new TextDecoder().decode(t);let Bi=class Bi{constructor(t,i,c){this.name=t,this.prefix=i,this.baseEncode=c}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}};let ji=class ji{constructor(t,i,c){if(this.name=t,this.prefix=i,void 0===i.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=i.codePointAt(0),this.baseDecode=c}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return index_es_xe(this,t)}};let Vi=class Vi{constructor(t){this.decoders=t}or(t){return index_es_xe(this,t)}decode(t){let i=t[0],c=this.decoders[i];if(c)return c.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};let index_es_xe=(t,i)=>new Vi({...t.decoders||{[t.prefix]:t},...i.decoders||{[i.prefix]:i}});let qi=class qi{constructor(t,i,c,l){this.name=t,this.prefix=i,this.baseEncode=c,this.baseDecode=l,this.encoder=new Bi(t,i,c),this.decoder=new ji(t,i,l)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};let index_es_H=({name:t,prefix:i,encode:c,decode:l})=>new qi(t,i,c,l),index_es_M=({prefix:t,name:i,alphabet:c})=>{let{encode:l,decode:_}=Mi(c,i);return index_es_H({prefix:t,name:i,encode:l,decode:t=>index_es_Oe(_(t))})},Yi=(t,i,c,l)=>{let _={};for(let t=0;t<i.length;++t)_[i[t]]=t;let v=t.length;for(;"="===t[v-1];)--v;let P=new Uint8Array(v*c/8|0),U=0,k=0,B=0;for(let i=0;i<v;++i){let v=_[t[i]];if(void 0===v)throw SyntaxError(`Non-${l} character`);k=k<<c|v,(U+=c)>=8&&(U-=8,P[B++]=255&k>>U)}if(U>=c||255&k<<8-U)throw SyntaxError("Unexpected end of data");return P},Gi=(t,i,c)=>{let l="="===i[i.length-1],_=(1<<c)-1,v="",P=0,U=0;for(let l=0;l<t.length;++l)for(U=U<<8|t[l],P+=8;P>c;)P-=c,v+=i[_&U>>P];if(P&&(v+=i[_&U<<c-P]),l)for(;v.length*c&7;)v+="=";return v},index_es_p=({name:t,prefix:i,bitsPerChar:c,alphabet:l})=>index_es_H({prefix:i,name:t,encode:t=>Gi(t,l,c),decode:i=>Yi(i,l,c,t)}),tK=index_es_H({prefix:"\x00",name:"identity",encode:t=>ki(t),decode:t=>Ki(t)});var tW=Object.freeze({__proto__:null,identity:tK});let tG=index_es_p({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var tJ=Object.freeze({__proto__:null,base2:tG});let tY=index_es_p({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var tX=Object.freeze({__proto__:null,base8:tY});let tZ=index_es_M({prefix:"9",name:"base10",alphabet:"0123456789"});var tQ=Object.freeze({__proto__:null,base10:tZ});let t0=index_es_p({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),t1=index_es_p({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var t5=Object.freeze({__proto__:null,base16:t0,base16upper:t1});let t3=index_es_p({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),t6=index_es_p({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),t2=index_es_p({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),t8=index_es_p({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),t4=index_es_p({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),t9=index_es_p({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),t7=index_es_p({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),re=index_es_p({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),rs=index_es_p({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var ro=Object.freeze({__proto__:null,base32:t3,base32upper:t6,base32pad:t2,base32padupper:t8,base32hex:t4,base32hexupper:t9,base32hexpad:t7,base32hexpadupper:re,base32z:rs});let rc=index_es_M({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ru=index_es_M({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var rl=Object.freeze({__proto__:null,base36:rc,base36upper:ru});let rh=index_es_M({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),rf=index_es_M({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var rd=Object.freeze({__proto__:null,base58btc:rh,base58flickr:rf});let rp=index_es_p({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),rg=index_es_p({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),r_=index_es_p({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ry=index_es_p({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var rv=Object.freeze({__proto__:null,base64:rp,base64pad:rg,base64url:r_,base64urlpad:ry});let rm=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),rb=rm.reduce((t,i,c)=>(t[c]=i,t),[]),rw=rm.reduce((t,i,c)=>(t[i.codePointAt(0)]=c,t),[]),rE=index_es_H({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(t){return t.reduce((t,i)=>t+=rb[i],"")},decode:function(t){let i=[];for(let c of t){let t=rw[c.codePointAt(0)];if(void 0===t)throw Error(`Non-base256emoji character: ${c}`);i.push(t)}return new Uint8Array(i)}});var rD=Object.freeze({__proto__:null,base256emoji:rE});function index_es_Ne(t,i,c){i=i||[],c=c||0;for(var l=c;t>=2147483648;)i[c++]=255&t|128,t/=128;for(;-128&t;)i[c++]=255&t|128,t>>>=7;return i[c]=0|t,index_es_Ne.bytes=c-l+1,i}function ae(t,i){var c,l=0,i=i||0,_=0,v=i,P=t.length;do{if(v>=P)throw ae.bytes=0,RangeError("Could not decode varint");c=t[v++],l+=_<28?(127&c)<<_:(127&c)*Math.pow(2,_),_+=7}while(c>=128);return ae.bytes=v-i,l}var rS={encode:index_es_Ne,decode:ae,encodingLength:function(t){return t<128?1:t<16384?2:t<2097152?3:t<268435456?4:t<34359738368?5:t<4398046511104?6:t<562949953421312?7:t<72057594037927940?8:t<0x7fffffffffffffff?9:10}};let index_es_Fe=(t,i,c=0)=>(rS.encode(t,i,c),i),index_es_$e=t=>rS.encodingLength(t),index_es_oe=(t,i)=>{let c=i.byteLength,l=index_es_$e(t),_=l+index_es_$e(c),v=new Uint8Array(_+c);return index_es_Fe(t,v,0),index_es_Fe(c,v,l),v.set(i,_),new Hs(t,c,i,v)};let Hs=class Hs{constructor(t,i,c,l){this.code=t,this.size=i,this.digest=c,this.bytes=l}};let index_es_Me=({name:t,code:i,encode:c})=>new Ws(t,i,c);let Ws=class Ws{constructor(t,i,c){this.name=t,this.code=i,this.encode=c}digest(t){if(t instanceof Uint8Array){let i=this.encode(t);return i instanceof Uint8Array?index_es_oe(this.code,i):i.then(t=>index_es_oe(this.code,t))}throw Error("Unknown type, must be binary type")}};let index_es_Ke=t=>async i=>new Uint8Array(await crypto.subtle.digest(t,i)),rx=index_es_Me({name:"sha2-256",code:18,encode:index_es_Ke("SHA-256")}),rI=index_es_Me({name:"sha2-512",code:19,encode:index_es_Ke("SHA-512")});var rO=Object.freeze({__proto__:null,sha256:rx,sha512:rI}),rP=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:index_es_Oe,digest:t=>index_es_oe(0,index_es_Oe(t))}});new TextEncoder,new TextDecoder;let rC={...tW,...tJ,...tX,...tQ,...t5,...ro,...rl,...rd,...rv,...rD};function index_es_Ve(t){return null!=globalThis.Buffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function index_es_qe(t,i,c,l){return{name:t,prefix:i,encoder:{name:t,prefix:i,encode:c},decoder:{decode:l}}}({...rO,...rP});let rA=index_es_qe("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),rR=index_es_qe("ascii","a",t=>{let i="a";for(let c=0;c<t.length;c++)i+=String.fromCharCode(t[c]);return i},t=>{t=t.substring(1);let i=function(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?index_es_Ve(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}(t.length);for(let c=0;c<t.length;c++)i[c]=t.charCodeAt(c);return i}),rN={utf8:rA,"utf-8":rA,hex:rC.base16,latin1:rR,ascii:rR,binary:rR,...rC},rT="core",rj=`wc@2:${rT}:`,rL={logger:"error"},rU={database:":memory:"},rM="client_ed25519_seed",rk=to.ONE_DAY,r$=to.SIX_HOURS,rz="wss://relay.walletconnect.com",rH="wss://relay.walletconnect.org",rB={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},rF={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},rq=to.ONE_SECOND/2,rV={created:"subscription_created",deleted:"subscription_deleted",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},rK=1e3*to.FIVE_SECONDS,rW={wc_pairingDelete:{req:{ttl:to.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:to.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:to.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:to.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:to.ONE_DAY,prompt:!1,tag:0},res:{ttl:to.ONE_DAY,prompt:!1,tag:0}}},rG={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},rJ={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},rY="verify-api",rX="https://verify.walletconnect.com";let index_es_vt=class index_es_vt{constructor(t,i){this.core=t,this.logger=i,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=rj,this.init=async()=>{if(!this.initialized){let t=await this.getKeyChain();"u">typeof t&&(this.keychain=t),this.initialized=!0}},this.has=t=>(this.isInitialized(),this.keychain.has(t)),this.set=async(t,i)=>{this.isInitialized(),this.keychain.set(t,i),await this.persist()},this.get=t=>{this.isInitialized();let i=this.keychain.get(t);if(typeof i>"u"){let{message:i}=N("NO_MATCHING_KEY",`${this.name}: ${t}`);throw Error(i)}return i},this.del=async t=>{this.isInitialized(),this.keychain.delete(t),await this.persist()},this.core=t,this.logger=(0,tR.generateChildLogger)(i,this.name)}get context(){return(0,tR.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,Bn(t))}async getKeyChain(){let t=await this.core.storage.getItem(this.storageKey);return"u">typeof t?Yn(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:t}=N("NOT_INITIALIZED",this.name);throw Error(t)}}};let index_es_It=class index_es_It{constructor(t,i,c){this.core=t,this.logger=i,this.name="crypto",this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=t=>(this.isInitialized(),this.keychain.has(t)),this.getClientId=async()=>{this.isInitialized();let t=await this.getClientSeed(),i=generateKeyPair(t);return encodeIss(i.publicKey)},this.generateKeyPair=()=>{this.isInitialized();let t=function(){let t=ep.Au();return{privateKey:to_string_toString(t.secretKey,tg),publicKey:to_string_toString(t.publicKey,tg)}}();return this.setPrivateKey(t.publicKey,t.privateKey)},this.signJWT=async t=>{this.isInitialized();let i=await this.getClientSeed(),c=generateKeyPair(i),l=An();return await signJWT(l,t,rk,c)},this.generateSharedKey=(t,i,c)=>{this.isInitialized();let l=this.getPrivateKey(t),_=function(t,i){let c=ep.gi(from_string_fromString(t,tg),from_string_fromString(i,tg)),l=new eh.t(ed.mE,c).expand(32);return to_string_toString(l,tg)}(l,i);return this.setSymKey(_,c)},this.setSymKey=async(t,i)=>{this.isInitialized();let c=i||function(t){let i=(0,ed.vp)(from_string_fromString(t,tg));return to_string_toString(i,tg)}(t);return await this.keychain.set(c,t),c},this.deleteKeyPair=async t=>{this.isInitialized(),await this.keychain.del(t)},this.deleteSymKey=async t=>{this.isInitialized(),await this.keychain.del(t)},this.encode=async(t,i,c)=>{this.isInitialized();let l=Pe(c),_=safeJsonStringify(i);if(Vn(l)){let i=l.senderPublicKey,c=l.receiverPublicKey;t=await this.generateSharedKey(i,c)}let v=this.getSymKey(t),{type:P,senderPublicKey:U}=l;return function(t){var i;let c=(i="u">typeof t.type?t.type:0,from_string_fromString(`${i}`,tp));if(1===$(c)&&typeof t.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");let l="u">typeof t.senderPublicKey?from_string_fromString(t.senderPublicKey,tg):void 0,_="u">typeof t.iv?from_string_fromString(t.iv,tg):(0,ef.randomBytes)(12),v=new el.OK(from_string_fromString(t.symKey,tg)).seal(_,from_string_fromString(t.message,ty));return function(t){if(1===$(t.type)){if(typeof t.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");return to_string_toString(concat([t.type,t.senderPublicKey,t.iv,t.sealed]),t_)}return to_string_toString(concat([t.type,t.iv,t.sealed]),t_)}({type:c,sealed:v,iv:_,senderPublicKey:l})}({type:P,symKey:v,message:_,senderPublicKey:U})},this.decode=async(t,i,c)=>{this.isInitialized();let l=function(t,i){let c=Z(t);return Pe({type:$(c.type),senderPublicKey:"u">typeof c.senderPublicKey?to_string_toString(c.senderPublicKey,tg):void 0,receiverPublicKey:i?.receiverPublicKey})}(i,c);if(Vn(l)){let i=l.receiverPublicKey,c=l.senderPublicKey;t=await this.generateSharedKey(i,c)}let _=this.getSymKey(t),v=function(t){let i=new el.OK(from_string_fromString(t.symKey,tg)),{sealed:c,iv:l}=Z(t.encoded),_=i.open(l,c);if(null===_)throw Error("Failed to decrypt");return to_string_toString(_,ty)}({symKey:_,encoded:i});return esm_safeJsonParse(v)},this.getPayloadType=t=>{let i=Z(t);return $(i.type)},this.getPayloadSenderPublicKey=t=>{let i=Z(t);return i.senderPublicKey?to_string_toString(i.senderPublicKey,tg):void 0},this.core=t,this.logger=(0,tR.generateChildLogger)(i,this.name),this.keychain=c||new index_es_vt(this.core,this.logger)}get context(){return(0,tR.getLoggerContext)(this.logger)}async setPrivateKey(t,i){return await this.keychain.set(t,i),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(rM)}catch{t=An(),await this.keychain.set(rM,t)}return function(t,i="utf8"){let c=rN[i];if(!c)throw Error(`Unsupported encoding "${i}"`);return("utf8"===i||"utf-8"===i)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?index_es_Ve(globalThis.Buffer.from(t,"utf-8")):c.decoder.decode(`${c.prefix}${t}`)}(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){let{message:t}=N("NOT_INITIALIZED",this.name);throw Error(t)}}};let index_es_Ct=class index_es_Ct extends a{constructor(t,i){super(t,i),this.logger=t,this.core=i,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=rj,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let t=await this.getRelayerMessages();"u">typeof t&&(this.messages=t),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}finally{this.initialized=!0}}},this.set=async(t,i)=>{this.isInitialized();let c=$n(i),l=this.messages.get(t);return typeof l>"u"&&(l={}),"u">typeof l[c]||(l[c]=i,this.messages.set(t,l),await this.persist()),c},this.get=t=>{this.isInitialized();let i=this.messages.get(t);return typeof i>"u"&&(i={}),i},this.has=(t,i)=>{this.isInitialized();let c=this.get(t),l=$n(i);return"u">typeof c[l]},this.del=async t=>{this.isInitialized(),this.messages.delete(t),await this.persist()},this.logger=(0,tR.generateChildLogger)(t,this.name),this.core=i}get context(){return(0,tR.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,Bn(t))}async getRelayerMessages(){let t=await this.core.storage.getItem(this.storageKey);return"u">typeof t?Yn(t):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:t}=N("NOT_INITIALIZED",this.name);throw Error(t)}}};let lr=class lr extends u{constructor(t,i){super(t,i),this.relayer=t,this.logger=i,this.events=new ea.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=(0,to.toMiliseconds)(to.TEN_SECONDS),this.queueTimeout=(0,to.toMiliseconds)(to.FIVE_SECONDS),this.needsTransportRestart=!1,this.publish=async(t,i,c)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:t,message:i,opts:c}});try{let l=c?.ttl||r$,_=at(c),v=c?.prompt||!1,P=c?.tag||0,U=c?.id||getBigIntRpcId().toString(),k={topic:t,message:i,opts:{ttl:l,relay:_,prompt:v,tag:P,id:U}},B=setTimeout(()=>this.queue.set(U,k),this.queueTimeout);try{await await et(this.rpcPublish(t,i,l,_,v,P,U),this.publishTimeout),clearTimeout(B),this.relayer.events.emit(rB.publish,k)}catch{this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0;return}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:t,message:i,opts:c}})}catch(t){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(t),t}},this.on=(t,i)=>{this.events.on(t,i)},this.once=(t,i)=>{this.events.once(t,i)},this.off=(t,i)=>{this.events.off(t,i)},this.removeListener=(t,i)=>{this.events.removeListener(t,i)},this.relayer=t,this.logger=(0,tR.generateChildLogger)(i,this.name),this.registerEventListeners()}get context(){return(0,tR.getLoggerContext)(this.logger)}rpcPublish(t,i,c,l,_,v,P){var U,k,B,W;let J={method:ut(l.protocol).publish,params:{topic:t,message:i,ttl:c,prompt:_,tag:v},id:P};return I(null==(U=J.params)?void 0:U.prompt)&&(null==(k=J.params)||delete k.prompt),I(null==(B=J.params)?void 0:B.tag)&&(null==(W=J.params)||delete W.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:J}),this.relayer.request(J)}onPublish(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async t=>{let{topic:i,message:c,opts:l}=t;await this.publish(i,c,l)})}registerEventListeners(){this.relayer.core.heartbeat.on(tA.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(rB.connection_stalled);return}this.checkQueue()}),this.relayer.on(rB.message_ack,t=>{this.onPublish(t.id.toString())})}};let dr=class dr{constructor(){this.map=new Map,this.set=(t,i)=>{let c=this.get(t);this.exists(t,i)||this.map.set(t,[...c,i])},this.get=t=>this.map.get(t)||[],this.exists=(t,i)=>this.get(t).includes(i),this.delete=(t,i)=>{if(typeof i>"u"){this.map.delete(t);return}if(!this.map.has(t))return;let c=this.get(t);if(!this.exists(t,i))return;let l=c.filter(t=>t!==i);if(!l.length){this.map.delete(t);return}this.map.set(t,l)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}};var rZ=Object.defineProperty,rQ=Object.defineProperties,r0=Object.getOwnPropertyDescriptors,r1=Object.getOwnPropertySymbols,r5=Object.prototype.hasOwnProperty,r3=Object.prototype.propertyIsEnumerable,index_es_Rt=(t,i,c)=>i in t?rZ(t,i,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[i]=c,index_es_K=(t,i)=>{for(var c in i||(i={}))r5.call(i,c)&&index_es_Rt(t,c,i[c]);if(r1)for(var c of r1(i))r3.call(i,c)&&index_es_Rt(t,c,i[c]);return t},index_es_pe=(t,i)=>rQ(t,r0(i));let index_es_Tt=class index_es_Tt extends d{constructor(t,i){super(t,i),this.relayer=t,this.logger=i,this.subscriptions=new Map,this.topicMap=new dr,this.events=new ea.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=rj,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restart(),this.registerEventListeners(),this.onEnable(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(t,i)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:t,opts:i}});try{let c=at(i),l={topic:t,relay:c};this.pending.set(t,l);let _=await this.rpcSubscribe(t,c);return this.onSubscribe(_,l),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:t,opts:i}}),_}catch(t){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(t),t}},this.unsubscribe=async(t,i)=>{await this.restartToComplete(),this.isInitialized(),"u">typeof i?.id?await this.unsubscribeById(t,i.id,i):await this.unsubscribeByTopic(t,i)},this.isSubscribed=async t=>!!this.topics.includes(t)||await new Promise((i,c)=>{let l=new to.Watch;l.start(this.pendingSubscriptionWatchLabel);let _=setInterval(()=>{!this.pending.has(t)&&this.topics.includes(t)&&(clearInterval(_),l.stop(this.pendingSubscriptionWatchLabel),i(!0)),l.elapsed(this.pendingSubscriptionWatchLabel)>=rK&&(clearInterval(_),l.stop(this.pendingSubscriptionWatchLabel),c(Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1),this.on=(t,i)=>{this.events.on(t,i)},this.once=(t,i)=>{this.events.once(t,i)},this.off=(t,i)=>{this.events.off(t,i)},this.removeListener=(t,i)=>{this.events.removeListener(t,i)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=t,this.logger=(0,tR.generateChildLogger)(i,this.name),this.clientId=""}get context(){return(0,tR.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(t,i){let c=!1;try{c=this.getSubscription(t).topic===i}catch{}return c}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,i){let c=this.topicMap.get(t);await Promise.all(c.map(async c=>await this.unsubscribeById(t,c,i)))}async unsubscribeById(t,i,c){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:i,opts:c}});try{let l=at(c);await this.rpcUnsubscribe(t,i,l);let _=w("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,i,_),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:i,opts:c}})}catch(t){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(t),t}}async rpcSubscribe(t,i){let c={method:ut(i.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:c});try{await await et(this.relayer.request(c),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(rB.connection_stalled)}return $n(t+this.clientId)}async rpcBatchSubscribe(t){if(!t.length)return;let i=t[0].relay,c={method:ut(i.protocol).batchSubscribe,params:{topics:t.map(t=>t.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:c});try{return await await et(this.relayer.request(c),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(rB.connection_stalled)}}rpcUnsubscribe(t,i,c){let l={method:ut(c.protocol).unsubscribe,params:{topic:t,id:i}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:l}),this.relayer.request(l)}onSubscribe(t,i){this.setSubscription(t,index_es_pe(index_es_K({},i),{id:t})),this.pending.delete(i.topic)}onBatchSubscribe(t){t.length&&t.forEach(t=>{this.setSubscription(t.id,index_es_K({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(t,i,c){this.events.removeAllListeners(i),this.hasSubscription(i,t)&&this.deleteSubscription(i,c),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,i){this.subscriptions.has(t)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:i}),this.addSubscription(t,i))}addSubscription(t,i){this.subscriptions.set(t,index_es_K({},i)),this.topicMap.set(i.topic,t),this.events.emit(rV.created,i)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});let i=this.subscriptions.get(t);if(!i){let{message:i}=N("NO_MATCHING_KEY",`${this.name}: ${t}`);throw Error(i)}return i}deleteSubscription(t,i){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:i});let c=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(c.topic,t),this.events.emit(rV.deleted,index_es_pe(index_es_K({},c),{reason:i}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(rV.sync)}async reset(){if(this.cached.length){let t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let i=0;i<t;i++){let t=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(t)}}this.events.emit(rV.resubscribed)}async restore(){try{let t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){let{message:t}=N("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),Error(t)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){if(!t.length)return;let i=await this.rpcBatchSubscribe(t);j(i)&&this.onBatchSubscribe(i.map((i,c)=>index_es_pe(index_es_K({},t[c]),{id:i})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(this.relayer.transportExplicitlyClosed)return;let t=[];this.pending.forEach(i=>{t.push(i)}),await this.batchSubscribe(t)}registerEventListeners(){this.relayer.core.heartbeat.on(tA.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(rB.connect,async()=>{await this.onConnect()}),this.relayer.on(rB.disconnect,()=>{this.onDisconnect()}),this.events.on(rV.created,async t=>{let i=rV.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:t}),await this.persist()}),this.events.on(rV.deleted,async t=>{let i=rV.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:t}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:t}=N("NOT_INITIALIZED",this.name);throw Error(t)}}async restartToComplete(){this.restartInProgress&&await new Promise(t=>{let i=setInterval(()=>{this.restartInProgress||(clearInterval(i),t())},this.pollingInterval)})}};var r6=Object.defineProperty,r2=Object.getOwnPropertySymbols,r8=Object.prototype.hasOwnProperty,r4=Object.prototype.propertyIsEnumerable,index_es_Pt=(t,i,c)=>i in t?r6(t,i,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[i]=c,wr=(t,i)=>{for(var c in i||(i={}))r8.call(i,c)&&index_es_Pt(t,c,i[c]);if(r2)for(var c of r2(i))r4.call(i,c)&&index_es_Pt(t,c,i[c]);return t};let index_es_Ot=class index_es_Ot extends g{constructor(t){super(t),this.protocol="wc",this.version=2,this.events=new ea.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.request=async t=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(t)}catch(t){throw this.logger.debug("Failed to Publish Request"),this.logger.error(t),t}},this.core=t.core,this.logger="u">typeof t.logger&&"string"!=typeof t.logger?(0,tR.generateChildLogger)(t.logger,this.name):(0,tR.pino)((0,tR.getDefaultLoggerOptions)({level:t.logger||"error"})),this.messages=new index_es_Ct(this.logger,t.core),this.subscriber=new index_es_Tt(this,this.logger),this.publisher=new lr(this,this.logger),this.relayUrl=t?.relayUrl||rz,this.projectId=t.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${rH}...`),await this.restartTransport(rH)}this.registerEventListeners(),this.initialized=!0,setTimeout(async()=>{0===this.subscriber.topics.length&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},1e4)}get context(){return(0,tR.getLoggerContext)(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(t,i,c){this.isInitialized(),await this.publisher.publish(t,i,c),await this.recordMessageEvent({topic:t,message:i,publishedAt:Date.now()})}async subscribe(t,i){var c;this.isInitialized();let l=(null==(c=this.subscriber.topicMap.get(t))?void 0:c[0])||"";return l||(await Promise.all([new Promise(i=>{this.subscriber.once(rV.created,c=>{c.topic===t&&i()})}),new Promise(async c=>{l=await this.subscriber.subscribe(t,i),c()})]),l)}async unsubscribe(t,i){this.isInitialized(),await this.subscriber.unsubscribe(t,i)}on(t,i){this.events.on(t,i)}once(t,i){this.events.once(t,i)}off(t,i){this.events.off(t,i)}removeListener(t,i){this.events.removeListener(t,i)}async transportClose(){this.transportExplicitlyClosed=!0,this.connected&&(await this.provider.disconnect(),this.events.emit(rB.transport_closed))}async transportOpen(t){if(this.transportExplicitlyClosed=!1,!this.reconnecting){this.relayUrl=t||this.relayUrl,this.reconnecting=!0;try{await Promise.all([new Promise(t=>{this.initialized||t(),this.subscriber.once(rV.resubscribed,()=>{t()})}),await Promise.race([new Promise(async(t,i)=>{await et(this.provider.connect(),5e3,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(t=>i(t)).then(()=>t()).finally(()=>this.removeListener(rB.transport_closed,this.rejectTransportOpen))}),new Promise(t=>this.once(rB.transport_closed,this.rejectTransportOpen))])])}catch(t){if(this.logger.error(t),!this.isConnectionStalled(t.message))throw t;this.events.emit(rB.transport_closed)}finally{this.reconnecting=!1}}}async restartTransport(t){this.transportExplicitlyClosed||this.reconnecting||(this.relayUrl=t||this.relayUrl,this.connected&&await Promise.all([new Promise(t=>{this.provider.once(rF.disconnect,()=>{t()})}),this.transportClose()]),await this.createProvider(),await this.transportOpen())}isConnectionStalled(t){return this.staleConnectionErrors.some(i=>t.includes(i))}rejectTransportOpen(){throw Error("Attempt to connect to relay via `transportOpen` has stalled. Retrying...")}async createProvider(){let t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new JsonRpcProvider(new tB(function({protocol:t,version:i,relayUrl:l,sdkVersion:_,auth:v,projectId:P,useOnCloseEvent:U}){var k;let B;let W=l.split("?"),J=function(t,i,l){let _=function(){var t;if("u">typeof(null==c.g?void 0:c.g.Platform)){let{OS:t,Version:i}=c.g.Platform;return[t,i].join("-")}let i=t?parseUserAgent(t):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new ReactNativeInfo:"undefined"!=typeof navigator?parseUserAgent(navigator.userAgent):void 0!==e7&&e7.version?new NodeInfo(e7.version.slice(1)):null;if(null===i)return"unknown";let l=i.os?i.os.replace(" ","").toLowerCase():"unknown";return"browser"===i.type?[l,i.name,i.version].join("-"):[l,i.version].join("-")}(),v=function(){var t;let i=F();return i===tE.browser?[i,(null==(t=(0,tc.getLocation)())?void 0:t.host)||"unknown"].join(":"):i}();return[[t,i].join("-"),["js",l].join("-"),_,v].join("/")}(t,i,_),X=(k=W[1]||"",B=we(we({},B=th.parse(k)),{auth:v,ua:J,projectId:P,useOnCloseEvent:U||void 0}),k=th.stringify(B));return W[0]+"?"+X}({sdkVersion:"2.8.6",protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0}))),this.registerProviderListeners()}async recordMessageEvent(t){let{topic:i,message:c}=t;await this.messages.set(i,c)}async shouldIgnoreMessageEvent(t){let{topic:i,message:c}=t;return!await this.subscriber.isSubscribed(i)||this.messages.has(i,c)}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),isJsonRpcRequest(t)){if(!t.method.endsWith("_subscription"))return;let i=t.params,{topic:c,message:l,publishedAt:_}=i.data,v={topic:c,message:l,publishedAt:_};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(wr({type:"event",event:i.id},v)),this.events.emit(i.id,v),await this.acknowledgePayload(t),await this.onMessageEvent(v)}else isJsonRpcResponse(t)&&this.events.emit(rB.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(this.events.emit(rB.message,t),await this.recordMessageEvent(t))}async acknowledgePayload(t){let i=formatJsonRpcResult(t.id,!0);await this.provider.connection.send(i)}registerProviderListeners(){this.provider.on(rF.payload,t=>this.onProviderPayload(t)),this.provider.on(rF.connect,()=>{this.events.emit(rB.connect)}),this.provider.on(rF.disconnect,()=>{this.onProviderDisconnect()}),this.provider.on(rF.error,t=>{this.logger.error(t),this.events.emit(rB.error,t)})}registerEventListeners(){this.events.on(rB.connection_stalled,async()=>{await this.restartTransport()})}onProviderDisconnect(){this.events.emit(rB.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||setTimeout(async()=>{await this.restartTransport()},(0,to.toMiliseconds)(rq))}isInitialized(){if(!this.initialized){let{message:t}=N("NOT_INITIALIZED",this.name);throw Error(t)}}async toEstablishConnection(){if(!this.connected){if(this.connecting)return await new Promise(t=>{let i=setInterval(()=>{this.connected&&(clearInterval(i),t())},this.connectionStatusPollingInterval)});await this.restartTransport()}}};var r9=Object.defineProperty,r7=Object.getOwnPropertySymbols,nn=Object.prototype.hasOwnProperty,ns=Object.prototype.propertyIsEnumerable,index_es_At=(t,i,c)=>i in t?r9(t,i,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[i]=c,index_es_zt=(t,i)=>{for(var c in i||(i={}))nn.call(i,c)&&index_es_At(t,c,i[c]);if(r7)for(var c of r7(i))ns.call(i,c)&&index_es_At(t,c,i[c]);return t};let index_es_Nt=class index_es_Nt extends p{constructor(t,i,c,l=rj,_){super(t,i,c,l),this.core=t,this.logger=i,this.name=c,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=rj,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(t=>{var i;this.getKey&&null!==t&&!I(t)?this.map.set(this.getKey(t),t):(null==(i=t?.proposer)?void 0:i.publicKey)?this.map.set(t.id,t):t?.topic&&this.map.set(t.topic,t)}),this.cached=[],this.initialized=!0)},this.set=async(t,i)=>{this.isInitialized(),this.map.has(t)?await this.update(t,i):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:t,value:i}),this.map.set(t,i),await this.persist())},this.get=t=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:t}),this.getData(t)),this.getAll=t=>(this.isInitialized(),t?this.values.filter(i=>Object.keys(t).every(c=>tq()(i[c],t[c]))):this.values),this.update=async(t,i)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:t,update:i});let c=index_es_zt(index_es_zt({},this.getData(t)),i);this.map.set(t,c),await this.persist()},this.delete=async(t,i)=>{this.isInitialized(),this.map.has(t)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:t,reason:i}),this.map.delete(t),await this.persist())},this.logger=(0,tR.generateChildLogger)(i,this.name),this.storagePrefix=l,this.getKey=_}get context(){return(0,tR.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){let i=this.map.get(t);if(!i){let{message:i}=N("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(i),Error(i)}return i}async persist(){await this.setDataStore(this.values)}async restore(){try{let t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){let{message:t}=N("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),Error(t)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){let{message:t}=N("NOT_INITIALIZED",this.name);throw Error(t)}}};let index_es_Ut=class index_es_Ut{constructor(t,i){this.core=t,this.logger=i,this.name="pairing",this.version="0.3",this.events=new(ec()),this.initialized=!1,this.storagePrefix=rj,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:t})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...t])]},this.create=async()=>{var t;this.isInitialized();let i=An(),c=await this.core.crypto.setSymKey(i),l=ot(to.FIVE_MINUTES),_={protocol:"irn"},v=(t={protocol:this.core.protocol,version:this.core.version,topic:c,symKey:i,relay:_},`${t.protocol}:${t.topic}@${t.version}?`+th.stringify(pt({symKey:t.symKey},function(t,i="-"){let c={};return Object.keys(t).forEach(l=>{t[l]&&(c["relay"+i+l]=t[l])}),c}(t.relay))));return await this.pairings.set(c,{topic:c,expiry:l,relay:_,active:!1}),await this.core.relayer.subscribe(c),this.core.expirer.set(c,l),{topic:c,uri:v}},this.pair=async t=>{this.isInitialized(),this.isValidPair(t);let{topic:i,symKey:c,relay:l}=function(t){var i;let c=t.indexOf(":"),l=-1!==t.indexOf("?")?t.indexOf("?"):void 0,_=t.substring(0,c),v=t.substring(c+1,l).split("@"),P="u">typeof l?t.substring(l):"",U=th.parse(P);return{protocol:_,topic:(i=v[0]).startsWith("//")?i.substring(2):i,version:parseInt(v[1],10),symKey:U.symKey,relay:function(t,i="-"){let c={},l="relay"+i;return Object.keys(t).forEach(i=>{if(i.startsWith(l)){let _=i.replace(l,""),v=t[i];c[_]=v}}),c}(U)}}(t.uri);if(this.pairings.keys.includes(i))throw Error(`Pairing already exists: ${i}`);if(this.core.crypto.hasKeys(i))throw Error(`Keychain already exists: ${i}`);let _=ot(to.FIVE_MINUTES),v={topic:i,relay:l,expiry:_,active:!1};return await this.pairings.set(i,v),await this.core.crypto.setSymKey(c,i),await this.core.relayer.subscribe(i,{relay:l}),this.core.expirer.set(i,_),t.activatePairing&&await this.activate({topic:i}),v},this.activate=async({topic:t})=>{this.isInitialized();let i=ot(to.THIRTY_DAYS);await this.pairings.update(t,{active:!0,expiry:i}),this.core.expirer.set(t,i)},this.ping=async t=>{this.isInitialized(),await this.isValidPing(t);let{topic:i}=t;if(this.pairings.keys.includes(i)){let t=await this.sendRequest(i,"wc_pairingPing",{}),{done:c,resolve:l,reject:_}=Xn();this.events.once(it("pairing_ping",t),({error:t})=>{t?_(t):l()}),await c()}},this.updateExpiry=async({topic:t,expiry:i})=>{this.isInitialized(),await this.pairings.update(t,{expiry:i})},this.updateMetadata=async({topic:t,metadata:i})=>{this.isInitialized(),await this.pairings.update(t,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async t=>{this.isInitialized(),await this.isValidDisconnect(t);let{topic:i}=t;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",w("USER_DISCONNECTED")),await this.deletePairing(i))},this.sendRequest=async(t,i,c)=>{let l=formatJsonRpcRequest(i,c),_=await this.core.crypto.encode(t,l),v=rW[i].req;return this.core.history.set(t,l),this.core.relayer.publish(t,_,v),l.id},this.sendResult=async(t,i,c)=>{let l=formatJsonRpcResult(t,c),_=await this.core.crypto.encode(i,l),v=await this.core.history.get(i,t),P=rW[v.request.method].res;await this.core.relayer.publish(i,_,P),await this.core.history.resolve(l)},this.sendError=async(t,i,c)=>{let l=formatJsonRpcError(t,c),_=await this.core.crypto.encode(i,l),v=await this.core.history.get(i,t),P=rW[v.request.method]?rW[v.request.method].res:rW.unregistered_method.res;await this.core.relayer.publish(i,_,P),await this.core.history.resolve(l)},this.deletePairing=async(t,i)=>{await this.core.relayer.unsubscribe(t),await Promise.all([this.pairings.delete(t,w("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(t),i?Promise.resolve():this.core.expirer.del(t)])},this.cleanup=async()=>{let t=this.pairings.getAll().filter(t=>st(t.expiry));await Promise.all(t.map(t=>this.deletePairing(t.topic)))},this.onRelayEventRequest=t=>{let{topic:i,payload:c}=t,l=c.method;if(this.pairings.keys.includes(i))switch(l){case"wc_pairingPing":return this.onPairingPingRequest(i,c);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,c);default:return this.onUnknownRpcMethodRequest(i,c)}},this.onRelayEventResponse=async t=>{let{topic:i,payload:c}=t,l=(await this.core.history.get(i,c.id)).request.method;if(this.pairings.keys.includes(i))return"wc_pairingPing"===l?this.onPairingPingResponse(i,c):this.onUnknownRpcMethodResponse(l)},this.onPairingPingRequest=async(t,i)=>{let{id:c}=i;try{this.isValidPing({topic:t}),await this.sendResult(c,t,!0),this.events.emit("pairing_ping",{id:c,topic:t})}catch(i){await this.sendError(c,t,i),this.logger.error(i)}},this.onPairingPingResponse=(t,i)=>{let{id:c}=i;setTimeout(()=>{isJsonRpcResult(i)?this.events.emit(it("pairing_ping",c),{}):isJsonRpcError(i)&&this.events.emit(it("pairing_ping",c),{error:i.error})},500)},this.onPairingDeleteRequest=async(t,i)=>{let{id:c}=i;try{this.isValidDisconnect({topic:t}),await this.deletePairing(t),this.events.emit("pairing_delete",{id:c,topic:t})}catch(i){await this.sendError(c,t,i),this.logger.error(i)}},this.onUnknownRpcMethodRequest=async(t,i)=>{let{id:c,method:l}=i;try{if(this.registeredMethods.includes(l))return;let i=w("WC_METHOD_UNSUPPORTED",l);await this.sendError(c,t,i),this.logger.error(i)}catch(i){await this.sendError(c,t,i),this.logger.error(i)}},this.onUnknownRpcMethodResponse=t=>{this.registeredMethods.includes(t)||this.logger.error(w("WC_METHOD_UNSUPPORTED",t))},this.isValidPair=t=>{if(!Dt(t)){let{message:i}=N("MISSING_OR_INVALID",`pair() params: ${t}`);throw Error(i)}if(!function(t){if(m(t,!1))try{return"u">typeof new URL(t)}catch{}return!1}(t.uri)){let{message:i}=N("MISSING_OR_INVALID",`pair() uri: ${t.uri}`);throw Error(i)}},this.isValidPing=async t=>{if(!Dt(t)){let{message:i}=N("MISSING_OR_INVALID",`ping() params: ${t}`);throw Error(i)}let{topic:i}=t;await this.isValidPairingTopic(i)},this.isValidDisconnect=async t=>{if(!Dt(t)){let{message:i}=N("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw Error(i)}let{topic:i}=t;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async t=>{if(!m(t,!1)){let{message:i}=N("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw Error(i)}if(!this.pairings.keys.includes(t)){let{message:i}=N("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw Error(i)}if(st(this.pairings.get(t).expiry)){await this.deletePairing(t);let{message:i}=N("EXPIRED",`pairing topic: ${t}`);throw Error(i)}},this.core=t,this.logger=(0,tR.generateChildLogger)(i,this.name),this.pairings=new index_es_Nt(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,tR.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){let{message:t}=N("NOT_INITIALIZED",this.name);throw Error(t)}}registerRelayerEvents(){this.core.relayer.on(rB.message,async t=>{let{topic:i,message:c}=t;if(this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(c)))return;let l=await this.core.crypto.decode(i,c);isJsonRpcRequest(l)?(this.core.history.set(i,l),this.onRelayEventRequest({topic:i,payload:l})):isJsonRpcResponse(l)&&(await this.core.history.resolve(l),await this.onRelayEventResponse({topic:i,payload:l}),this.core.history.delete(i,l.id))})}registerExpirerEvents(){this.core.expirer.on(rJ.expired,async t=>{let{topic:i}=rt(t.target);i&&this.pairings.keys.includes(i)&&(await this.deletePairing(i,!0),this.events.emit("pairing_expire",{topic:i}))})}};let index_es_Lt=class index_es_Lt extends h{constructor(t,i){super(t,i),this.core=t,this.logger=i,this.records=new Map,this.events=new ea.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=rj,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(t=>this.records.set(t.id,t)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(t,i,c)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:t,request:i,chainId:c}),this.records.has(i.id))return;let l={id:i.id,topic:t,request:{method:i.method,params:i.params||null},chainId:c,expiry:ot(to.THIRTY_DAYS)};this.records.set(l.id,l),this.events.emit(rG.created,l)},this.resolve=async t=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:t}),!this.records.has(t.id))return;let i=await this.getRecord(t.id);typeof i.response>"u"&&(i.response=isJsonRpcError(t)?{error:t.error}:{result:t.result},this.records.set(i.id,i),this.events.emit(rG.updated,i))},this.get=async(t,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:t,id:i}),await this.getRecord(i)),this.delete=(t,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(c=>{c.topic!==t||"u">typeof i&&c.id!==i||(this.records.delete(c.id),this.events.emit(rG.deleted,c))})},this.exists=async(t,i)=>(this.isInitialized(),!!this.records.has(i)&&(await this.getRecord(i)).topic===t),this.on=(t,i)=>{this.events.on(t,i)},this.once=(t,i)=>{this.events.once(t,i)},this.off=(t,i)=>{this.events.off(t,i)},this.removeListener=(t,i)=>{this.events.removeListener(t,i)},this.logger=(0,tR.generateChildLogger)(i,this.name)}get context(){return(0,tR.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let t=[];return this.values.forEach(i=>{if("u">typeof i.response)return;let c={topic:i.topic,request:formatJsonRpcRequest(i.request.method,i.request.params,i.id),chainId:i.chainId};return t.push(c)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();let i=this.records.get(t);if(!i){let{message:i}=N("NO_MATCHING_KEY",`${this.name}: ${t}`);throw Error(i)}return i}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(rG.sync)}async restore(){try{let t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){let{message:t}=N("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),Error(t)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(rG.created,t=>{let i=rG.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,record:t}),this.persist()}),this.events.on(rG.updated,t=>{let i=rG.updated;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,record:t}),this.persist()}),this.events.on(rG.deleted,t=>{let i=rG.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,record:t}),this.persist()}),this.core.heartbeat.on(tA.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(t=>{(0,to.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.delete(t.topic,t.id))})}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){let{message:t}=N("NOT_INITIALIZED",this.name);throw Error(t)}}};let index_es_Ft=class index_es_Ft extends E{constructor(t,i){super(t,i),this.core=t,this.logger=i,this.expirations=new Map,this.events=new ea.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=rj,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(t=>this.expirations.set(t.target,t)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=t=>{try{let i=this.formatTarget(t);return"u">typeof this.getExpiration(i)}catch{return!1}},this.set=(t,i)=>{this.isInitialized();let c=this.formatTarget(t),l={target:c,expiry:i};this.expirations.set(c,l),this.checkExpiry(c,l),this.events.emit(rJ.created,{target:c,expiration:l})},this.get=t=>{this.isInitialized();let i=this.formatTarget(t);return this.getExpiration(i)},this.del=t=>{if(this.isInitialized(),this.has(t)){let i=this.formatTarget(t),c=this.getExpiration(i);this.expirations.delete(i),this.events.emit(rJ.deleted,{target:i,expiration:c})}},this.on=(t,i)=>{this.events.on(t,i)},this.once=(t,i)=>{this.events.once(t,i)},this.off=(t,i)=>{this.events.off(t,i)},this.removeListener=(t,i)=>{this.events.removeListener(t,i)},this.logger=(0,tR.generateChildLogger)(i,this.name)}get context(){return(0,tR.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if("string"==typeof t)return ne("topic",t);if("number"==typeof t)return ne("id",t);let{message:i}=N("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw Error(i)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(rJ.sync)}async restore(){try{let t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){let{message:t}=N("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),Error(t)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){let i=this.expirations.get(t);if(!i){let{message:i}=N("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(i),Error(i)}return i}checkExpiry(t,i){let{expiry:c}=i;(0,to.toMiliseconds)(c)-Date.now()<=0&&this.expire(t,i)}expire(t,i){this.expirations.delete(t),this.events.emit(rJ.expired,{target:t,expiration:i})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,i)=>this.checkExpiry(i,t))}registerEventListeners(){this.core.heartbeat.on(tA.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(rJ.created,t=>{let i=rJ.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:t}),this.persist()}),this.events.on(rJ.expired,t=>{let i=rJ.expired;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:t}),this.persist()}),this.events.on(rJ.deleted,t=>{let i=rJ.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:t}),this.persist()})}isInitialized(){if(!this.initialized){let{message:t}=N("NOT_INITIALIZED",this.name);throw Error(t)}}};let index_es_$t=class index_es_$t extends y{constructor(t,i){super(t,i),this.projectId=t,this.logger=i,this.name=rY,this.initialized=!1,this.init=async t=>{$e()||!je()||(this.verifyUrl=t?.verifyUrl||rX,await this.createIframe())},this.register=async t=>{var i;if(this.initialized||await this.init(),this.iframe)try{null==(i=this.iframe.contentWindow)||i.postMessage(t.attestationId,this.verifyUrl),this.logger.info(`postMessage sent: ${t.attestationId} ${this.verifyUrl}`)}catch{}},this.resolve=async t=>{var i;if(this.isDevEnv)return"";this.logger.info(`resolving attestation: ${t.attestationId}`);let c=this.startAbortTimer(to.FIVE_SECONDS),l=await fetch(`${this.verifyUrl}/attestation/${t.attestationId}`,{signal:this.abortController.signal});return clearTimeout(c),200===l.status?null==(i=await l.json())?void 0:i.origin:""},this.createIframe=async()=>{try{await Promise.race([new Promise((t,i)=>{if(document.getElementById(rY))return t();let c=document.createElement("iframe");c.setAttribute("id",rY),c.setAttribute("src",`${this.verifyUrl}/${this.projectId}`),c.style.display="none",c.addEventListener("load",()=>{this.initialized=!0,t()}),c.addEventListener("error",t=>{i(t)}),document.body.append(c),this.iframe=c}),new Promise(t=>{setTimeout(()=>t("iframe load timeout"),(0,to.toMiliseconds)(to.ONE_SECOND/2))})])}catch(t){this.logger.error(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.error(t)}},this.logger=(0,tR.generateChildLogger)(i,this.name),this.verifyUrl=rX,this.abortController=new AbortController,this.isDevEnv=ee()&&tV.env.IS_VITEST}get context(){return(0,tR.getLoggerContext)(this.logger)}startAbortTimer(t){return setTimeout(()=>this.abortController.abort(),(0,to.toMiliseconds)(t))}};var na=Object.defineProperty,nc=Object.getOwnPropertySymbols,nl=Object.prototype.hasOwnProperty,nh=Object.prototype.propertyIsEnumerable,index_es_Kt=(t,i,c)=>i in t?na(t,i,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[i]=c,index_es_kt=(t,i)=>{for(var c in i||(i={}))nl.call(i,c)&&index_es_Kt(t,c,i[c]);if(nc)for(var c of nc(i))nh.call(i,c)&&index_es_Kt(t,c,i[c]);return t};let index_es_Z=class index_es_Z extends n{constructor(t){super(t),this.protocol="wc",this.version=2,this.name=rT,this.events=new ea.EventEmitter,this.initialized=!1,this.on=(t,i)=>this.events.on(t,i),this.once=(t,i)=>this.events.once(t,i),this.off=(t,i)=>this.events.off(t,i),this.removeListener=(t,i)=>this.events.removeListener(t,i),this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||rz;let i="u">typeof t?.logger&&"string"!=typeof t?.logger?t.logger:(0,tR.pino)((0,tR.getDefaultLoggerOptions)({level:t?.logger||rL.logger}));this.logger=(0,tR.generateChildLogger)(i,this.name),this.heartbeat=new tA.HeartBeat,this.crypto=new index_es_It(this,this.logger,t?.keychain),this.history=new index_es_Lt(this,this.logger),this.expirer=new index_es_Ft(this,this.logger),this.storage=null!=t&&t.storage?t.storage:new tC.ZP(index_es_kt(index_es_kt({},rU),t?.storageOptions)),this.relayer=new index_es_Ot({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new index_es_Ut(this,this.logger),this.verify=new index_es_$t(this.projectId||"",this.logger)}static async init(t){let i=new index_es_Z(t);await i.initialize();let c=await i.crypto.getClientId();return await i.storage.setItem("WALLETCONNECT_CLIENT_ID",c),i}get context(){return(0,tR.getLoggerContext)(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}};let nf="client",nd=`wc@2:${nf}:`,np={name:nf,logger:"error"},ng="Proposal expired",n_=to.SEVEN_DAYS,ny={wc_sessionPropose:{req:{ttl:to.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:to.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:to.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:to.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:to.ONE_DAY,prompt:!1,tag:1104},res:{ttl:to.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:to.ONE_DAY,prompt:!1,tag:1106},res:{ttl:to.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:to.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:to.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:to.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:to.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:to.ONE_DAY,prompt:!1,tag:1112},res:{ttl:to.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:to.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:to.THIRTY_SECONDS,prompt:!1,tag:1115}}},nm={min:to.FIVE_MINUTES,max:to.SEVEN_DAYS},nb=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var nw=Object.defineProperty,nE=Object.defineProperties,nD=Object.getOwnPropertyDescriptors,nS=Object.getOwnPropertySymbols,nx=Object.prototype.hasOwnProperty,nI=Object.prototype.propertyIsEnumerable,index_es_ce=(t,i,c)=>i in t?nw(t,i,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[i]=c,dist_index_es_w=(t,i)=>{for(var c in i||(i={}))nx.call(i,c)&&index_es_ce(t,c,i[c]);if(nS)for(var c of nS(i))nI.call(i,c)&&index_es_ce(t,c,i[c]);return t},dist_index_es_H=(t,i)=>nE(t,nD(i));let index_es_ns=class index_es_ns extends index_es_S{constructor(t){super(t),this.name="engine",this.events=new(ec()),this.initialized=!1,this.ignoredPayloadTypes=[1],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(ny)}),this.initialized=!0)},this.connect=async t=>{this.isInitialized();let i=dist_index_es_H(dist_index_es_w({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(i);let{pairingTopic:c,requiredNamespaces:l,optionalNamespaces:_,sessionProperties:v,relays:P}=i,U=c,k,B=!1;if(U&&(B=this.client.core.pairing.pairings.get(U).active),!U||!B){let{topic:t,uri:i}=await this.client.core.pairing.create();U=t,k=i}let W=await this.client.core.crypto.generateKeyPair(),J=dist_index_es_w({requiredNamespaces:l,optionalNamespaces:_,relays:P??[{protocol:"irn"}],proposer:{publicKey:W,metadata:this.client.metadata}},v&&{sessionProperties:v}),{reject:X,resolve:Q,done:er}=Xn(to.FIVE_MINUTES,ng);if(this.events.once(it("session_connect"),async({error:t,session:i})=>{if(t)X(t);else if(i){i.self.publicKey=W;let t=dist_index_es_H(dist_index_es_w({},i),{requiredNamespaces:i.requiredNamespaces,optionalNamespaces:i.optionalNamespaces});await this.client.session.set(i.topic,t),await this.setExpiry(i.topic,i.expiry),U&&await this.client.core.pairing.updateMetadata({topic:U,metadata:i.peer.metadata}),Q(t)}}),!U){let{message:t}=N("NO_MATCHING_KEY",`connect() pairing topic: ${U}`);throw Error(t)}let es=await this.sendRequest(U,"wc_sessionPropose",J),eo=ot(to.FIVE_MINUTES);return await this.setProposal(es,dist_index_es_w({id:es,expiry:eo},J)),{uri:k,approval:er}},this.pair=async t=>(this.isInitialized(),await this.client.core.pairing.pair(t)),this.approve=async t=>{this.isInitialized(),await this.isValidApprove(t);let{id:i,relayProtocol:c,namespaces:l,sessionProperties:_}=t,v=this.client.proposal.get(i),{pairingTopic:P,proposer:U,requiredNamespaces:k,optionalNamespaces:B}=v;P=P||"",H(k)||(k=function(t,i){let c=sn(t,i);if(c)throw Error(c.message);let l={};for(let[i,c]of Object.entries(t))l[i]={methods:c.methods,events:c.events,chains:c.accounts.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)};return l}(l,"approve()"));let W=await this.client.core.crypto.generateKeyPair(),J=U.publicKey,X=await this.client.core.crypto.generateSharedKey(W,J);P&&i&&(await this.client.core.pairing.updateMetadata({topic:P,metadata:U.metadata}),await this.sendResult(i,P,{relay:{protocol:c??"irn"},responderPublicKey:W}),await this.client.proposal.delete(i,w("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:P}));let Q=dist_index_es_w({relay:{protocol:c??"irn"},namespaces:l,requiredNamespaces:k,optionalNamespaces:B,pairingTopic:P,controller:{publicKey:W,metadata:this.client.metadata},expiry:ot(n_)},_&&{sessionProperties:_});await this.client.core.relayer.subscribe(X),await this.sendRequest(X,"wc_sessionSettle",Q);let er=dist_index_es_H(dist_index_es_w({},Q),{topic:X,pairingTopic:P,acknowledged:!1,self:Q.controller,peer:{publicKey:U.publicKey,metadata:U.metadata},controller:W});return await this.client.session.set(X,er),await this.setExpiry(X,ot(n_)),{topic:X,acknowledged:()=>new Promise(t=>setTimeout(()=>t(this.client.session.get(X)),500))}},this.reject=async t=>{this.isInitialized(),await this.isValidReject(t);let{id:i,reason:c}=t,{pairingTopic:l}=this.client.proposal.get(i);l&&(await this.sendError(i,l,c),await this.client.proposal.delete(i,w("USER_DISCONNECTED")))},this.update=async t=>{this.isInitialized(),await this.isValidUpdate(t);let{topic:i,namespaces:c}=t,l=await this.sendRequest(i,"wc_sessionUpdate",{namespaces:c}),{done:_,resolve:v,reject:P}=Xn();return this.events.once(it("session_update",l),({error:t})=>{t?P(t):v()}),await this.client.session.update(i,{namespaces:c}),{acknowledged:_}},this.extend=async t=>{this.isInitialized(),await this.isValidExtend(t);let{topic:i}=t,c=await this.sendRequest(i,"wc_sessionExtend",{}),{done:l,resolve:_,reject:v}=Xn();return this.events.once(it("session_extend",c),({error:t})=>{t?v(t):_()}),await this.setExpiry(i,ot(n_)),{acknowledged:l}},this.request=async t=>{this.isInitialized(),await this.isValidRequest(t);let{chainId:i,request:c,topic:l,expiry:_}=t,v=await this.sendRequest(l,"wc_sessionRequest",{request:c,chainId:i},_),{done:P,resolve:U,reject:k}=Xn(_);this.events.once(it("session_request",v),({error:t,result:i})=>{t?k(t):U(i)}),this.client.events.emit("session_request_sent",{topic:l,request:c,chainId:i,id:v});let B=await this.client.core.storage.getItem("WALLETCONNECT_DEEPLINK_CHOICE");return ct({id:v,topic:l,wcDeepLink:B}),await P()},this.respond=async t=>{this.isInitialized(),await this.isValidRespond(t);let{topic:i,response:c}=t,{id:l}=c;isJsonRpcResult(c)?await this.sendResult(l,i,c.result):isJsonRpcError(c)&&await this.sendError(l,i,c.error),this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0})},this.ping=async t=>{this.isInitialized(),await this.isValidPing(t);let{topic:i}=t;if(this.client.session.keys.includes(i)){let t=await this.sendRequest(i,"wc_sessionPing",{}),{done:c,resolve:l,reject:_}=Xn();this.events.once(it("session_ping",t),({error:t})=>{t?_(t):l()}),await c()}else this.client.core.pairing.pairings.keys.includes(i)&&await this.client.core.pairing.ping({topic:i})},this.emit=async t=>{this.isInitialized(),await this.isValidEmit(t);let{topic:i,event:c,chainId:l}=t;await this.sendRequest(i,"wc_sessionEvent",{event:c,chainId:l})},this.disconnect=async t=>{this.isInitialized(),await this.isValidDisconnect(t);let{topic:i}=t;if(this.client.session.keys.includes(i)){let t;let c=getBigIntRpcId().toString(),r=i=>{i?.id.toString()===c&&(this.client.core.relayer.events.removeListener(rB.message_ack,r),t())};await Promise.all([new Promise(i=>{t=i,this.client.core.relayer.on(rB.message_ack,r)}),this.sendRequest(i,"wc_sessionDelete",w("USER_DISCONNECTED"),void 0,c)]),await this.deleteSession(i)}else await this.client.core.pairing.disconnect({topic:i})},this.find=t=>(this.isInitialized(),this.client.session.getAll().filter(i=>(function(t,i){let{requiredNamespaces:c}=i,l=Object.keys(t.namespaces),_=Object.keys(c),v=!0;return!!O(_,l)&&(l.forEach(i=>{let{accounts:l,methods:_,events:P}=t.namespaces[i],U=R(l),k=c[i];O(M(i,k),U)&&O(k.methods,_)&&O(k.events,P)||(v=!1)}),v)})(i,t))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async t=>{if(t.pairingTopic)try{let i=this.client.core.pairing.pairings.get(t.pairingTopic),c=this.client.core.pairing.pairings.getAll().filter(c=>{var l,_;return(null==(l=c.peerMetadata)?void 0:l.url)&&(null==(_=c.peerMetadata)?void 0:_.url)===t.peer.metadata.url&&c.topic&&c.topic!==i.topic});if(0===c.length)return;this.client.logger.info(`Cleaning up ${c.length} duplicate pairing(s)`),await Promise.all(c.map(t=>this.client.core.pairing.disconnect({topic:t.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(t){this.client.logger.error(t)}},this.deleteSession=async(t,i)=>{let{self:c}=this.client.session.get(t);await this.client.core.relayer.unsubscribe(t),this.client.session.delete(t,w("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(t)&&await this.client.core.crypto.deleteSymKey(t),i||this.client.core.expirer.del(t)},this.deleteProposal=async(t,i)=>{await Promise.all([this.client.proposal.delete(t,w("USER_DISCONNECTED")),i?Promise.resolve():this.client.core.expirer.del(t)])},this.deletePendingSessionRequest=async(t,i,c=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,i),c?Promise.resolve():this.client.core.expirer.del(t)])},this.setExpiry=async(t,i)=>{this.client.session.keys.includes(t)&&await this.client.session.update(t,{expiry:i}),this.client.core.expirer.set(t,i)},this.setProposal=async(t,i)=>{await this.client.proposal.set(t,i),this.client.core.expirer.set(t,i.expiry)},this.setPendingSessionRequest=async t=>{let i=ny.wc_sessionRequest.req.ttl,{id:c,topic:l,params:_}=t;await this.client.pendingRequest.set(c,{id:c,topic:l,params:_}),i&&this.client.core.expirer.set(c,ot(i))},this.sendRequest=async(t,i,c,l,_)=>{let v=formatJsonRpcRequest(i,c);if(je()&&nb.includes(i)){let t=$n(JSON.stringify(v));await this.client.core.verify.register({attestationId:t})}let P=await this.client.core.crypto.encode(t,v),U=ny[i].req;return l&&(U.ttl=l),_&&(U.id=_),this.client.core.history.set(t,v),this.client.core.relayer.publish(t,P,U),v.id},this.sendResult=async(t,i,c)=>{let l=formatJsonRpcResult(t,c),_=await this.client.core.crypto.encode(i,l),v=await this.client.core.history.get(i,t),P=ny[v.request.method].res;this.client.core.relayer.publish(i,_,P),await this.client.core.history.resolve(l)},this.sendError=async(t,i,c)=>{let l=formatJsonRpcError(t,c),_=await this.client.core.crypto.encode(i,l),v=await this.client.core.history.get(i,t),P=ny[v.request.method].res;this.client.core.relayer.publish(i,_,P),await this.client.core.history.resolve(l)},this.cleanup=async()=>{let t=[],i=[];this.client.session.getAll().forEach(i=>{st(i.expiry)&&t.push(i.topic)}),this.client.proposal.getAll().forEach(t=>{st(t.expiry)&&i.push(t.id)}),await Promise.all([...t.map(t=>this.deleteSession(t)),...i.map(t=>this.deleteProposal(t))])},this.onRelayEventRequest=t=>{let{topic:i,payload:c}=t,l=c.method;switch(l){case"wc_sessionPropose":return this.onSessionProposeRequest(i,c);case"wc_sessionSettle":return this.onSessionSettleRequest(i,c);case"wc_sessionUpdate":return this.onSessionUpdateRequest(i,c);case"wc_sessionExtend":return this.onSessionExtendRequest(i,c);case"wc_sessionPing":return this.onSessionPingRequest(i,c);case"wc_sessionDelete":return this.onSessionDeleteRequest(i,c);case"wc_sessionRequest":return this.onSessionRequest(i,c);case"wc_sessionEvent":return this.onSessionEventRequest(i,c);default:return this.client.logger.info(`Unsupported request method ${l}`)}},this.onRelayEventResponse=async t=>{let{topic:i,payload:c}=t,l=(await this.client.core.history.get(i,c.id)).request.method;switch(l){case"wc_sessionPropose":return this.onSessionProposeResponse(i,c);case"wc_sessionSettle":return this.onSessionSettleResponse(i,c);case"wc_sessionUpdate":return this.onSessionUpdateResponse(i,c);case"wc_sessionExtend":return this.onSessionExtendResponse(i,c);case"wc_sessionPing":return this.onSessionPingResponse(i,c);case"wc_sessionRequest":return this.onSessionRequestResponse(i,c);default:return this.client.logger.info(`Unsupported response method ${l}`)}},this.onRelayEventUnknownPayload=t=>{let{topic:i}=t,{message:c}=N("MISSING_OR_INVALID",`Decoded payload on topic ${i} is not identifiable as a JSON-RPC request or a response.`);throw Error(c)},this.onSessionProposeRequest=async(t,i)=>{let{params:c,id:l}=i;try{this.isValidConnect(dist_index_es_w({},i.params));let _=ot(to.FIVE_MINUTES),v=dist_index_es_w({id:l,pairingTopic:t,expiry:_},c);await this.setProposal(l,v);let P=$n(JSON.stringify(i)),U=await this.getVerifyContext(P,v.proposer.metadata);this.client.events.emit("session_proposal",{id:l,params:v,verifyContext:U})}catch(i){await this.sendError(l,t,i),this.client.logger.error(i)}},this.onSessionProposeResponse=async(t,i)=>{let{id:c}=i;if(isJsonRpcResult(i)){let{result:l}=i;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:l});let _=this.client.proposal.get(c);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:_});let v=_.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:v});let P=l.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:P});let U=await this.client.core.crypto.generateSharedKey(v,P);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:U});let k=await this.client.core.relayer.subscribe(U);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:k}),await this.client.core.pairing.activate({topic:t})}else isJsonRpcError(i)&&(await this.client.proposal.delete(c,w("USER_DISCONNECTED")),this.events.emit(it("session_connect"),{error:i.error}))},this.onSessionSettleRequest=async(t,i)=>{let{id:c,params:l}=i;try{this.isValidSessionSettleRequest(l);let{relay:c,controller:_,expiry:v,namespaces:P,requiredNamespaces:U,optionalNamespaces:k,sessionProperties:B,pairingTopic:W}=i.params,J=dist_index_es_w({topic:t,relay:c,expiry:v,namespaces:P,acknowledged:!0,pairingTopic:W,requiredNamespaces:U,optionalNamespaces:k,controller:_.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:_.publicKey,metadata:_.metadata}},B&&{sessionProperties:B});await this.sendResult(i.id,t,!0),this.events.emit(it("session_connect"),{session:J}),this.cleanupDuplicatePairings(J)}catch(i){await this.sendError(c,t,i),this.client.logger.error(i)}},this.onSessionSettleResponse=async(t,i)=>{let{id:c}=i;isJsonRpcResult(i)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(it("session_approve",c),{})):isJsonRpcError(i)&&(await this.client.session.delete(t,w("USER_DISCONNECTED")),this.events.emit(it("session_approve",c),{error:i.error}))},this.onSessionUpdateRequest=async(t,i)=>{let{params:c,id:l}=i;try{this.isValidUpdate(dist_index_es_w({topic:t},c)),await this.client.session.update(t,{namespaces:c.namespaces}),await this.sendResult(l,t,!0),this.client.events.emit("session_update",{id:l,topic:t,params:c})}catch(i){await this.sendError(l,t,i),this.client.logger.error(i)}},this.onSessionUpdateResponse=(t,i)=>{let{id:c}=i;isJsonRpcResult(i)?this.events.emit(it("session_update",c),{}):isJsonRpcError(i)&&this.events.emit(it("session_update",c),{error:i.error})},this.onSessionExtendRequest=async(t,i)=>{let{id:c}=i;try{this.isValidExtend({topic:t}),await this.setExpiry(t,ot(n_)),await this.sendResult(c,t,!0),this.client.events.emit("session_extend",{id:c,topic:t})}catch(i){await this.sendError(c,t,i),this.client.logger.error(i)}},this.onSessionExtendResponse=(t,i)=>{let{id:c}=i;isJsonRpcResult(i)?this.events.emit(it("session_extend",c),{}):isJsonRpcError(i)&&this.events.emit(it("session_extend",c),{error:i.error})},this.onSessionPingRequest=async(t,i)=>{let{id:c}=i;try{this.isValidPing({topic:t}),await this.sendResult(c,t,!0),this.client.events.emit("session_ping",{id:c,topic:t})}catch(i){await this.sendError(c,t,i),this.client.logger.error(i)}},this.onSessionPingResponse=(t,i)=>{let{id:c}=i;setTimeout(()=>{isJsonRpcResult(i)?this.events.emit(it("session_ping",c),{}):isJsonRpcError(i)&&this.events.emit(it("session_ping",c),{error:i.error})},500)},this.onSessionDeleteRequest=async(t,i)=>{let{id:c}=i;try{this.isValidDisconnect({topic:t,reason:i.params}),await Promise.all([new Promise(i=>{this.client.core.relayer.once(rB.publish,async()=>{i(await this.deleteSession(t))})}),this.sendResult(c,t,!0)]),this.client.events.emit("session_delete",{id:c,topic:t})}catch(t){this.client.logger.error(t)}},this.onSessionRequest=async(t,i)=>{let{id:c,params:l}=i;try{this.isValidRequest(dist_index_es_w({topic:t},l)),await this.setPendingSessionRequest({id:c,topic:t,params:l});let _=$n(JSON.stringify(i)),v=this.client.session.get(t),P=await this.getVerifyContext(_,v.peer.metadata);this.client.events.emit("session_request",{id:c,topic:t,params:l,verifyContext:P})}catch(i){await this.sendError(c,t,i),this.client.logger.error(i)}},this.onSessionRequestResponse=(t,i)=>{let{id:c}=i;isJsonRpcResult(i)?this.events.emit(it("session_request",c),{result:i.result}):isJsonRpcError(i)&&this.events.emit(it("session_request",c),{error:i.error})},this.onSessionEventRequest=async(t,i)=>{let{id:c,params:l}=i;try{this.isValidEmit(dist_index_es_w({topic:t},l)),this.client.events.emit("session_event",{id:c,topic:t,params:l})}catch(i){await this.sendError(c,t,i),this.client.logger.error(i)}},this.isValidConnect=async t=>{let i;if(!Dt(t)){let{message:i}=N("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw Error(i)}let{pairingTopic:c,requiredNamespaces:l,optionalNamespaces:_,sessionProperties:v,relays:P}=t;if(I(c)||await this.isValidPairingTopic(c),i=!1,P?P&&j(P)&&P.length&&P.forEach(t=>{i=cn(t)}):i=!0,!i){let{message:t}=N("MISSING_OR_INVALID",`connect() relays: ${P}`);throw Error(t)}I(l)||0===H(l)||this.validateNamespaces(l,"requiredNamespaces"),I(_)||0===H(_)||this.validateNamespaces(_,"optionalNamespaces"),I(v)||this.validateSessionProps(v,"sessionProperties")},this.validateNamespaces=(t,i)=>{let c=function(t,i,c){let l=null;if(t&&H(t)){let _;let v=se(t,i);v&&(l=v);let P=(_=null,Object.entries(t).forEach(([t,l])=>{var v,P;let U;if(_)return;let k=(v=M(t,l),P=`${i} ${c}`,U=null,j(v)&&v.length?v.forEach(t=>{U||C(t)||(U=w("UNSUPPORTED_CHAINS",`${P}, chain ${t} should be a string and conform to "namespace:chainId" format`))}):C(t)||(U=w("UNSUPPORTED_CHAINS",`${P}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),U);k&&(_=k)}),_);P&&(l=P)}else l=N("MISSING_OR_INVALID",`${i}, ${c} should be an object with data`);return l}(t,"connect()",i);if(c)throw Error(c.message)},this.isValidApprove=async t=>{if(!Dt(t))throw Error(N("MISSING_OR_INVALID",`approve() params: ${t}`).message);let{id:i,namespaces:c,relayProtocol:l,sessionProperties:_}=t;await this.isValidProposalId(i);let v=this.client.proposal.get(i),P=sn(c,"approve()");if(P)throw Error(P.message);let U=an(v.requiredNamespaces,c,"approve()");if(U)throw Error(U.message);if(!m(l,!0)){let{message:t}=N("MISSING_OR_INVALID",`approve() relayProtocol: ${l}`);throw Error(t)}I(_)||this.validateSessionProps(_,"sessionProperties")},this.isValidReject=async t=>{if(!Dt(t)){let{message:i}=N("MISSING_OR_INVALID",`reject() params: ${t}`);throw Error(i)}let{id:i,reason:c}=t;if(await this.isValidProposalId(i),!c||"object"!=typeof c||!c.code||!q(c.code,!1)||!c.message||!m(c.message,!1)){let{message:t}=N("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(c)}`);throw Error(t)}},this.isValidSessionSettleRequest=t=>{let i;if(!Dt(t)){let{message:i}=N("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw Error(i)}let{relay:c,controller:l,namespaces:_,expiry:v}=t;if(!cn(c)){let{message:t}=N("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw Error(t)}let P=(i=null,m(l?.publicKey,!1)||(i=N("MISSING_OR_INVALID","onSessionSettleRequest() controller public key should be a string")),i);if(P)throw Error(P.message);let U=sn(_,"onSessionSettleRequest()");if(U)throw Error(U.message);if(st(v)){let{message:t}=N("EXPIRED","onSessionSettleRequest()");throw Error(t)}},this.isValidUpdate=async t=>{if(!Dt(t)){let{message:i}=N("MISSING_OR_INVALID",`update() params: ${t}`);throw Error(i)}let{topic:i,namespaces:c}=t;await this.isValidSessionTopic(i);let l=this.client.session.get(i),_=sn(c,"update()");if(_)throw Error(_.message);let v=an(l.requiredNamespaces,c,"update()");if(v)throw Error(v.message)},this.isValidExtend=async t=>{if(!Dt(t)){let{message:i}=N("MISSING_OR_INVALID",`extend() params: ${t}`);throw Error(i)}let{topic:i}=t;await this.isValidSessionTopic(i)},this.isValidRequest=async t=>{var i;if(!Dt(t)){let{message:i}=N("MISSING_OR_INVALID",`request() params: ${t}`);throw Error(i)}let{topic:c,request:l,chainId:_,expiry:v}=t;await this.isValidSessionTopic(c);let{namespaces:P}=this.client.session.get(c);if(!Lt(P,_)){let{message:t}=N("MISSING_OR_INVALID",`request() chainId: ${_}`);throw Error(t)}if(I(l)||!m(l.method,!1)){let{message:t}=N("MISSING_OR_INVALID",`request() ${JSON.stringify(l)}`);throw Error(t)}if(!(m(i=l.method,!1)&&(function(t,i){let c=[];return Object.values(t).forEach(t=>{R(t.accounts).includes(i)&&c.push(...t.methods)}),c})(P,_).includes(i))){let{message:t}=N("MISSING_OR_INVALID",`request() method: ${l.method}`);throw Error(t)}if(v&&(!q(v,!1)||!(v<=nm.max)||!(v>=nm.min))){let{message:t}=N("MISSING_OR_INVALID",`request() expiry: ${v}. Expiry must be a number (in seconds) between ${nm.min} and ${nm.max}`);throw Error(t)}},this.isValidRespond=async t=>{if(!Dt(t)){let{message:i}=N("MISSING_OR_INVALID",`respond() params: ${t}`);throw Error(i)}let{topic:i,response:c}=t;if(await this.isValidSessionTopic(i),I(c)||I(c.result)&&I(c.error)||!q(c.id,!1)||!m(c.jsonrpc,!1)){let{message:t}=N("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(c)}`);throw Error(t)}},this.isValidPing=async t=>{if(!Dt(t)){let{message:i}=N("MISSING_OR_INVALID",`ping() params: ${t}`);throw Error(i)}let{topic:i}=t;await this.isValidSessionOrPairingTopic(i)},this.isValidEmit=async t=>{var i;if(!Dt(t)){let{message:i}=N("MISSING_OR_INVALID",`emit() params: ${t}`);throw Error(i)}let{topic:c,event:l,chainId:_}=t;await this.isValidSessionTopic(c);let{namespaces:v}=this.client.session.get(c);if(!Lt(v,_)){let{message:t}=N("MISSING_OR_INVALID",`emit() chainId: ${_}`);throw Error(t)}if(I(l)||!m(l.name,!1)){let{message:t}=N("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(l)}`);throw Error(t)}if(!(m(i=l.name,!1)&&(function(t,i){let c=[];return Object.values(t).forEach(t=>{R(t.accounts).includes(i)&&c.push(...t.events)}),c})(v,_).includes(i))){let{message:t}=N("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(l)}`);throw Error(t)}},this.isValidDisconnect=async t=>{if(!Dt(t)){let{message:i}=N("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw Error(i)}let{topic:i}=t;await this.isValidSessionOrPairingTopic(i)},this.getVerifyContext=async(t,i)=>{let c={verified:{verifyUrl:i.verifyUrl||"",validation:"UNKNOWN",origin:i.url||""}};try{let l=await this.client.core.verify.resolve({attestationId:t,verifyUrl:i.verifyUrl});l&&(c.verified.origin=l,c.verified.validation=l===i.url?"VALID":"INVALID")}catch(t){this.client.logger.error(t)}return this.client.logger.info(`Verify context: ${JSON.stringify(c)}`),c},this.validateSessionProps=(t,i)=>{Object.values(t).forEach(t=>{if(!m(t,!1)){let{message:c}=N("MISSING_OR_INVALID",`${i} must be in Record<string, string> format. Received: ${JSON.stringify(t)}`);throw Error(c)}})}}isInitialized(){if(!this.initialized){let{message:t}=N("NOT_INITIALIZED",this.name);throw Error(t)}}registerRelayerEvents(){this.client.core.relayer.on(rB.message,async t=>{let{topic:i,message:c}=t;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(c)))return;let l=await this.client.core.crypto.decode(i,c);isJsonRpcRequest(l)?(this.client.core.history.set(i,l),this.onRelayEventRequest({topic:i,payload:l})):isJsonRpcResponse(l)?(await this.client.core.history.resolve(l),await this.onRelayEventResponse({topic:i,payload:l}),this.client.core.history.delete(i,l.id)):this.onRelayEventUnknownPayload({topic:i,payload:l})})}registerExpirerEvents(){this.client.core.expirer.on(rJ.expired,async t=>{let{topic:i,id:c}=rt(t.target);if(c&&this.client.pendingRequest.keys.includes(c))return await this.deletePendingSessionRequest(c,N("EXPIRED"),!0);i?this.client.session.keys.includes(i)&&(await this.deleteSession(i,!0),this.client.events.emit("session_expire",{topic:i})):c&&(await this.deleteProposal(c,!0),this.client.events.emit("proposal_expire",{id:c}))})}isValidPairingTopic(t){if(!m(t,!1)){let{message:i}=N("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw Error(i)}if(!this.client.core.pairing.pairings.keys.includes(t)){let{message:i}=N("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw Error(i)}if(st(this.client.core.pairing.pairings.get(t).expiry)){let{message:i}=N("EXPIRED",`pairing topic: ${t}`);throw Error(i)}}async isValidSessionTopic(t){if(!m(t,!1)){let{message:i}=N("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw Error(i)}if(!this.client.session.keys.includes(t)){let{message:i}=N("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw Error(i)}if(st(this.client.session.get(t).expiry)){await this.deleteSession(t);let{message:i}=N("EXPIRED",`session topic: ${t}`);throw Error(i)}}async isValidSessionOrPairingTopic(t){if(this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(m(t,!1)){let{message:i}=N("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw Error(i)}else{let{message:i}=N("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw Error(i)}}async isValidProposalId(t){if("number"!=typeof t){let{message:i}=N("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw Error(i)}if(!this.client.proposal.keys.includes(t)){let{message:i}=N("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw Error(i)}if(st(this.client.proposal.get(t).expiry)){await this.deleteProposal(t);let{message:i}=N("EXPIRED",`proposal id: ${t}`);throw Error(i)}}};let index_es_rs=class index_es_rs extends index_es_Nt{constructor(t,i){super(t,i,"proposal",nd),this.core=t,this.logger=i}};let index_es_os=class index_es_os extends index_es_Nt{constructor(t,i){super(t,i,"session",nd),this.core=t,this.logger=i}};let index_es_as=class index_es_as extends index_es_Nt{constructor(t,i){super(t,i,"request",nd,t=>t.id),this.core=t,this.logger=i}};let dist_index_es_M=class dist_index_es_M extends index_es_b{constructor(t){super(t),this.protocol="wc",this.version=2,this.name=np.name,this.events=new ea.EventEmitter,this.on=(t,i)=>this.events.on(t,i),this.once=(t,i)=>this.events.once(t,i),this.off=(t,i)=>this.events.off(t,i),this.removeListener=(t,i)=>this.events.removeListener(t,i),this.removeAllListeners=t=>this.events.removeAllListeners(t),this.connect=async t=>{try{return await this.engine.connect(t)}catch(t){throw this.logger.error(t.message),t}},this.pair=async t=>{try{return await this.engine.pair(t)}catch(t){throw this.logger.error(t.message),t}},this.approve=async t=>{try{return await this.engine.approve(t)}catch(t){throw this.logger.error(t.message),t}},this.reject=async t=>{try{return await this.engine.reject(t)}catch(t){throw this.logger.error(t.message),t}},this.update=async t=>{try{return await this.engine.update(t)}catch(t){throw this.logger.error(t.message),t}},this.extend=async t=>{try{return await this.engine.extend(t)}catch(t){throw this.logger.error(t.message),t}},this.request=async t=>{try{return await this.engine.request(t)}catch(t){throw this.logger.error(t.message),t}},this.respond=async t=>{try{return await this.engine.respond(t)}catch(t){throw this.logger.error(t.message),t}},this.ping=async t=>{try{return await this.engine.ping(t)}catch(t){throw this.logger.error(t.message),t}},this.emit=async t=>{try{return await this.engine.emit(t)}catch(t){throw this.logger.error(t.message),t}},this.disconnect=async t=>{try{return await this.engine.disconnect(t)}catch(t){throw this.logger.error(t.message),t}},this.find=t=>{try{return this.engine.find(t)}catch(t){throw this.logger.error(t.message),t}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(t){throw this.logger.error(t.message),t}},this.name=t?.name||np.name,this.metadata=t?.metadata||(0,tl.D)()||{name:"",description:"",url:"",icons:[""]};let i="u">typeof t?.logger&&"string"!=typeof t?.logger?t.logger:(0,tR.pino)((0,tR.getDefaultLoggerOptions)({level:t?.logger||np.logger}));this.core=t?.core||new index_es_Z(t),this.logger=(0,tR.generateChildLogger)(i,this.name),this.session=new index_es_os(this.core,this.logger),this.proposal=new index_es_rs(this.core,this.logger),this.pendingRequest=new index_es_as(this.core,this.logger),this.engine=new index_es_ns(this)}static async init(t){let i=new dist_index_es_M(t);return await i.initialize(),i}get context(){return(0,tR.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}};var nO=c(54098),nP=c.n(nO);let nC={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};let HttpConnection=class HttpConnection{constructor(t,i=!1){if(this.url=t,this.disableProviderPing=i,this.events=new ea.EventEmitter,this.isAvailable=!1,this.registering=!1,!isHttpUrl(t))throw Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=i}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,i){this.events.on(t,i)}once(t,i){this.events.once(t,i)}off(t,i){this.events.off(t,i)}removeListener(t,i){this.events.removeListener(t,i)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw Error("Connection already closed");this.onClose()}async send(t,i){this.isAvailable||await this.register();try{let i=safeJsonStringify(t),c=await nP()(this.url,Object.assign(Object.assign({},nC),{body:i})),l=await c.json();this.onPayload({data:l})}catch(i){this.onError(t.id,i)}}async register(t=this.url){if(!isHttpUrl(t))throw Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){let t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((t,i)=>{this.events.once("register_error",t=>{this.resetMaxListeners(),i(t)}),this.events.once("open",()=>{if(this.resetMaxListeners(),void 0===this.isAvailable)return i(Error("HTTP connection is missing or invalid"));t()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){let i=safeJsonStringify({id:1,jsonrpc:"2.0",method:"test",params:[]});await nP()(t,Object.assign(Object.assign({},nC),{body:i}))}this.onOpen()}catch(i){let t=this.parseError(i);throw this.events.emit("register_error",t),this.onClose(),t}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(void 0===t.data)return;let i="string"==typeof t.data?esm_safeJsonParse(t.data):t.data;this.events.emit("payload",i)}onError(t,i){let c=this.parseError(i),l=c.message||c.toString(),_=formatJsonRpcError(t,l);this.events.emit("payload",_)}parseError(t,i=this.url){return parseConnectionError(t,i,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}};let nA="error",nR="wc@2:universal_provider:",nN={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var nT="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof c.g?c.g:"u">typeof self?self:{},nj={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */!function(t,i){(function(){var c,l="Expected a function",_="__lodash_hash_undefined__",v="__lodash_placeholder__",P=1/0,U=0/0,k=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],B="[object Arguments]",W="[object Array]",J="[object Boolean]",X="[object Date]",Q="[object Error]",er="[object Function]",es="[object GeneratorFunction]",eo="[object Map]",ea="[object Number]",ec="[object Object]",el="[object Promise]",eh="[object RegExp]",ef="[object Set]",ed="[object String]",ep="[object Symbol]",eg="[object WeakMap]",e_="[object ArrayBuffer]",ey="[object DataView]",ev="[object Float32Array]",em="[object Float64Array]",eb="[object Int8Array]",ew="[object Int16Array]",eE="[object Int32Array]",eD="[object Uint8Array]",eS="[object Uint8ClampedArray]",ex="[object Uint16Array]",eI="[object Uint32Array]",eO=/\b__p \+= '';/g,eP=/\b(__p \+=) '' \+/g,eC=/(__e\(.*?\)|\b__t\)) \+\n'';/g,eA=/&(?:amp|lt|gt|quot|#39);/g,eR=/[&<>"']/g,eN=RegExp(eA.source),eT=RegExp(eR.source),ej=/<%-([\s\S]+?)%>/g,eL=/<%([\s\S]+?)%>/g,eU=/<%=([\s\S]+?)%>/g,eM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ek=/^\w*$/,e$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ez=/[\\^$.*+?()[\]{}|]/g,eH=RegExp(ez.source),eB=/^\s+/,eF=/\s/,eV=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,eK=/\{\n\/\* \[wrapped with (.+)\] \*/,eW=/,? & /,eG=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,eJ=/[()=,{}\[\]\/\s]/,eY=/\\(\\)?/g,eX=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,eZ=/\w*$/,eQ=/^[-+]0x[0-9a-f]+$/i,e0=/^0b[01]+$/i,e1=/^\[object .+?Constructor\]$/,e5=/^0o[0-7]+$/i,e3=/^(?:0|[1-9]\d*)$/,e6=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,e2=/($^)/,e8=/['\n\r\u2028\u2029\\]/g,e4="\ud800-\udfff",e9="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",e7="\\u2700-\\u27bf",tt="a-z\\xdf-\\xf6\\xf8-\\xff",tn="A-Z\\xc0-\\xd6\\xd8-\\xde",ts="\\ufe0e\\ufe0f",to="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tc="[']",tl="["+to+"]",th="["+e9+"]",tf="["+tt+"]",td="[^"+e4+to+"\\d+"+e7+tt+tn+"]",tp="\ud83c[\udffb-\udfff]",tg="[^"+e4+"]",t_="(?:\ud83c[\udde6-\uddff]){2}",ty="[\ud800-\udbff][\udc00-\udfff]",tv="["+tn+"]",tm="\\u200d",tb="(?:"+tf+"|"+td+")",tw="(?:"+tc+"(?:d|ll|m|re|s|t|ve))?",tE="(?:"+tc+"(?:D|LL|M|RE|S|T|VE))?",tD="(?:"+th+"|"+tp+")?",tS="["+ts+"]?",tx="(?:"+tm+"(?:"+[tg,t_,ty].join("|")+")"+tS+tD+")*",tI=tS+tD+tx,tO="(?:"+["["+e7+"]",t_,ty].join("|")+")"+tI,tP="(?:"+[tg+th+"?",th,t_,ty,"["+e4+"]"].join("|")+")",tC=RegExp(tc,"g"),tA=RegExp(th,"g"),tR=RegExp(tp+"(?="+tp+")|"+tP+tI,"g"),tN=RegExp([tv+"?"+tf+"+"+tw+"(?="+[tl,tv,"$"].join("|")+")","(?:"+tv+"|"+td+")+"+tE+"(?="+[tl,tv+tb,"$"].join("|")+")",tv+"?"+tb+"+"+tw,tv+"+"+tE,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",tO].join("|"),"g"),tT=RegExp("["+tm+e4+e9+ts+"]"),tj=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tL=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tU=-1,tM={};tM[ev]=tM[em]=tM[eb]=tM[ew]=tM[eE]=tM[eD]=tM[eS]=tM[ex]=tM[eI]=!0,tM[B]=tM[W]=tM[e_]=tM[J]=tM[ey]=tM[X]=tM[Q]=tM[er]=tM[eo]=tM[ea]=tM[ec]=tM[eh]=tM[ef]=tM[ed]=tM[eg]=!1;var tk={};tk[B]=tk[W]=tk[e_]=tk[ey]=tk[J]=tk[X]=tk[ev]=tk[em]=tk[eb]=tk[ew]=tk[eE]=tk[eo]=tk[ea]=tk[ec]=tk[eh]=tk[ef]=tk[ed]=tk[ep]=tk[eD]=tk[eS]=tk[ex]=tk[eI]=!0,tk[Q]=tk[er]=tk[eg]=!1;var t$={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tz=parseFloat,tH=parseInt,tB="object"==typeof nT&&nT&&nT.Object===Object&&nT,tF="object"==typeof self&&self&&self.Object===Object&&self,tq=tB||tF||Function("return this")(),tV=i&&!i.nodeType&&i,tK=tV&&t&&!t.nodeType&&t,tW=tK&&tK.exports===tV,tG=tW&&tB.process,tJ=function(){try{return tK&&tK.require&&tK.require("util").types||tG&&tG.binding&&tG.binding("util")}catch{}}(),tY=tJ&&tJ.isArrayBuffer,tX=tJ&&tJ.isDate,tZ=tJ&&tJ.isMap,tQ=tJ&&tJ.isRegExp,t0=tJ&&tJ.isSet,t1=tJ&&tJ.isTypedArray;function cn(t,i,c){switch(c.length){case 0:return t.call(i);case 1:return t.call(i,c[0]);case 2:return t.call(i,c[0],c[1]);case 3:return t.call(i,c[0],c[1],c[2])}return t.apply(i,c)}function Jf(t,i,c,l){for(var _=-1,v=null==t?0:t.length;++_<v;){var P=t[_];i(l,P,c(P),t)}return l}function mn(t,i){for(var c=-1,l=null==t?0:t.length;++c<l&&!1!==i(t[c],c,t););return t}function Ps(t,i){for(var c=-1,l=null==t?0:t.length;++c<l;)if(!i(t[c],c,t))return!1;return!0}function kn(t,i){for(var c=-1,l=null==t?0:t.length,_=0,v=[];++c<l;){var P=t[c];i(P,c,t)&&(v[_++]=P)}return v}function Ie(t,i){return!!(null==t?0:t.length)&&Rt(t,i,0)>-1}function Lr(t,i,c){for(var l=-1,_=null==t?0:t.length;++l<_;)if(c(i,t[l]))return!0;return!1}function G(t,i){for(var c=-1,l=null==t?0:t.length,_=Array(l);++c<l;)_[c]=i(t[c],c,t);return _}function jn(t,i){for(var c=-1,l=i.length,_=t.length;++c<l;)t[_+c]=i[c];return t}function Dr(t,i,c,l){var _=-1,v=null==t?0:t.length;for(l&&v&&(c=t[++_]);++_<v;)c=i(c,t[_],_,t);return c}function Qf(t,i,c,l){var _=null==t?0:t.length;for(l&&_&&(c=t[--_]);_--;)c=i(c,t[_],_,t);return c}function Hr(t,i){for(var c=-1,l=null==t?0:t.length;++c<l;)if(i(t[c],c,t))return!0;return!1}var t5=Nr("length");function As(t,i,c){var l;return c(t,function(t,c,_){if(i(t,c,_))return l=c,!1}),l}function xe(t,i,c,l){for(var _=t.length,v=c+(l?1:-1);l?v--:++v<_;)if(i(t[v],v,t))return v;return -1}function Rt(t,i,c){return i==i?function(t,i,c){for(var l=c-1,_=t.length;++l<_;)if(t[l]===i)return l;return -1}(t,i,c):xe(t,Cs,c)}function no(t,i,c,l){for(var _=c-1,v=t.length;++_<v;)if(l(t[_],i))return _;return -1}function Cs(t){return t!=t}function Is(t,i){var c=null==t?0:t.length;return c?Ur(t,i)/c:U}function Nr(t){return function(i){return null==i?c:i[t]}}function $r(t){return function(i){return null==t?c:t[i]}}function xs(t,i,c,l,_){return _(t,function(t,_,v){c=l?(l=!1,t):i(c,t,_,v)}),c}function Ur(t,i){for(var l,_=-1,v=t.length;++_<v;){var P=i(t[_]);P!==c&&(l=l===c?P:l+P)}return l}function Wr(t,i){for(var c=-1,l=Array(t);++c<t;)l[c]=i(c);return l}function Es(t){return t&&t.slice(0,Rs(t)+1).replace(eB,"")}function hn(t){return function(i){return t(i)}}function Fr(t,i){return G(i,function(i){return t[i]})}function kt(t,i){return t.has(i)}function ys(t,i){for(var c=-1,l=t.length;++c<l&&Rt(i,t[c],0)>-1;);return c}function Ss(t,i){for(var c=t.length;c--&&Rt(i,t[c],0)>-1;);return c}var t3=$r({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),t6=$r({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function uo(t){return"\\"+t$[t]}function bt(t){return tT.test(t)}function Mr(t){var i=-1,c=Array(t.size);return t.forEach(function(t,l){c[++i]=[l,t]}),c}function Os(t,i){return function(c){return t(i(c))}}function nt(t,i){for(var c=-1,l=t.length,_=0,P=[];++c<l;){var U=t[c];(U===i||U===v)&&(t[c]=v,P[_++]=c)}return P}function Ee(t){var i=-1,c=Array(t.size);return t.forEach(function(t){c[++i]=t}),c}function Tt(t){return bt(t)?function(t){for(var i=tR.lastIndex=0;tR.test(t);)++i;return i}(t):t5(t)}function On(t){return bt(t)?t.match(tR)||[]:t.split("")}function Rs(t){for(var i=t.length;i--&&eF.test(t.charAt(i)););return i}var t2=$r({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),t8=function h(t){var i,eF,e4,e9,e7=(t=null==t?tq:t8.defaults(tq.Object(),t,t8.pick(tq,tL))).Array,tt=t.Date,tn=t.Error,ts=t.Function,to=t.Math,tc=t.Object,tl=t.RegExp,th=t.String,tf=t.TypeError,td=e7.prototype,tp=ts.prototype,tg=tc.prototype,t_=t["__core-js_shared__"],ty=tp.toString,tv=tg.hasOwnProperty,tm=0,tb=(i=/[^.]+$/.exec(t_&&t_.keys&&t_.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",tw=tg.toString,tE=ty.call(tc),tD=tq._,tS=tl("^"+ty.call(tv).replace(ez,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tx=tW?t.Buffer:c,tI=t.Symbol,tO=t.Uint8Array,tP=tx?tx.allocUnsafe:c,tR=Os(tc.getPrototypeOf,tc),tT=tc.create,t$=tg.propertyIsEnumerable,tB=td.splice,tF=tI?tI.isConcatSpreadable:c,tV=tI?tI.iterator:c,tK=tI?tI.toStringTag:c,tG=function(){try{var t=_t(tc,"defineProperty");return t({},"",{}),t}catch{}}(),tJ=t.clearTimeout!==tq.clearTimeout&&t.clearTimeout,t5=tt&&tt.now!==tq.Date.now&&tt.now,t4=t.setTimeout!==tq.setTimeout&&t.setTimeout,t9=to.ceil,t7=to.floor,re=tc.getOwnPropertySymbols,rs=tx?tx.isBuffer:c,ro=t.isFinite,rc=td.join,ru=Os(tc.keys,tc),rl=to.max,rh=to.min,rf=tt.now,rd=t.parseInt,rp=to.random,rg=td.reverse,r_=_t(t,"DataView"),ry=_t(t,"Map"),rv=_t(t,"Promise"),rm=_t(t,"Set"),rb=_t(t,"WeakMap"),rw=_t(tc,"create"),rE=rb&&new rb,rD={},rS=mt(r_),rx=mt(ry),rI=mt(rv),rO=mt(rm),rP=mt(rb),rC=tI?tI.prototype:c,rA=rC?rC.valueOf:c,rR=rC?rC.toString:c;function a(t){if(K(t)&&!nR(t)&&!(t instanceof D)){if(t instanceof Pn)return t;if(tv.call(t,"__wrapped__"))return Wu(t)}return new Pn(t)}var rN=function(){function n(){}return function(t){if(!z(t))return{};if(tT)return tT(t);n.prototype=t;var i=new n;return n.prototype=c,i}}();function Fe(){}function Pn(t,i){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=c}function D(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function pt(t){var i=-1,c=null==t?0:t.length;for(this.clear();++i<c;){var l=t[i];this.set(l[0],l[1])}}function Bn(t){var i=-1,c=null==t?0:t.length;for(this.clear();++i<c;){var l=t[i];this.set(l[0],l[1])}}function Gn(t){var i=-1,c=null==t?0:t.length;for(this.clear();++i<c;){var l=t[i];this.set(l[0],l[1])}}function dt(t){var i=-1,c=null==t?0:t.length;for(this.__data__=new Gn;++i<c;)this.add(t[i])}function Rn(t){var i=this.__data__=new Bn(t);this.size=i.size}function Ws(t,i){var c=nR(t),l=!c&&nA(t),_=!c&&!l&&nT(t),v=!c&&!l&&!_&&nk(t),P=c||l||_||v,U=P?Wr(t.length,th):[],k=U.length;for(var B in t)(i||tv.call(t,B))&&!(P&&("length"==B||_&&("offset"==B||"parent"==B)||v&&("buffer"==B||"byteLength"==B||"byteOffset"==B)||Zn(B,k)))&&U.push(B);return U}function Fs(t){var i=t.length;return i?t[ti(0,i-1)]:c}function Kr(t,i,l){(l===c||bn(t[i],l))&&(l!==c||i in t)||zn(t,i,l)}function ie(t,i,l){var _=t[i];tv.call(t,i)&&bn(_,l)&&(l!==c||i in t)||zn(t,i,l)}function Me(t,i){for(var c=t.length;c--;)if(bn(t[c][0],i))return c;return -1}function lc(t,i,c,l){return rT(t,function(t,_,v){i(l,t,c(t),v)}),l}function Ms(t,i){return t&&Un(i,V(i),t)}function zn(t,i,c){"__proto__"==i&&tG?tG(t,i,{configurable:!0,enumerable:!0,value:c,writable:!0}):t[i]=c}function Yr(t,i){for(var l=-1,_=i.length,v=e7(_),P=null==t;++l<_;)v[l]=P?c:yi(t,i[l]);return v}function gt(t,i,l){return t==t&&(l!==c&&(t=t<=l?t:l),i!==c&&(t=t>=i?t:i)),t}function An(t,i,l,_,v,P){var U,k=1&i,W=2&i,Q=4&i;if(l&&(U=v?l(t,_,v,P):l(t)),U!==c)return U;if(!z(t))return t;var el=nR(t);if(el){if(eg=t.length,eO=new t.constructor(eg),eg&&"string"==typeof t[0]&&tv.call(t,"index")&&(eO.index=t.index,eO.input=t.input),U=eO,!k)return un(t,U)}else{var eg,eO,eP,eC,eA,eR=rq(t),eN=eR==er||eR==es;if(nT(t))return cu(t,k);if(eR==ec||eR==B||eN&&!v){if(U=W||eN?{}:Ru(t),!k)return W?(eP=(eA=U)&&Un(t,fn(t),eA),Un(t,rF(t),eP)):(eC=Ms(U,t),Un(t,rB(t),eC))}else{if(!tk[eR])return v?t:{};U=function(t,i,c){var l,_,v=t.constructor;switch(i){case e_:return fi(t);case J:case X:return new v(+t);case ey:return l=c?fi(t.buffer):t.buffer,new t.constructor(l,t.byteOffset,t.byteLength);case ev:case em:case eb:case ew:case eE:case eD:case eS:case ex:case eI:return hu(t,c);case eo:return new v;case ea:case ed:return new v(t);case eh:return(_=new t.constructor(t.source,eZ.exec(t))).lastIndex=t.lastIndex,_;case ef:return new v;case ep:return rA?tc(rA.call(t)):{}}}(t,eR,k)}}P||(P=new Rn);var eT=P.get(t);if(eT)return eT;P.set(t,U),nM(t)?t.forEach(function(c){U.add(An(c,i,l,c,t,P))}):nL(t)&&t.forEach(function(c,_){U.set(_,An(c,i,l,_,t,P))});var ej=Q?W?li:hi:W?fn:V,eL=el?c:ej(t);return mn(eL||t,function(c,_){eL&&(c=t[_=c]),ie(U,_,An(c,i,l,_,t,P))}),U}function qs(t,i,l){var _=l.length;if(null==t)return!_;for(t=tc(t);_--;){var v=l[_],P=i[v],U=t[v];if(U===c&&!(v in t)||!P(U))return!1}return!0}function Bs(t,i,_){if("function"!=typeof t)throw new tf(l);return rW(function(){t.apply(c,_)},i)}function se(t,i,c,l){var _=-1,v=Ie,P=!0,U=t.length,k=[],B=i.length;if(!U)return k;c&&(i=G(i,hn(c))),l?(v=Lr,P=!1):i.length>=200&&(v=kt,P=!1,i=new dt(i));e:for(;++_<U;){var W=t[_],J=null==c?W:c(W);if(W=l||0!==W?W:0,P&&J==J){for(var X=B;X--;)if(i[X]===J)continue e;k.push(W)}else v(i,J,l)||k.push(W)}return k}a.templateSettings={escape:ej,evaluate:eL,interpolate:eU,variable:"",imports:{_:a}},a.prototype=Fe.prototype,a.prototype.constructor=a,Pn.prototype=rN(Fe.prototype),Pn.prototype.constructor=Pn,D.prototype=rN(Fe.prototype),D.prototype.constructor=D,pt.prototype.clear=function(){this.__data__=rw?rw(null):{},this.size=0},pt.prototype.delete=function(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i},pt.prototype.get=function(t){var i=this.__data__;if(rw){var l=i[t];return l===_?c:l}return tv.call(i,t)?i[t]:c},pt.prototype.has=function(t){var i=this.__data__;return rw?i[t]!==c:tv.call(i,t)},pt.prototype.set=function(t,i){var l=this.__data__;return this.size+=this.has(t)?0:1,l[t]=rw&&i===c?_:i,this},Bn.prototype.clear=function(){this.__data__=[],this.size=0},Bn.prototype.delete=function(t){var i=this.__data__,c=Me(i,t);return!(c<0)&&(c==i.length-1?i.pop():tB.call(i,c,1),--this.size,!0)},Bn.prototype.get=function(t){var i=this.__data__,l=Me(i,t);return l<0?c:i[l][1]},Bn.prototype.has=function(t){return Me(this.__data__,t)>-1},Bn.prototype.set=function(t,i){var c=this.__data__,l=Me(c,t);return l<0?(++this.size,c.push([t,i])):c[l][1]=i,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new pt,map:new(ry||Bn),string:new pt}},Gn.prototype.delete=function(t){var i=ke(this,t).delete(t);return this.size-=i?1:0,i},Gn.prototype.get=function(t){return ke(this,t).get(t)},Gn.prototype.has=function(t){return ke(this,t).has(t)},Gn.prototype.set=function(t,i){var c=ke(this,t),l=c.size;return c.set(t,i),this.size+=c.size==l?0:1,this},dt.prototype.add=dt.prototype.push=function(t){return this.__data__.set(t,_),this},dt.prototype.has=function(t){return this.__data__.has(t)},Rn.prototype.clear=function(){this.__data__=new Bn,this.size=0},Rn.prototype.delete=function(t){var i=this.__data__,c=i.delete(t);return this.size=i.size,c},Rn.prototype.get=function(t){return this.__data__.get(t)},Rn.prototype.has=function(t){return this.__data__.has(t)},Rn.prototype.set=function(t,i){var c=this.__data__;if(c instanceof Bn){var l=c.__data__;if(!ry||l.length<199)return l.push([t,i]),this.size=++c.size,this;c=this.__data__=new Gn(l)}return c.set(t,i),this.size=c.size,this};var rT=gu($n),rj=gu(Jr,!0);function gc(t,i){var c=!0;return rT(t,function(t,l,_){return c=!!i(t,l,_)}),c}function qe(t,i,l){for(var _=-1,v=t.length;++_<v;){var P=t[_],U=i(P);if(null!=U&&(k===c?U==U&&!pn(U):l(U,k)))var k=U,B=P}return B}function zs(t,i){var c=[];return rT(t,function(t,l,_){i(t,l,_)&&c.push(t)}),c}function j(t,i,c,l,_){var v=-1,P=t.length;for(c||(c=ih),_||(_=[]);++v<P;){var U=t[v];i>0&&c(U)?i>1?j(U,i-1,c,l,_):jn(_,U):l||(_[_.length]=U)}return _}var rL=vu(),rU=vu(!0);function $n(t,i){return t&&rL(t,i,V)}function Jr(t,i){return t&&rU(t,i,V)}function Be(t,i){return kn(i,function(i){return Jn(t[i])})}function vt(t,i){i=it(i,t);for(var l=0,_=i.length;null!=t&&l<_;)t=t[Wn(i[l++])];return l&&l==_?t:c}function Ys(t,i,c){var l=i(t);return nR(t)?l:jn(l,c(t))}function en(t){return null==t?t===c?"[object Undefined]":"[object Null]":tK&&tK in tc(t)?function(t){var i=tv.call(t,tK),l=t[tK];try{t[tK]=c;var _=!0}catch{}var v=tw.call(t);return _&&(i?t[tK]=l:delete t[tK]),v}(t):tw.call(t)}function Xr(t,i){return t>i}function _c(t,i){return null!=t&&tv.call(t,i)}function mc(t,i){return null!=t&&i in tc(t)}function Qr(t,i,l){for(var _=l?Lr:Ie,v=t[0].length,P=t.length,U=P,k=e7(P),B=1/0,W=[];U--;){var J=t[U];U&&i&&(J=G(J,hn(i))),B=rh(J.length,B),k[U]=!l&&(i||v>=120&&J.length>=120)?new dt(U&&J):c}J=t[0];var X=-1,Q=k[0];e:for(;++X<v&&W.length<B;){var er=J[X],es=i?i(er):er;if(er=l||0!==er?er:0,!(Q?kt(Q,es):_(W,es,l))){for(U=P;--U;){var eo=k[U];if(!(eo?kt(eo,es):_(t[U],es,l)))continue e}Q&&Q.push(es),W.push(er)}}return W}function ue(t,i,l){i=it(i,t);var _=null==(t=Du(t,i))?t:t[Wn(In(i))];return null==_?c:cn(_,t,l)}function Zs(t){return K(t)&&en(t)==B}function ae(t,i,l,_,v){return t===i||(null!=t&&null!=i&&(K(t)||K(i))?function(t,i,l,_,v,P){var U=nR(t),k=nR(i),er=U?W:rq(t),es=k?W:rq(i);er=er==B?ec:er,es=es==B?ec:es;var el=er==ec,eg=es==ec,ev=er==es;if(ev&&nT(t)){if(!nT(i))return!1;U=!0,el=!1}if(ev&&!el)return P||(P=new Rn),U||nk(t)?yu(t,i,l,_,v,P):function(t,i,c,l,_,v,P){switch(c){case ey:if(t.byteLength!=i.byteLength||t.byteOffset!=i.byteOffset)break;t=t.buffer,i=i.buffer;case e_:return!(t.byteLength!=i.byteLength||!v(new tO(t),new tO(i)));case J:case X:case ea:return bn(+t,+i);case Q:return t.name==i.name&&t.message==i.message;case eh:case ed:return t==i+"";case eo:var U=Mr;case ef:var k=1&l;if(U||(U=Ee),t.size!=i.size&&!k)break;var B=P.get(t);if(B)return B==i;l|=2,P.set(t,i);var W=yu(U(t),U(i),l,_,v,P);return P.delete(t),W;case ep:if(rA)return rA.call(t)==rA.call(i)}return!1}(t,i,er,l,_,v,P);if(!(1&l)){var em=el&&tv.call(t,"__wrapped__"),eb=eg&&tv.call(i,"__wrapped__");if(em||eb){var ew=em?t.value():t,eE=eb?i.value():i;return P||(P=new Rn),v(ew,eE,l,_,P)}}return!!ev&&(P||(P=new Rn),function(t,i,l,_,v,P){var U=1&l,k=hi(t),B=k.length;if(B!=hi(i).length&&!U)return!1;for(var W=B;W--;){var J=k[W];if(!(U?J in i:tv.call(i,J)))return!1}var X=P.get(t),Q=P.get(i);if(X&&Q)return X==i&&Q==t;var er=!0;P.set(t,i),P.set(i,t);for(var es=U;++W<B;){var eo=t[J=k[W]],ea=i[J];if(_)var ec=U?_(ea,eo,J,i,t,P):_(eo,ea,J,t,i,P);if(!(ec===c?eo===ea||v(eo,ea,l,_,P):ec)){er=!1;break}es||(es="constructor"==J)}if(er&&!es){var el=t.constructor,eh=i.constructor;el!=eh&&"constructor"in t&&"constructor"in i&&!("function"==typeof el&&el instanceof el&&"function"==typeof eh&&eh instanceof eh)&&(er=!1)}return P.delete(t),P.delete(i),er}(t,i,l,_,v,P))}(t,i,l,_,ae,v):t!=t&&i!=i)}function Vr(t,i,l,_){var v=l.length,P=v,U=!_;if(null==t)return!P;for(t=tc(t);v--;){var k=l[v];if(U&&k[2]?k[1]!==t[k[0]]:!(k[0]in t))return!1}for(;++v<P;){var B=(k=l[v])[0],W=t[B],J=k[1];if(U&&k[2]){if(W===c&&!(B in t))return!1}else{var X=new Rn;if(_)var Q=_(W,J,B,t,i,X);if(!(Q===c?ae(J,W,3,_,X):Q))return!1}}return!0}function Js(t){return!(!z(t)||tb&&tb in t)&&(Jn(t)?tS:e1).test(mt(t))}function Xs(t){return"function"==typeof t?t:null==t?on:"object"==typeof t?nR(t)?ks(t[0],t[1]):Vs(t):_a(t)}function kr(t){if(!ce(t))return ru(t);var i=[];for(var c in tc(t))tv.call(t,c)&&"constructor"!=c&&i.push(c);return i}function jr(t,i){return t<i}function Qs(t,i){var c=-1,l=an(t)?e7(t.length):[];return rT(t,function(t,_,v){l[++c]=i(t,_,v)}),l}function Vs(t){var i=di(t);return 1==i.length&&i[0][2]?Tu(i[0][0],i[0][1]):function(c){return c===t||Vr(c,t,i)}}function ks(t,i){var l;return vi(t)&&(l=i)==l&&!z(l)?Tu(Wn(t),i):function(l){var _=yi(l,t);return _===c&&_===i?Si(l,t):ae(i,_,3)}}function Ge(t,i,l,_,v){t!==i&&rL(i,function(P,U){if(v||(v=new Rn),z(P))!function(t,i,l,_,v,P,U){var k=mi(t,l),B=mi(i,l),W=U.get(B);if(W){Kr(t,l,W);return}var J=P?P(k,B,l+"",t,i,U):c,X=J===c;if(X){var Q=nR(B),er=!Q&&nT(B),es=!Q&&!er&&nk(B);J=B,Q||er||es?nR(k)?J=k:Y(k)?J=un(k):er?(X=!1,J=cu(B,!0)):es?(X=!1,J=hu(B,!0)):J=[]:le(B)||nA(B)?(J=k,nA(k)?J=aa(k):(!z(k)||Jn(k))&&(J=Ru(B))):X=!1}X&&(U.set(B,J),v(J,B,_,P,U),U.delete(B)),Kr(t,l,J)}(t,i,U,l,Ge,_,v);else{var k=_?_(mi(t,U),P,U+"",t,i,v):c;k===c&&(k=P),Kr(t,U,k)}},fn)}function js(t,i){var l=t.length;if(l)return Zn(i+=i<0?l:0,l)?t[i]:c}function nu(t,i,c){i=i.length?G(i,function(t){return nR(t)?function(i){return vt(i,1===t.length?t[0]:t)}:t}):[on];var l=-1;return i=G(i,hn(x())),function(t,i){var c=t.length;for(t.sort(i);c--;)t[c]=t[c].value;return t}(Qs(t,function(t,c,_){return{criteria:G(i,function(i){return i(t)}),index:++l,value:t}}),function(t,i){return function(t,i,c){for(var l=-1,_=t.criteria,v=i.criteria,P=_.length,U=c.length;++l<P;){var k=lu(_[l],v[l]);if(k){if(l>=U)return k;return k*("desc"==c[l]?-1:1)}}return t.index-i.index}(t,i,c)})}function tu(t,i,c){for(var l=-1,_=i.length,v={};++l<_;){var P=i[l],U=vt(t,P);c(U,P)&&fe(v,it(P,t),U)}return v}function ni(t,i,c,l){var _=l?no:Rt,v=-1,P=i.length,U=t;for(t===i&&(i=un(i)),c&&(U=G(t,hn(c)));++v<P;)for(var k=0,B=i[v],W=c?c(B):B;(k=_(U,W,k,l))>-1;)U!==t&&tB.call(U,k,1),tB.call(t,k,1);return t}function eu(t,i){for(var c=t?i.length:0,l=c-1;c--;){var _=i[c];if(c==l||_!==v){var v=_;Zn(_)?tB.call(t,_,1):ii(t,_)}}return t}function ti(t,i){return t+t7(rp()*(i-t+1))}function ei(t,i){var c="";if(!t||i<1||i>9007199254740991)return c;do i%2&&(c+=t),(i=t7(i/2))&&(t+=t);while(i);return c}function T(t,i){return rG(Lu(t,i,on),t+"")}function fe(t,i,l,_){if(!z(t))return t;i=it(i,t);for(var v=-1,P=i.length,U=P-1,k=t;null!=k&&++v<P;){var B=Wn(i[v]),W=l;if("__proto__"===B||"constructor"===B||"prototype"===B)break;if(v!=U){var J=k[B];(W=_?_(J,B,k):c)===c&&(W=z(J)?J:Zn(i[v+1])?[]:{})}ie(k,B,W),k=k[B]}return t}var rM=rE?function(t,i){return rE.set(t,i),t}:on,rk=tG?function(t,i){return tG(t,"toString",{configurable:!0,enumerable:!1,value:Ri(i),writable:!0})}:on;function Cn(t,i,c){var l=-1,_=t.length;i<0&&(i=-i>_?0:_+i),(c=c>_?_:c)<0&&(c+=_),_=i>c?0:c-i>>>0,i>>>=0;for(var v=e7(_);++l<_;)v[l]=t[l+i];return v}function Uc(t,i){var c;return rT(t,function(t,l,_){return!(c=i(t,l,_))}),!!c}function ze(t,i,c){var l=0,_=null==t?l:t.length;if("number"==typeof i&&i==i&&_<=2147483647){for(;l<_;){var v=l+_>>>1,P=t[v];null!==P&&!pn(P)&&(c?P<=i:P<i)?l=v+1:_=v}return _}return ri(t,i,on,c)}function ri(t,i,l,_){var v=0,P=null==t?0:t.length;if(0===P)return 0;i=l(i);for(var U=i!=i,k=null===i,B=pn(i),W=i===c;v<P;){var J=t7((v+P)/2),X=l(t[J]),Q=X!==c,er=null===X,es=X==X,eo=pn(X);if(U)var ea=_||es;else ea=W?es&&(_||Q):k?es&&Q&&(_||!er):B?es&&Q&&!er&&(_||!eo):!er&&!eo&&(_?X<=i:X<i);ea?v=J+1:P=J}return rh(P,4294967294)}function iu(t,i){for(var c=-1,l=t.length,_=0,v=[];++c<l;){var P=t[c],U=i?i(P):P;if(!c||!bn(U,k)){var k=U;v[_++]=0===P?0:P}}return v}function su(t){return"number"==typeof t?t:pn(t)?U:+t}function ln(t){if("string"==typeof t)return t;if(nR(t))return G(t,ln)+"";if(pn(t))return rR?rR.call(t):"";var i=t+"";return"0"==i&&1/t==-P?"-0":i}function rt(t,i,c){var l=-1,_=Ie,v=t.length,P=!0,U=[],k=U;if(c)P=!1,_=Lr;else if(v>=200){var B=i?null:rz(t);if(B)return Ee(B);P=!1,_=kt,k=new dt}else k=i?[]:U;e:for(;++l<v;){var W=t[l],J=i?i(W):W;if(W=c||0!==W?W:0,P&&J==J){for(var X=k.length;X--;)if(k[X]===J)continue e;i&&k.push(J),U.push(W)}else _(k,J,c)||(k!==U&&k.push(J),U.push(W))}return U}function ii(t,i){return i=it(i,t),null==(t=Du(t,i))||delete t[Wn(In(i))]}function uu(t,i,c,l){return fe(t,i,c(vt(t,i)),l)}function Ke(t,i,c,l){for(var _=t.length,v=l?_:-1;(l?v--:++v<_)&&i(t[v],v,t););return c?Cn(t,l?0:v,l?v+1:_):Cn(t,l?v+1:0,l?_:v)}function au(t,i){var c=t;return c instanceof D&&(c=c.value()),Dr(i,function(t,i){return i.func.apply(i.thisArg,jn([t],i.args))},c)}function si(t,i,c){var l=t.length;if(l<2)return l?rt(t[0]):[];for(var _=-1,v=e7(l);++_<l;)for(var P=t[_],U=-1;++U<l;)U!=_&&(v[_]=se(v[_]||P,t[U],i,c));return rt(j(v,1),i,c)}function fu(t,i,l){for(var _=-1,v=t.length,P=i.length,U={};++_<v;){var k=_<P?i[_]:c;l(U,t[_],k)}return U}function ui(t){return Y(t)?t:[]}function ai(t){return"function"==typeof t?t:on}function it(t,i){return nR(t)?t:vi(t,i)?[t]:rJ($(t))}function st(t,i,l){var _=t.length;return l=l===c?_:l,!i&&l>=_?t:Cn(t,i,l)}var r$=tJ||function(t){return tq.clearTimeout(t)};function cu(t,i){if(i)return t.slice();var c=t.length,l=tP?tP(c):new t.constructor(c);return t.copy(l),l}function fi(t){var i=new t.constructor(t.byteLength);return new tO(i).set(new tO(t)),i}function hu(t,i){var c=i?fi(t.buffer):t.buffer;return new t.constructor(c,t.byteOffset,t.length)}function lu(t,i){if(t!==i){var l=t!==c,_=null===t,v=t==t,P=pn(t),U=i!==c,k=null===i,B=i==i,W=pn(i);if(!k&&!W&&!P&&t>i||P&&U&&B&&!k&&!W||_&&U&&B||!l&&B||!v)return 1;if(!_&&!P&&!W&&t<i||W&&l&&v&&!_&&!P||k&&l&&v||!U&&v||!B)return -1}return 0}function pu(t,i,c,l){for(var _=-1,v=t.length,P=c.length,U=-1,k=i.length,B=rl(v-P,0),W=e7(k+B),J=!l;++U<k;)W[U]=i[U];for(;++_<P;)(J||_<v)&&(W[c[_]]=t[_]);for(;B--;)W[U++]=t[_++];return W}function du(t,i,c,l){for(var _=-1,v=t.length,P=-1,U=c.length,k=-1,B=i.length,W=rl(v-U,0),J=e7(W+B),X=!l;++_<W;)J[_]=t[_];for(var Q=_;++k<B;)J[Q+k]=i[k];for(;++P<U;)(X||_<v)&&(J[Q+c[P]]=t[_++]);return J}function un(t,i){var c=-1,l=t.length;for(i||(i=e7(l));++c<l;)i[c]=t[c];return i}function Un(t,i,l,_){var v=!l;l||(l={});for(var P=-1,U=i.length;++P<U;){var k=i[P],B=_?_(l[k],t[k],k,l,t):c;B===c&&(B=t[k]),v?zn(l,k,B):ie(l,k,B)}return l}function Ye(t,i){return function(c,l){var _=nR(c)?Jf:lc,v=i?i():{};return _(c,t,x(l,2),v)}}function Ut(t){return T(function(i,l){var _=-1,v=l.length,P=v>1?l[v-1]:c,U=v>2?l[2]:c;for(P=t.length>3&&"function"==typeof P?(v--,P):c,U&&rn(l[0],l[1],U)&&(P=v<3?c:P,v=1),i=tc(i);++_<v;){var k=l[_];k&&t(i,k,_,P)}return i})}function gu(t,i){return function(c,l){if(null==c)return c;if(!an(c))return t(c,l);for(var _=c.length,v=i?_:-1,P=tc(c);(i?v--:++v<_)&&!1!==l(P[v],v,P););return c}}function vu(t){return function(i,c,l){for(var _=-1,v=tc(i),P=l(i),U=P.length;U--;){var k=P[t?U:++_];if(!1===c(v[k],k,v))break}return i}}function _u(t){return function(i){var l=bt(i=$(i))?On(i):c,_=l?l[0]:i.charAt(0),v=l?st(l,1).join(""):i.slice(1);return _[t]()+v}}function Wt(t){return function(i){return Dr(ga(da(i).replace(tC,"")),t,"")}}function oe(t){return function(){var i=arguments;switch(i.length){case 0:return new t;case 1:return new t(i[0]);case 2:return new t(i[0],i[1]);case 3:return new t(i[0],i[1],i[2]);case 4:return new t(i[0],i[1],i[2],i[3]);case 5:return new t(i[0],i[1],i[2],i[3],i[4]);case 6:return new t(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new t(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var c=rN(t.prototype),l=t.apply(c,i);return z(l)?l:c}}function mu(t){return function(i,l,_){var v=tc(i);if(!an(i)){var P=x(l,3);i=V(i),l=function(t){return P(v[t],t,v)}}var U=t(i,l,_);return U>-1?v[P?i[U]:U]:c}}function wu(t){return Yn(function(i){var _=i.length,v=_,P=Pn.prototype.thru;for(t&&i.reverse();v--;){var U=i[v];if("function"!=typeof U)throw new tf(l);if(P&&!k&&"wrapper"==Ve(U))var k=new Pn([],!0)}for(v=k?v:_;++v<_;){var B=Ve(U=i[v]),W="wrapper"==B?rH(U):c;k=W&&_i(W[0])&&424==W[1]&&!W[4].length&&1==W[9]?k[Ve(W[0])].apply(k,W[3]):1==U.length&&_i(U)?k[B]():k.thru(U)}return function(){var t=arguments,c=t[0];if(k&&1==t.length&&nR(c))return k.plant(c).value();for(var l=0,v=_?i[l].apply(this,t):c;++l<_;)v=i[l].call(this,v);return v}})}function Ze(t,i,l,_,v,P,U,k,B,W){var J=128&i,X=1&i,Q=2&i,er=24&i,es=512&i,eo=Q?c:oe(t);return function y(){for(var ea=arguments.length,ec=e7(ea),el=ea;el--;)ec[el]=arguments[el];if(er)var eh=Ft(y),ef=function(t,i){for(var c=t.length,l=0;c--;)t[c]===i&&++l;return l}(ec,eh);if(_&&(ec=pu(ec,_,v,er)),P&&(ec=du(ec,P,U,er)),ea-=ef,er&&ea<W){var ed=nt(ec,eh);return Cu(t,i,Ze,y.placeholder,l,ec,ed,k,B,W-ea)}var ep=X?l:this,eg=Q?ep[t]:t;return ea=ec.length,k?ec=function(t,i){for(var l=t.length,_=rh(i.length,l),v=un(t);_--;){var P=i[_];t[_]=Zn(P,l)?v[P]:c}return t}(ec,k):es&&ea>1&&ec.reverse(),J&&B<ea&&(ec.length=B),this&&this!==tq&&this instanceof y&&(eg=eo||oe(eg)),eg.apply(ep,ec)}}function Pu(t,i){return function(c,l){var _,v;return _=i(l),v={},$n(c,function(i,c,l){t(v,_(i),c,l)}),v}}function Je(t,i){return function(l,_){var v;if(l===c&&_===c)return i;if(l!==c&&(v=l),_!==c){if(v===c)return _;"string"==typeof l||"string"==typeof _?(l=ln(l),_=ln(_)):(l=su(l),_=su(_)),v=t(l,_)}return v}}function oi(t){return Yn(function(i){return i=G(i,hn(x())),T(function(c){var l=this;return t(i,function(t){return cn(t,l,c)})})})}function Xe(t,i){var l=(i=i===c?" ":ln(i)).length;if(l<2)return l?ei(i,t):i;var _=ei(i,t9(t/Tt(i)));return bt(i)?st(On(_),0,t).join(""):_.slice(0,t)}function Au(t){return function(i,l,_){return _&&"number"!=typeof _&&rn(i,l,_)&&(l=_=c),i=Xn(i),l===c?(l=i,i=0):l=Xn(l),_=_===c?i<l?1:-1:Xn(_),function(t,i,c,l){for(var _=-1,v=rl(t9((i-t)/(c||1)),0),P=e7(v);v--;)P[l?v:++_]=t,t+=c;return P}(i,l,_,t)}}function Qe(t){return function(i,c){return"string"==typeof i&&"string"==typeof c||(i=xn(i),c=xn(c)),t(i,c)}}function Cu(t,i,l,_,v,P,U,k,B,W){var J=8&i,X=J?U:c,Q=J?c:U,er=J?P:c,es=J?c:P;i|=J?32:64,4&(i&=~(J?64:32))||(i&=-4);var eo=[t,i,v,er,X,es,Q,k,B,W],ea=l.apply(c,eo);return _i(t)&&rK(ea,eo),ea.placeholder=_,Nu(ea,t,i)}function ci(t){var i=to[t];return function(t,c){if(t=xn(t),(c=null==c?0:rh(R(c),292))&&ro(t)){var l=($(t)+"e").split("e");return+((l=($(i(l[0]+"e"+(+l[1]+c)))+"e").split("e"))[0]+"e"+(+l[1]-c))}return i(t)}}var rz=rm&&1/Ee(new rm([,-0]))[1]==P?function(t){return new rm(t)}:Li;function Iu(t){return function(i){var c,l,_=rq(i);return _==eo?Mr(i):_==ef?(c=-1,l=Array(i.size),i.forEach(function(t){l[++c]=[t,t]}),l):G(t(i),function(t){return[t,i[t]]})}}function Kn(t,i,_,P,U,k,B,W){var J=2&i;if(!J&&"function"!=typeof t)throw new tf(l);var X=P?P.length:0;if(X||(i&=-97,P=U=c),B=B===c?B:rl(R(B),0),W=W===c?W:R(W),X-=U?U.length:0,64&i){var Q=P,er=U;P=U=c}var es=J?c:rH(t),eo=[t,i,_,P,U,Q,er,k,B,W];if(es&&function(t,i){var c=t[1],l=i[1],_=c|l,P=_<131,U=128==l&&8==c||128==l&&256==c&&t[7].length<=i[8]||384==l&&i[7].length<=i[8]&&8==c;if(P||U){1&l&&(t[2]=i[2],_|=1&c?0:4);var k=i[3];if(k){var B=t[3];t[3]=B?pu(B,k,i[4]):k,t[4]=B?nt(t[3],v):i[4]}(k=i[5])&&(B=t[5],t[5]=B?du(B,k,i[6]):k,t[6]=B?nt(t[5],v):i[6]),(k=i[7])&&(t[7]=k),128&l&&(t[8]=null==t[8]?i[8]:rh(t[8],i[8])),null==t[9]&&(t[9]=i[9]),t[0]=i[0],t[1]=_}}(eo,es),t=eo[0],i=eo[1],_=eo[2],P=eo[3],U=eo[4],(W=eo[9]=eo[9]===c?J?0:t.length:rl(eo[9]-X,0))||!(24&i)||(i&=-25),i&&1!=i)8==i||16==i?(ea=t,ec=i,el=W,eh=oe(ea),eD=function s(){for(var t=arguments.length,i=e7(t),l=t,_=Ft(s);l--;)i[l]=arguments[l];var v=t<3&&i[0]!==_&&i[t-1]!==_?[]:nt(i,_);return(t-=v.length)<el?Cu(ea,ec,Ze,s.placeholder,c,i,v,c,c,el-t):cn(this&&this!==tq&&this instanceof s?eh:ea,this,i)}):32!=i&&33!=i||U.length?eD=Ze.apply(c,eo):(ef=t,ed=i,ep=_,eg=P,e_=1&ed,ey=oe(ef),eD=function o(){for(var t=-1,i=arguments.length,c=-1,l=eg.length,_=e7(l+i),v=this&&this!==tq&&this instanceof o?ey:ef;++c<l;)_[c]=eg[c];for(;i--;)_[c++]=arguments[++t];return cn(v,e_?ep:this,_)});else var ea,ec,el,eh,ef,ed,ep,eg,e_,ey,ev,em,eb,ew,eE,eD=(ev=t,em=i,eb=_,ew=1&em,eE=oe(ev),function f(){return(this&&this!==tq&&this instanceof f?eE:ev).apply(ew?eb:this,arguments)});return Nu((es?rM:rK)(eD,eo),t,i)}function xu(t,i,l,_){return t===c||bn(t,tg[l])&&!tv.call(_,l)?i:t}function Eu(t,i,l,_,v,P){return z(t)&&z(i)&&(P.set(i,t),Ge(t,i,c,Eu,P),P.delete(i)),t}function Xc(t){return le(t)?c:t}function yu(t,i,l,_,v,P){var U=1&l,k=t.length,B=i.length;if(k!=B&&!(U&&B>k))return!1;var W=P.get(t),J=P.get(i);if(W&&J)return W==i&&J==t;var X=-1,Q=!0,er=2&l?new dt:c;for(P.set(t,i),P.set(i,t);++X<k;){var es=t[X],eo=i[X];if(_)var ea=U?_(eo,es,X,i,t,P):_(es,eo,X,t,i,P);if(ea!==c){if(ea)continue;Q=!1;break}if(er){if(!Hr(i,function(t,i){if(!kt(er,i)&&(es===t||v(es,t,l,_,P)))return er.push(i)})){Q=!1;break}}else if(!(es===eo||v(es,eo,l,_,P))){Q=!1;break}}return P.delete(t),P.delete(i),Q}function Yn(t){return rG(Lu(t,c,qu),t+"")}function hi(t){return Ys(t,V,rB)}function li(t){return Ys(t,fn,rF)}var rH=rE?function(t){return rE.get(t)}:Li;function Ve(t){for(var i=t.name+"",c=rD[i],l=tv.call(rD,i)?c.length:0;l--;){var _=c[l],v=_.func;if(null==v||v==t)return _.name}return i}function Ft(t){return(tv.call(a,"placeholder")?a:t).placeholder}function x(){var t=a.iteratee||bi;return t=t===bi?Xs:t,arguments.length?t(arguments[0],arguments[1]):t}function ke(t,i){var c,l=t.__data__;return("string"==(c=typeof i)||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==i:null===i)?l["string"==typeof i?"string":"hash"]:l.map}function di(t){for(var i=V(t),c=i.length;c--;){var l=i[c],_=t[l];i[c]=[l,_,_==_&&!z(_)]}return i}function _t(t,i){var l=null==t?c:t[i];return Js(l)?l:c}var rB=re?function(t){return null==t?[]:kn(re(t=tc(t)),function(i){return t$.call(t,i)})}:Di,rF=re?function(t){for(var i=[];t;)jn(i,rB(t)),t=tR(t);return i}:Di,rq=en;function Ou(t,i,c){i=it(i,t);for(var l=-1,_=i.length,v=!1;++l<_;){var P=Wn(i[l]);if(!(v=null!=t&&c(t,P)))break;t=t[P]}return v||++l!=_?v:!!(_=null==t?0:t.length)&&sr(_)&&Zn(P,_)&&(nR(t)||nA(t))}function Ru(t){return"function"!=typeof t.constructor||ce(t)?{}:rN(tR(t))}function ih(t){return nR(t)||nA(t)||!!(tF&&t&&t[tF])}function Zn(t,i){var c=typeof t;return!!(i=i??9007199254740991)&&("number"==c||"symbol"!=c&&e3.test(t))&&t>-1&&t%1==0&&t<i}function rn(t,i,c){if(!z(c))return!1;var l=typeof i;return("number"==l?!!(an(c)&&Zn(i,c.length)):"string"==l&&i in c)&&bn(c[i],t)}function vi(t,i){if(nR(t))return!1;var c=typeof t;return!!("number"==c||"symbol"==c||"boolean"==c||null==t||pn(t))||ek.test(t)||!eM.test(t)||null!=i&&t in tc(i)}function _i(t){var i=Ve(t),c=a[i];if("function"!=typeof c||!(i in D.prototype))return!1;if(t===c)return!0;var l=rH(c);return!!l&&t===l[0]}(r_&&rq(new r_(new ArrayBuffer(1)))!=ey||ry&&rq(new ry)!=eo||rv&&rq(rv.resolve())!=el||rm&&rq(new rm)!=ef||rb&&rq(new rb)!=eg)&&(rq=function(t){var i=en(t),l=i==ec?t.constructor:c,_=l?mt(l):"";if(_)switch(_){case rS:return ey;case rx:return eo;case rI:return el;case rO:return ef;case rP:return eg}return i});var rV=t_?Jn:Hi;function ce(t){var i=t&&t.constructor;return t===("function"==typeof i&&i.prototype||tg)}function Tu(t,i){return function(l){return null!=l&&l[t]===i&&(i!==c||t in tc(l))}}function Lu(t,i,l){return i=rl(i===c?t.length-1:i,0),function(){for(var c=arguments,_=-1,v=rl(c.length-i,0),P=e7(v);++_<v;)P[_]=c[i+_];_=-1;for(var U=e7(i+1);++_<i;)U[_]=c[_];return U[i]=l(P),cn(t,this,U)}}function Du(t,i){return i.length<2?t:vt(t,Cn(i,0,-1))}function mi(t,i){if(!("constructor"===i&&"function"==typeof t[i])&&"__proto__"!=i)return t[i]}var rK=$u(rM),rW=t4||function(t,i){return tq.setTimeout(t,i)},rG=$u(rk);function Nu(t,i,c){var l,_,v=i+"";return rG(t,function(t,i){var c=i.length;if(!c)return t;var l=c-1;return i[l]=(c>1?"& ":"")+i[l],i=i.join(c>2?", ":" "),t.replace(eV,`{
/* [wrapped with `+i+`] */
`)}(v,(l=(_=v.match(eK))?_[1].split(eW):[],mn(k,function(t){var i="_."+t[0];c&t[1]&&!Ie(l,i)&&l.push(i)}),l.sort())))}function $u(t){var i=0,l=0;return function(){var _=rf(),v=16-(_-l);if(l=_,v>0){if(++i>=800)return arguments[0]}else i=0;return t.apply(c,arguments)}}function je(t,i){var l=-1,_=t.length,v=_-1;for(i=i===c?_:i;++l<i;){var P=ti(l,v),U=t[P];t[P]=t[l],t[l]=U}return t.length=i,t}var rJ=(e4=(eF=rr(function(t){var i=[];return 46===t.charCodeAt(0)&&i.push(""),t.replace(e$,function(t,c,l,_){i.push(l?_.replace(eY,"$1"):c||t)}),i},function(t){return 500===e4.size&&e4.clear(),t})).cache,eF);function Wn(t){if("string"==typeof t||pn(t))return t;var i=t+"";return"0"==i&&1/t==-P?"-0":i}function mt(t){if(null!=t){try{return ty.call(t)}catch{}try{return t+""}catch{}}return""}function Wu(t){if(t instanceof D)return t.clone();var i=new Pn(t.__wrapped__,t.__chain__);return i.__actions__=un(t.__actions__),i.__index__=t.__index__,i.__values__=t.__values__,i}var rY=T(function(t,i){return Y(t)?se(t,j(i,1,Y,!0)):[]}),rX=T(function(t,i){var l=In(i);return Y(l)&&(l=c),Y(t)?se(t,j(i,1,Y,!0),x(l,2)):[]}),rZ=T(function(t,i){var l=In(i);return Y(l)&&(l=c),Y(t)?se(t,j(i,1,Y,!0),c,l):[]});function Fu(t,i,c){var l=null==t?0:t.length;if(!l)return -1;var _=null==c?0:R(c);return _<0&&(_=rl(l+_,0)),xe(t,x(i,3),_)}function Mu(t,i,l){var _=null==t?0:t.length;if(!_)return -1;var v=_-1;return l!==c&&(v=R(l),v=l<0?rl(_+v,0):rh(v,_-1)),xe(t,x(i,3),v,!0)}function qu(t){return(null==t?0:t.length)?j(t,1):[]}function Bu(t){return t&&t.length?t[0]:c}var rQ=T(function(t){var i=G(t,ui);return i.length&&i[0]===t[0]?Qr(i):[]}),r0=T(function(t){var i=In(t),l=G(t,ui);return i===In(l)?i=c:l.pop(),l.length&&l[0]===t[0]?Qr(l,x(i,2)):[]}),r1=T(function(t){var i=In(t),l=G(t,ui);return(i="function"==typeof i?i:c)&&l.pop(),l.length&&l[0]===t[0]?Qr(l,c,i):[]});function In(t){var i=null==t?0:t.length;return i?t[i-1]:c}var r5=T(Gu);function Gu(t,i){return t&&t.length&&i&&i.length?ni(t,i):t}var r3=Yn(function(t,i){var c=null==t?0:t.length,l=Yr(t,i);return eu(t,G(i,function(t){return Zn(t,c)?+t:t}).sort(lu)),l});function Pi(t){return null==t?t:rg.call(t)}var r6=T(function(t){return rt(j(t,1,Y,!0))}),r2=T(function(t){var i=In(t);return Y(i)&&(i=c),rt(j(t,1,Y,!0),x(i,2))}),r8=T(function(t){var i=In(t);return i="function"==typeof i?i:c,rt(j(t,1,Y,!0),c,i)});function Ai(t){if(!(t&&t.length))return[];var i=0;return t=kn(t,function(t){if(Y(t))return i=rl(t.length,i),!0}),Wr(i,function(i){return G(t,Nr(i))})}function zu(t,i){if(!(t&&t.length))return[];var l=Ai(t);return null==i?l:G(l,function(t){return cn(i,c,t)})}var r4=T(function(t,i){return Y(t)?se(t,i):[]}),r9=T(function(t){return si(kn(t,Y))}),r7=T(function(t){var i=In(t);return Y(i)&&(i=c),si(kn(t,Y),x(i,2))}),nn=T(function(t){var i=In(t);return i="function"==typeof i?i:c,si(kn(t,Y),c,i)}),ns=T(Ai),na=T(function(t){var i=t.length,l=i>1?t[i-1]:c;return l="function"==typeof l?(t.pop(),l):c,zu(t,l)});function Ku(t){var i=a(t);return i.__chain__=!0,i}function nr(t,i){return i(t)}var nc=Yn(function(t){var i=t.length,l=i?t[0]:0,_=this.__wrapped__,s=function(i){return Yr(i,t)};return!(i>1)&&!this.__actions__.length&&_ instanceof D&&Zn(l)?((_=_.slice(l,+l+(i?1:0))).__actions__.push({func:nr,args:[s],thisArg:c}),new Pn(_,this.__chain__).thru(function(t){return i&&!t.length&&t.push(c),t})):this.thru(s)}),nl=Ye(function(t,i,c){tv.call(t,c)?++t[c]:zn(t,c,1)}),nh=mu(Fu),nf=mu(Mu);function Yu(t,i){return(nR(t)?mn:rT)(t,x(i,3))}function Zu(t,i){return(nR(t)?function(t,i){for(var c=null==t?0:t.length;c--&&!1!==i(t[c],c,t););return t}:rj)(t,x(i,3))}var nd=Ye(function(t,i,c){tv.call(t,c)?t[c].push(i):zn(t,c,[i])}),np=T(function(t,i,c){var l=-1,_="function"==typeof i,v=an(t)?e7(t.length):[];return rT(t,function(t){v[++l]=_?cn(i,t,c):ue(t,i,c)}),v}),ng=Ye(function(t,i,c){zn(t,c,i)});function tr(t,i){return(nR(t)?G:Qs)(t,x(i,3))}var n_=Ye(function(t,i,c){t[c?0:1].push(i)},function(){return[[],[]]}),ny=T(function(t,i){if(null==t)return[];var c=i.length;return c>1&&rn(t,i[0],i[1])?i=[]:c>2&&rn(i[0],i[1],i[2])&&(i=[i[0]]),nu(t,j(i,1),[])}),nm=t5||function(){return tq.Date.now()};function Ju(t,i,l){return i=l?c:i,i=t&&null==i?t.length:i,Kn(t,128,c,c,c,c,i)}function Xu(t,i){var _;if("function"!=typeof i)throw new tf(l);return t=R(t),function(){return--t>0&&(_=i.apply(this,arguments)),t<=1&&(i=c),_}}var nb=T(function(t,i,c){var l=1;if(c.length){var _=nt(c,Ft(nb));l|=32}return Kn(t,l,i,c,_)}),nw=T(function(t,i,c){var l=3;if(c.length){var _=nt(c,Ft(nw));l|=32}return Kn(i,l,t,c,_)});function ju(t,i,_){var v,P,U,k,B,W,J=0,X=!1,Q=!1,er=!0;if("function"!=typeof t)throw new tf(l);function A(i){var l=v,_=P;return v=P=c,J=i,k=t.apply(_,l)}function y(t){var l=t-W,_=t-J;return W===c||l>=i||l<0||Q&&_>=U}function L(){var t,c,l,_=nm();if(y(_))return H(_);B=rW(L,(t=_-W,c=_-J,l=i-t,Q?rh(l,U-c):l))}function H(t){return B=c,er&&v?A(t):(v=P=c,k)}function gn(){var t,l=nm(),_=y(l);if(v=arguments,P=this,W=l,_){if(B===c)return J=t=W,B=rW(L,i),X?A(t):k;if(Q)return r$(B),B=rW(L,i),A(W)}return B===c&&(B=rW(L,i)),k}return i=xn(i)||0,z(_)&&(X=!!_.leading,U=(Q="maxWait"in _)?rl(xn(_.maxWait)||0,i):U,er="trailing"in _?!!_.trailing:er),gn.cancel=function(){B!==c&&r$(B),J=0,v=W=P=B=c},gn.flush=function(){return B===c?k:H(nm())},gn}var nE=T(function(t,i){return Bs(t,1,i)}),nD=T(function(t,i,c){return Bs(t,xn(i)||0,c)});function rr(t,i){if("function"!=typeof t||null!=i&&"function"!=typeof i)throw new tf(l);var e=function(){var c=arguments,l=i?i.apply(this,c):c[0],_=e.cache;if(_.has(l))return _.get(l);var v=t.apply(this,c);return e.cache=_.set(l,v)||_,v};return e.cache=new(rr.Cache||Gn),e}function ir(t){if("function"!=typeof t)throw new tf(l);return function(){var i=arguments;switch(i.length){case 0:return!t.call(this);case 1:return!t.call(this,i[0]);case 2:return!t.call(this,i[0],i[1]);case 3:return!t.call(this,i[0],i[1],i[2])}return!t.apply(this,i)}}rr.Cache=Gn;var nS=T(function(t,i){var c=(i=1==i.length&&nR(i[0])?G(i[0],hn(x())):G(j(i,1),hn(x()))).length;return T(function(l){for(var _=-1,v=rh(l.length,c);++_<v;)l[_]=i[_].call(this,l[_]);return cn(t,this,l)})}),nx=T(function(t,i){var l=nt(i,Ft(nx));return Kn(t,32,c,i,l)}),nI=T(function(t,i){var l=nt(i,Ft(nI));return Kn(t,64,c,i,l)}),nO=Yn(function(t,i){return Kn(t,256,c,c,c,i)});function bn(t,i){return t===i||t!=t&&i!=i}var nP=Qe(Xr),nC=Qe(function(t,i){return t>=i}),nA=Zs(function(){return arguments}())?Zs:function(t){return K(t)&&tv.call(t,"callee")&&!t$.call(t,"callee")},nR=e7.isArray,nN=tY?hn(tY):function(t){return K(t)&&en(t)==e_};function an(t){return null!=t&&sr(t.length)&&!Jn(t)}function Y(t){return K(t)&&an(t)}var nT=rs||Hi,nj=tX?hn(tX):function(t){return K(t)&&en(t)==X};function xi(t){if(!K(t))return!1;var i=en(t);return i==Q||"[object DOMException]"==i||"string"==typeof t.message&&"string"==typeof t.name&&!le(t)}function Jn(t){if(!z(t))return!1;var i=en(t);return i==er||i==es||"[object AsyncFunction]"==i||"[object Proxy]"==i}function ta(t){return"number"==typeof t&&t==R(t)}function sr(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function z(t){var i=typeof t;return null!=t&&("object"==i||"function"==i)}function K(t){return null!=t&&"object"==typeof t}var nL=tZ?hn(tZ):function(t){return K(t)&&rq(t)==eo};function ra(t){return"number"==typeof t||K(t)&&en(t)==ea}function le(t){if(!K(t)||en(t)!=ec)return!1;var i=tR(t);if(null===i)return!0;var c=tv.call(i,"constructor")&&i.constructor;return"function"==typeof c&&c instanceof c&&ty.call(c)==tE}var nU=tQ?hn(tQ):function(t){return K(t)&&en(t)==eh},nM=t0?hn(t0):function(t){return K(t)&&rq(t)==ef};function ur(t){return"string"==typeof t||!nR(t)&&K(t)&&en(t)==ed}function pn(t){return"symbol"==typeof t||K(t)&&en(t)==ep}var nk=t1?hn(t1):function(t){return K(t)&&sr(t.length)&&!!tM[en(t)]},n$=Qe(jr),nz=Qe(function(t,i){return t<=i});function sa(t){if(!t)return[];if(an(t))return ur(t)?On(t):un(t);if(tV&&t[tV])return function(t){for(var i,c=[];!(i=t.next()).done;)c.push(i.value);return c}(t[tV]());var i=rq(t);return(i==eo?Mr:i==ef?Ee:qt)(t)}function Xn(t){return t?(t=xn(t))===P||t===-P?(t<0?-1:1)*17976931348623157e292:t==t?t:0:0===t?t:0}function R(t){var i=Xn(t),c=i%1;return i==i?c?i-c:i:0}function ua(t){return t?gt(R(t),0,4294967295):0}function xn(t){if("number"==typeof t)return t;if(pn(t))return U;if(z(t)){var i="function"==typeof t.valueOf?t.valueOf():t;t=z(i)?i+"":i}if("string"!=typeof t)return 0===t?t:+t;t=Es(t);var c=e0.test(t);return c||e5.test(t)?tH(t.slice(2),c?2:8):eQ.test(t)?U:+t}function aa(t){return Un(t,fn(t))}function $(t){return null==t?"":ln(t)}var nH=Ut(function(t,i){if(ce(i)||an(i)){Un(i,V(i),t);return}for(var c in i)tv.call(i,c)&&ie(t,c,i[c])}),nB=Ut(function(t,i){Un(i,fn(i),t)}),nF=Ut(function(t,i,c,l){Un(i,fn(i),t,l)}),nq=Ut(function(t,i,c,l){Un(i,V(i),t,l)}),nV=Yn(Yr),nK=T(function(t,i){t=tc(t);var l=-1,_=i.length,v=_>2?i[2]:c;for(v&&rn(i[0],i[1],v)&&(_=1);++l<_;)for(var P=i[l],U=fn(P),k=-1,B=U.length;++k<B;){var W=U[k],J=t[W];(J===c||bn(J,tg[W])&&!tv.call(t,W))&&(t[W]=P[W])}return t}),nW=T(function(t){return t.push(c,Eu),cn(nZ,c,t)});function yi(t,i,l){var _=null==t?c:vt(t,i);return _===c?l:_}function Si(t,i){return null!=t&&Ou(t,i,mc)}var nG=Pu(function(t,i,c){null!=i&&"function"!=typeof i.toString&&(i=tw.call(i)),t[i]=c},Ri(on)),nJ=Pu(function(t,i,c){null!=i&&"function"!=typeof i.toString&&(i=tw.call(i)),tv.call(t,i)?t[i].push(c):t[i]=[c]},x),nY=T(ue);function V(t){return an(t)?Ws(t):kr(t)}function fn(t){return an(t)?Ws(t,!0):function(t){if(!z(t))return function(t){var i=[];if(null!=t)for(var c in tc(t))i.push(c);return i}(t);var i=ce(t),c=[];for(var l in t)"constructor"==l&&(i||!tv.call(t,l))||c.push(l);return c}(t)}var nX=Ut(function(t,i,c){Ge(t,i,c)}),nZ=Ut(function(t,i,c,l){Ge(t,i,c,l)}),nQ=Yn(function(t,i){var c={};if(null==t)return c;var l=!1;i=G(i,function(i){return i=it(i,t),l||(l=i.length>1),i}),Un(t,li(t),c),l&&(c=An(c,7,Xc));for(var _=i.length;_--;)ii(c,i[_]);return c}),n0=Yn(function(t,i){return null==t?{}:tu(t,i,function(i,c){return Si(t,c)})});function ca(t,i){if(null==t)return{};var c=G(li(t),function(t){return[t]});return i=x(i),tu(t,c,function(t,c){return i(t,c[0])})}var n1=Iu(V),n5=Iu(fn);function qt(t){return null==t?[]:Fr(t,V(t))}var n3=Wt(function(t,i,c){return i=i.toLowerCase(),t+(c?pa(i):i)});function pa(t){return is($(t).toLowerCase())}function da(t){return(t=$(t))&&t.replace(e6,t3).replace(tA,"")}var n6=Wt(function(t,i,c){return t+(c?"-":"")+i.toLowerCase()}),n2=Wt(function(t,i,c){return t+(c?" ":"")+i.toLowerCase()}),n8=_u("toLowerCase"),n4=Wt(function(t,i,c){return t+(c?"_":"")+i.toLowerCase()}),n9=Wt(function(t,i,c){return t+(c?" ":"")+is(i)}),n7=Wt(function(t,i,c){return t+(c?" ":"")+i.toUpperCase()}),is=_u("toUpperCase");function ga(t,i,l){var _;return t=$(t),(i=l?c:i)===c?(_=t,tj.test(_))?t.match(tN)||[]:t.match(eG)||[]:t.match(i)||[]}var io=T(function(t,i){try{return cn(t,c,i)}catch(t){return xi(t)?t:new tn(t)}}),ia=Yn(function(t,i){return mn(i,function(i){zn(t,i=Wn(i),nb(t[i],t))}),t});function Ri(t){return function(){return t}}var ic=wu(),il=wu(!0);function on(t){return t}function bi(t){return Xs("function"==typeof t?t:An(t,1))}var id=T(function(t,i){return function(c){return ue(c,t,i)}}),ip=T(function(t,i){return function(c){return ue(t,c,i)}});function Ti(t,i,c){var l=V(i),_=Be(i,l);null!=c||z(i)&&(_.length||!l.length)||(c=i,i=t,t=this,_=Be(i,V(i)));var v=!(z(c)&&"chain"in c)||!!c.chain,P=Jn(t);return mn(_,function(c){var l=i[c];t[c]=l,P&&(t.prototype[c]=function(){var i=this.__chain__;if(v||i){var c=t(this.__wrapped__);return(c.__actions__=un(this.__actions__)).push({func:l,args:arguments,thisArg:t}),c.__chain__=i,c}return l.apply(t,jn([this.value()],arguments))})}),t}function Li(){}var ig=oi(G),i_=oi(Ps),iy=oi(Hr);function _a(t){return vi(t)?Nr(Wn(t)):function(i){return vt(i,t)}}var iv=Au(),im=Au(!0);function Di(){return[]}function Hi(){return!1}var ib=Je(function(t,i){return t+i},0),iw=ci("ceil"),iE=Je(function(t,i){return t/i},1),iD=ci("floor"),iS=Je(function(t,i){return t*i},1),ix=ci("round"),iI=Je(function(t,i){return t-i},0);return a.after=function(t,i){if("function"!=typeof i)throw new tf(l);return t=R(t),function(){if(--t<1)return i.apply(this,arguments)}},a.ary=Ju,a.assign=nH,a.assignIn=nB,a.assignInWith=nF,a.assignWith=nq,a.at=nV,a.before=Xu,a.bind=nb,a.bindAll=ia,a.bindKey=nw,a.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return nR(t)?t:[t]},a.chain=Ku,a.chunk=function(t,i,l){i=(l?rn(t,i,l):i===c)?1:rl(R(i),0);var _=null==t?0:t.length;if(!_||i<1)return[];for(var v=0,P=0,U=e7(t9(_/i));v<_;)U[P++]=Cn(t,v,v+=i);return U},a.compact=function(t){for(var i=-1,c=null==t?0:t.length,l=0,_=[];++i<c;){var v=t[i];v&&(_[l++]=v)}return _},a.concat=function(){var t=arguments.length;if(!t)return[];for(var i=e7(t-1),c=arguments[0],l=t;l--;)i[l-1]=arguments[l];return jn(nR(c)?un(c):[c],j(i,1))},a.cond=function(t){var i=null==t?0:t.length,c=x();return t=i?G(t,function(t){if("function"!=typeof t[1])throw new tf(l);return[c(t[0]),t[1]]}):[],T(function(c){for(var l=-1;++l<i;){var _=t[l];if(cn(_[0],this,c))return cn(_[1],this,c)}})},a.conforms=function(t){var i,c;return c=V(i=An(t,1)),function(t){return qs(t,i,c)}},a.constant=Ri,a.countBy=nl,a.create=function(t,i){var c=rN(t);return null==i?c:Ms(c,i)},a.curry=function Vu(t,i,l){i=l?c:i;var _=Kn(t,8,c,c,c,c,c,i);return _.placeholder=Vu.placeholder,_},a.curryRight=function ku(t,i,l){i=l?c:i;var _=Kn(t,16,c,c,c,c,c,i);return _.placeholder=ku.placeholder,_},a.debounce=ju,a.defaults=nK,a.defaultsDeep=nW,a.defer=nE,a.delay=nD,a.difference=rY,a.differenceBy=rX,a.differenceWith=rZ,a.drop=function(t,i,l){var _=null==t?0:t.length;return _?Cn(t,(i=l||i===c?1:R(i))<0?0:i,_):[]},a.dropRight=function(t,i,l){var _=null==t?0:t.length;return _?Cn(t,0,(i=_-(i=l||i===c?1:R(i)))<0?0:i):[]},a.dropRightWhile=function(t,i){return t&&t.length?Ke(t,x(i,3),!0,!0):[]},a.dropWhile=function(t,i){return t&&t.length?Ke(t,x(i,3),!0):[]},a.fill=function(t,i,l,_){var v=null==t?0:t.length;return v?(l&&"number"!=typeof l&&rn(t,i,l)&&(l=0,_=v),function(t,i,l,_){var v=t.length;for((l=R(l))<0&&(l=-l>v?0:v+l),(_=_===c||_>v?v:R(_))<0&&(_+=v),_=l>_?0:ua(_);l<_;)t[l++]=i;return t}(t,i,l,_)):[]},a.filter=function(t,i){return(nR(t)?kn:zs)(t,x(i,3))},a.flatMap=function(t,i){return j(tr(t,i),1)},a.flatMapDeep=function(t,i){return j(tr(t,i),P)},a.flatMapDepth=function(t,i,l){return l=l===c?1:R(l),j(tr(t,i),l)},a.flatten=qu,a.flattenDeep=function(t){return(null==t?0:t.length)?j(t,P):[]},a.flattenDepth=function(t,i){return(null==t?0:t.length)?j(t,i=i===c?1:R(i)):[]},a.flip=function(t){return Kn(t,512)},a.flow=ic,a.flowRight=il,a.fromPairs=function(t){for(var i=-1,c=null==t?0:t.length,l={};++i<c;){var _=t[i];l[_[0]]=_[1]}return l},a.functions=function(t){return null==t?[]:Be(t,V(t))},a.functionsIn=function(t){return null==t?[]:Be(t,fn(t))},a.groupBy=nd,a.initial=function(t){return(null==t?0:t.length)?Cn(t,0,-1):[]},a.intersection=rQ,a.intersectionBy=r0,a.intersectionWith=r1,a.invert=nG,a.invertBy=nJ,a.invokeMap=np,a.iteratee=bi,a.keyBy=ng,a.keys=V,a.keysIn=fn,a.map=tr,a.mapKeys=function(t,i){var c={};return i=x(i,3),$n(t,function(t,l,_){zn(c,i(t,l,_),t)}),c},a.mapValues=function(t,i){var c={};return i=x(i,3),$n(t,function(t,l,_){zn(c,l,i(t,l,_))}),c},a.matches=function(t){return Vs(An(t,1))},a.matchesProperty=function(t,i){return ks(t,An(i,1))},a.memoize=rr,a.merge=nX,a.mergeWith=nZ,a.method=id,a.methodOf=ip,a.mixin=Ti,a.negate=ir,a.nthArg=function(t){return t=R(t),T(function(i){return js(i,t)})},a.omit=nQ,a.omitBy=function(t,i){return ca(t,ir(x(i)))},a.once=function(t){return Xu(2,t)},a.orderBy=function(t,i,l,_){return null==t?[]:(nR(i)||(i=null==i?[]:[i]),nR(l=_?c:l)||(l=null==l?[]:[l]),nu(t,i,l))},a.over=ig,a.overArgs=nS,a.overEvery=i_,a.overSome=iy,a.partial=nx,a.partialRight=nI,a.partition=n_,a.pick=n0,a.pickBy=ca,a.property=_a,a.propertyOf=function(t){return function(i){return null==t?c:vt(t,i)}},a.pull=r5,a.pullAll=Gu,a.pullAllBy=function(t,i,c){return t&&t.length&&i&&i.length?ni(t,i,x(c,2)):t},a.pullAllWith=function(t,i,l){return t&&t.length&&i&&i.length?ni(t,i,c,l):t},a.pullAt=r3,a.range=iv,a.rangeRight=im,a.rearg=nO,a.reject=function(t,i){return(nR(t)?kn:zs)(t,ir(x(i,3)))},a.remove=function(t,i){var c=[];if(!(t&&t.length))return c;var l=-1,_=[],v=t.length;for(i=x(i,3);++l<v;){var P=t[l];i(P,l,t)&&(c.push(P),_.push(l))}return eu(t,_),c},a.rest=function(t,i){if("function"!=typeof t)throw new tf(l);return T(t,i=i===c?i:R(i))},a.reverse=Pi,a.sampleSize=function(t,i,l){return i=(l?rn(t,i,l):i===c)?1:R(i),(nR(t)?function(t,i){return je(un(t),gt(i,0,t.length))}:function(t,i){var c=qt(t);return je(c,gt(i,0,c.length))})(t,i)},a.set=function(t,i,c){return null==t?t:fe(t,i,c)},a.setWith=function(t,i,l,_){return _="function"==typeof _?_:c,null==t?t:fe(t,i,l,_)},a.shuffle=function(t){return(nR(t)?function(t){return je(un(t))}:function(t){return je(qt(t))})(t)},a.slice=function(t,i,l){var _=null==t?0:t.length;return _?(l&&"number"!=typeof l&&rn(t,i,l)?(i=0,l=_):(i=null==i?0:R(i),l=l===c?_:R(l)),Cn(t,i,l)):[]},a.sortBy=ny,a.sortedUniq=function(t){return t&&t.length?iu(t):[]},a.sortedUniqBy=function(t,i){return t&&t.length?iu(t,x(i,2)):[]},a.split=function(t,i,l){return l&&"number"!=typeof l&&rn(t,i,l)&&(i=l=c),(l=l===c?4294967295:l>>>0)?(t=$(t))&&("string"==typeof i||null!=i&&!nU(i))&&!(i=ln(i))&&bt(t)?st(On(t),0,l):t.split(i,l):[]},a.spread=function(t,i){if("function"!=typeof t)throw new tf(l);return i=null==i?0:rl(R(i),0),T(function(c){var l=c[i],_=st(c,0,i);return l&&jn(_,l),cn(t,this,_)})},a.tail=function(t){var i=null==t?0:t.length;return i?Cn(t,1,i):[]},a.take=function(t,i,l){return t&&t.length?Cn(t,0,(i=l||i===c?1:R(i))<0?0:i):[]},a.takeRight=function(t,i,l){var _=null==t?0:t.length;return _?Cn(t,(i=_-(i=l||i===c?1:R(i)))<0?0:i,_):[]},a.takeRightWhile=function(t,i){return t&&t.length?Ke(t,x(i,3),!1,!0):[]},a.takeWhile=function(t,i){return t&&t.length?Ke(t,x(i,3)):[]},a.tap=function(t,i){return i(t),t},a.throttle=function(t,i,c){var _=!0,v=!0;if("function"!=typeof t)throw new tf(l);return z(c)&&(_="leading"in c?!!c.leading:_,v="trailing"in c?!!c.trailing:v),ju(t,i,{leading:_,maxWait:i,trailing:v})},a.thru=nr,a.toArray=sa,a.toPairs=n1,a.toPairsIn=n5,a.toPath=function(t){return nR(t)?G(t,Wn):pn(t)?[t]:un(rJ($(t)))},a.toPlainObject=aa,a.transform=function(t,i,c){var l=nR(t),_=l||nT(t)||nk(t);if(i=x(i,4),null==c){var v=t&&t.constructor;c=_?l?new v:[]:z(t)&&Jn(v)?rN(tR(t)):{}}return(_?mn:$n)(t,function(t,l,_){return i(c,t,l,_)}),c},a.unary=function(t){return Ju(t,1)},a.union=r6,a.unionBy=r2,a.unionWith=r8,a.uniq=function(t){return t&&t.length?rt(t):[]},a.uniqBy=function(t,i){return t&&t.length?rt(t,x(i,2)):[]},a.uniqWith=function(t,i){return i="function"==typeof i?i:c,t&&t.length?rt(t,c,i):[]},a.unset=function(t,i){return null==t||ii(t,i)},a.unzip=Ai,a.unzipWith=zu,a.update=function(t,i,c){return null==t?t:uu(t,i,ai(c))},a.updateWith=function(t,i,l,_){return _="function"==typeof _?_:c,null==t?t:uu(t,i,ai(l),_)},a.values=qt,a.valuesIn=function(t){return null==t?[]:Fr(t,fn(t))},a.without=r4,a.words=ga,a.wrap=function(t,i){return nx(ai(i),t)},a.xor=r9,a.xorBy=r7,a.xorWith=nn,a.zip=ns,a.zipObject=function(t,i){return fu(t||[],i||[],ie)},a.zipObjectDeep=function(t,i){return fu(t||[],i||[],fe)},a.zipWith=na,a.entries=n1,a.entriesIn=n5,a.extend=nB,a.extendWith=nF,Ti(a,a),a.add=ib,a.attempt=io,a.camelCase=n3,a.capitalize=pa,a.ceil=iw,a.clamp=function(t,i,l){return l===c&&(l=i,i=c),l!==c&&(l=(l=xn(l))==l?l:0),i!==c&&(i=(i=xn(i))==i?i:0),gt(xn(t),i,l)},a.clone=function(t){return An(t,4)},a.cloneDeep=function(t){return An(t,5)},a.cloneDeepWith=function(t,i){return An(t,5,i="function"==typeof i?i:c)},a.cloneWith=function(t,i){return An(t,4,i="function"==typeof i?i:c)},a.conformsTo=function(t,i){return null==i||qs(t,i,V(i))},a.deburr=da,a.defaultTo=function(t,i){return null==t||t!=t?i:t},a.divide=iE,a.endsWith=function(t,i,l){t=$(t),i=ln(i);var _=t.length,v=l=l===c?_:gt(R(l),0,_);return(l-=i.length)>=0&&t.slice(l,v)==i},a.eq=bn,a.escape=function(t){return(t=$(t))&&eT.test(t)?t.replace(eR,t6):t},a.escapeRegExp=function(t){return(t=$(t))&&eH.test(t)?t.replace(ez,"\\$&"):t},a.every=function(t,i,l){var _=nR(t)?Ps:gc;return l&&rn(t,i,l)&&(i=c),_(t,x(i,3))},a.find=nh,a.findIndex=Fu,a.findKey=function(t,i){return As(t,x(i,3),$n)},a.findLast=nf,a.findLastIndex=Mu,a.findLastKey=function(t,i){return As(t,x(i,3),Jr)},a.floor=iD,a.forEach=Yu,a.forEachRight=Zu,a.forIn=function(t,i){return null==t?t:rL(t,x(i,3),fn)},a.forInRight=function(t,i){return null==t?t:rU(t,x(i,3),fn)},a.forOwn=function(t,i){return t&&$n(t,x(i,3))},a.forOwnRight=function(t,i){return t&&Jr(t,x(i,3))},a.get=yi,a.gt=nP,a.gte=nC,a.has=function(t,i){return null!=t&&Ou(t,i,_c)},a.hasIn=Si,a.head=Bu,a.identity=on,a.includes=function(t,i,c,l){t=an(t)?t:qt(t),c=c&&!l?R(c):0;var _=t.length;return c<0&&(c=rl(_+c,0)),ur(t)?c<=_&&t.indexOf(i,c)>-1:!!_&&Rt(t,i,c)>-1},a.indexOf=function(t,i,c){var l=null==t?0:t.length;if(!l)return -1;var _=null==c?0:R(c);return _<0&&(_=rl(l+_,0)),Rt(t,i,_)},a.inRange=function(t,i,l){var _,v,P;return i=Xn(i),l===c?(l=i,i=0):l=Xn(l),(_=t=xn(t))>=rh(v=i,P=l)&&_<rl(v,P)},a.invoke=nY,a.isArguments=nA,a.isArray=nR,a.isArrayBuffer=nN,a.isArrayLike=an,a.isArrayLikeObject=Y,a.isBoolean=function(t){return!0===t||!1===t||K(t)&&en(t)==J},a.isBuffer=nT,a.isDate=nj,a.isElement=function(t){return K(t)&&1===t.nodeType&&!le(t)},a.isEmpty=function(t){if(null==t)return!0;if(an(t)&&(nR(t)||"string"==typeof t||"function"==typeof t.splice||nT(t)||nk(t)||nA(t)))return!t.length;var i=rq(t);if(i==eo||i==ef)return!t.size;if(ce(t))return!kr(t).length;for(var c in t)if(tv.call(t,c))return!1;return!0},a.isEqual=function(t,i){return ae(t,i)},a.isEqualWith=function(t,i,l){var _=(l="function"==typeof l?l:c)?l(t,i):c;return _===c?ae(t,i,c,l):!!_},a.isError=xi,a.isFinite=function(t){return"number"==typeof t&&ro(t)},a.isFunction=Jn,a.isInteger=ta,a.isLength=sr,a.isMap=nL,a.isMatch=function(t,i){return t===i||Vr(t,i,di(i))},a.isMatchWith=function(t,i,l){return l="function"==typeof l?l:c,Vr(t,i,di(i),l)},a.isNaN=function(t){return ra(t)&&t!=+t},a.isNative=function(t){if(rV(t))throw new tn("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Js(t)},a.isNil=function(t){return null==t},a.isNull=function(t){return null===t},a.isNumber=ra,a.isObject=z,a.isObjectLike=K,a.isPlainObject=le,a.isRegExp=nU,a.isSafeInteger=function(t){return ta(t)&&t>=-9007199254740991&&t<=9007199254740991},a.isSet=nM,a.isString=ur,a.isSymbol=pn,a.isTypedArray=nk,a.isUndefined=function(t){return t===c},a.isWeakMap=function(t){return K(t)&&rq(t)==eg},a.isWeakSet=function(t){return K(t)&&"[object WeakSet]"==en(t)},a.join=function(t,i){return null==t?"":rc.call(t,i)},a.kebabCase=n6,a.last=In,a.lastIndexOf=function(t,i,l){var _=null==t?0:t.length;if(!_)return -1;var v=_;return l!==c&&(v=(v=R(l))<0?rl(_+v,0):rh(v,_-1)),i==i?function(t,i,c){for(var l=c+1;l--&&t[l]!==i;);return l}(t,i,v):xe(t,Cs,v,!0)},a.lowerCase=n2,a.lowerFirst=n8,a.lt=n$,a.lte=nz,a.max=function(t){return t&&t.length?qe(t,on,Xr):c},a.maxBy=function(t,i){return t&&t.length?qe(t,x(i,2),Xr):c},a.mean=function(t){return Is(t,on)},a.meanBy=function(t,i){return Is(t,x(i,2))},a.min=function(t){return t&&t.length?qe(t,on,jr):c},a.minBy=function(t,i){return t&&t.length?qe(t,x(i,2),jr):c},a.stubArray=Di,a.stubFalse=Hi,a.stubObject=function(){return{}},a.stubString=function(){return""},a.stubTrue=function(){return!0},a.multiply=iS,a.nth=function(t,i){return t&&t.length?js(t,R(i)):c},a.noConflict=function(){return tq._===this&&(tq._=tD),this},a.noop=Li,a.now=nm,a.pad=function(t,i,c){t=$(t);var l=(i=R(i))?Tt(t):0;if(!i||l>=i)return t;var _=(i-l)/2;return Xe(t7(_),c)+t+Xe(t9(_),c)},a.padEnd=function(t,i,c){t=$(t);var l=(i=R(i))?Tt(t):0;return i&&l<i?t+Xe(i-l,c):t},a.padStart=function(t,i,c){t=$(t);var l=(i=R(i))?Tt(t):0;return i&&l<i?Xe(i-l,c)+t:t},a.parseInt=function(t,i,c){return c||null==i?i=0:i&&(i=+i),rd($(t).replace(eB,""),i||0)},a.random=function(t,i,l){if(l&&"boolean"!=typeof l&&rn(t,i,l)&&(i=l=c),l===c&&("boolean"==typeof i?(l=i,i=c):"boolean"==typeof t&&(l=t,t=c)),t===c&&i===c?(t=0,i=1):(t=Xn(t),i===c?(i=t,t=0):i=Xn(i)),t>i){var _=t;t=i,i=_}if(l||t%1||i%1){var v=rp();return rh(t+v*(i-t+tz("1e-"+((v+"").length-1))),i)}return ti(t,i)},a.reduce=function(t,i,c){var l=nR(t)?Dr:xs,_=arguments.length<3;return l(t,x(i,4),c,_,rT)},a.reduceRight=function(t,i,c){var l=nR(t)?Qf:xs,_=arguments.length<3;return l(t,x(i,4),c,_,rj)},a.repeat=function(t,i,l){return i=(l?rn(t,i,l):i===c)?1:R(i),ei($(t),i)},a.replace=function(){var t=arguments,i=$(t[0]);return t.length<3?i:i.replace(t[1],t[2])},a.result=function(t,i,l){i=it(i,t);var _=-1,v=i.length;for(v||(v=1,t=c);++_<v;){var P=null==t?c:t[Wn(i[_])];P===c&&(_=v,P=l),t=Jn(P)?P.call(t):P}return t},a.round=ix,a.runInContext=h,a.sample=function(t){return(nR(t)?Fs:function(t){return Fs(qt(t))})(t)},a.size=function(t){if(null==t)return 0;if(an(t))return ur(t)?Tt(t):t.length;var i=rq(t);return i==eo||i==ef?t.size:kr(t).length},a.snakeCase=n4,a.some=function(t,i,l){var _=nR(t)?Hr:Uc;return l&&rn(t,i,l)&&(i=c),_(t,x(i,3))},a.sortedIndex=function(t,i){return ze(t,i)},a.sortedIndexBy=function(t,i,c){return ri(t,i,x(c,2))},a.sortedIndexOf=function(t,i){var c=null==t?0:t.length;if(c){var l=ze(t,i);if(l<c&&bn(t[l],i))return l}return -1},a.sortedLastIndex=function(t,i){return ze(t,i,!0)},a.sortedLastIndexBy=function(t,i,c){return ri(t,i,x(c,2),!0)},a.sortedLastIndexOf=function(t,i){if(null==t?0:t.length){var c=ze(t,i,!0)-1;if(bn(t[c],i))return c}return -1},a.startCase=n9,a.startsWith=function(t,i,c){return t=$(t),c=null==c?0:gt(R(c),0,t.length),i=ln(i),t.slice(c,c+i.length)==i},a.subtract=iI,a.sum=function(t){return t&&t.length?Ur(t,on):0},a.sumBy=function(t,i){return t&&t.length?Ur(t,x(i,2)):0},a.template=function(t,i,l){var _=a.templateSettings;l&&rn(t,i,l)&&(i=c),t=$(t),i=nF({},i,_,xu);var v,P,U=nF({},i.imports,_.imports,xu),k=V(U),B=Fr(U,k),W=0,J=i.interpolate||e2,X="__p += '",Q=tl((i.escape||e2).source+"|"+J.source+"|"+(J===eU?eX:e2).source+"|"+(i.evaluate||e2).source+"|$","g"),er="//# sourceURL="+(tv.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++tU+"]")+`
`;t.replace(Q,function(i,c,l,_,U,k){return l||(l=_),X+=t.slice(W,k).replace(e8,uo),c&&(v=!0,X+=`' +
__e(`+c+`) +
'`),U&&(P=!0,X+=`';
`+U+`;
__p += '`),l&&(X+=`' +
((__t = (`+l+`)) == null ? '' : __t) +
'`),W=k+i.length,i}),X+=`';
`;var es=tv.call(i,"variable")&&i.variable;if(es){if(eJ.test(es))throw new tn("Invalid `variable` option passed into `_.template`")}else X=`with (obj) {
`+X+`
}
`;X=(P?X.replace(eO,""):X).replace(eP,"$1").replace(eC,"$1;"),X="function("+(es||"obj")+`) {
`+(es?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(v?", __e = _.escape":"")+(P?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+X+`return __p
}`;var eo=io(function(){return ts(k,er+"return "+X).apply(c,B)});if(eo.source=X,xi(eo))throw eo;return eo},a.times=function(t,i){if((t=R(t))<1||t>9007199254740991)return[];var c=4294967295,l=rh(t,4294967295);i=x(i),t-=4294967295;for(var _=Wr(l,i);++c<t;)i(c);return _},a.toFinite=Xn,a.toInteger=R,a.toLength=ua,a.toLower=function(t){return $(t).toLowerCase()},a.toNumber=xn,a.toSafeInteger=function(t){return t?gt(R(t),-9007199254740991,9007199254740991):0===t?t:0},a.toString=$,a.toUpper=function(t){return $(t).toUpperCase()},a.trim=function(t,i,l){if((t=$(t))&&(l||i===c))return Es(t);if(!t||!(i=ln(i)))return t;var _=On(t),v=On(i),P=ys(_,v),U=Ss(_,v)+1;return st(_,P,U).join("")},a.trimEnd=function(t,i,l){if((t=$(t))&&(l||i===c))return t.slice(0,Rs(t)+1);if(!t||!(i=ln(i)))return t;var _=On(t),v=Ss(_,On(i))+1;return st(_,0,v).join("")},a.trimStart=function(t,i,l){if((t=$(t))&&(l||i===c))return t.replace(eB,"");if(!t||!(i=ln(i)))return t;var _=On(t),v=ys(_,On(i));return st(_,v).join("")},a.truncate=function(t,i){var l=30,_="...";if(z(i)){var v="separator"in i?i.separator:v;l="length"in i?R(i.length):l,_="omission"in i?ln(i.omission):_}var P=(t=$(t)).length;if(bt(t)){var U=On(t);P=U.length}if(l>=P)return t;var k=l-Tt(_);if(k<1)return _;var B=U?st(U,0,k).join(""):t.slice(0,k);if(v===c)return B+_;if(U&&(k+=B.length-k),nU(v)){if(t.slice(k).search(v)){var W,J=B;for(v.global||(v=tl(v.source,$(eZ.exec(v))+"g")),v.lastIndex=0;W=v.exec(J);)var X=W.index;B=B.slice(0,X===c?k:X)}}else if(t.indexOf(ln(v),k)!=k){var Q=B.lastIndexOf(v);Q>-1&&(B=B.slice(0,Q))}return B+_},a.unescape=function(t){return(t=$(t))&&eN.test(t)?t.replace(eA,t2):t},a.uniqueId=function(t){var i=++tm;return $(t)+i},a.upperCase=n7,a.upperFirst=is,a.each=Yu,a.eachRight=Zu,a.first=Bu,Ti(a,(e9={},$n(a,function(t,i){tv.call(a.prototype,i)||(e9[i]=t)}),e9),{chain:!1}),a.VERSION="4.17.21",mn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){a[t].placeholder=a}),mn(["drop","take"],function(t,i){D.prototype[t]=function(l){l=l===c?1:rl(R(l),0);var _=this.__filtered__&&!i?new D(this):this.clone();return _.__filtered__?_.__takeCount__=rh(l,_.__takeCount__):_.__views__.push({size:rh(l,4294967295),type:t+(_.__dir__<0?"Right":"")}),_},D.prototype[t+"Right"]=function(i){return this.reverse()[t](i).reverse()}}),mn(["filter","map","takeWhile"],function(t,i){var c=i+1,l=1==c||3==c;D.prototype[t]=function(t){var i=this.clone();return i.__iteratees__.push({iteratee:x(t,3),type:c}),i.__filtered__=i.__filtered__||l,i}}),mn(["head","last"],function(t,i){var c="take"+(i?"Right":"");D.prototype[t]=function(){return this[c](1).value()[0]}}),mn(["initial","tail"],function(t,i){var c="drop"+(i?"":"Right");D.prototype[t]=function(){return this.__filtered__?new D(this):this[c](1)}}),D.prototype.compact=function(){return this.filter(on)},D.prototype.find=function(t){return this.filter(t).head()},D.prototype.findLast=function(t){return this.reverse().find(t)},D.prototype.invokeMap=T(function(t,i){return"function"==typeof t?new D(this):this.map(function(c){return ue(c,t,i)})}),D.prototype.reject=function(t){return this.filter(ir(x(t)))},D.prototype.slice=function(t,i){t=R(t);var l=this;return l.__filtered__&&(t>0||i<0)?new D(l):(t<0?l=l.takeRight(-t):t&&(l=l.drop(t)),i!==c&&(l=(i=R(i))<0?l.dropRight(-i):l.take(i-t)),l)},D.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},D.prototype.toArray=function(){return this.take(4294967295)},$n(D.prototype,function(t,i){var l=/^(?:filter|find|map|reject)|While$/.test(i),_=/^(?:head|last)$/.test(i),v=a[_?"take"+("last"==i?"Right":""):i],P=_||/^find/.test(i);v&&(a.prototype[i]=function(){var i=this.__wrapped__,U=_?[1]:arguments,k=i instanceof D,B=U[0],W=k||nR(i),m=function(t){var i=v.apply(a,jn([t],U));return _&&J?i[0]:i};W&&l&&"function"==typeof B&&1!=B.length&&(k=W=!1);var J=this.__chain__,X=!!this.__actions__.length,Q=P&&!J,er=k&&!X;if(!P&&W){i=er?i:new D(this);var es=t.apply(i,U);return es.__actions__.push({func:nr,args:[m],thisArg:c}),new Pn(es,J)}return Q&&er?t.apply(this,U):(es=this.thru(m),Q?_?es.value()[0]:es.value():es)})}),mn(["pop","push","shift","sort","splice","unshift"],function(t){var i=td[t],c=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",l=/^(?:pop|shift)$/.test(t);a.prototype[t]=function(){var t=arguments;if(l&&!this.__chain__){var _=this.value();return i.apply(nR(_)?_:[],t)}return this[c](function(c){return i.apply(nR(c)?c:[],t)})}}),$n(D.prototype,function(t,i){var c=a[i];if(c){var l=c.name+"";tv.call(rD,l)||(rD[l]=[]),rD[l].push({name:i,func:c})}}),rD[Ze(c,2).name]=[{name:"wrapper",func:c}],D.prototype.clone=function(){var t=new D(this.__wrapped__);return t.__actions__=un(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=un(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=un(this.__views__),t},D.prototype.reverse=function(){if(this.__filtered__){var t=new D(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t},D.prototype.value=function(){var t=this.__wrapped__.value(),i=this.__dir__,c=nR(t),l=i<0,_=c?t.length:0,v=function(t,i,c){for(var l=-1,_=c.length;++l<_;){var v=c[l],P=v.size;switch(v.type){case"drop":t+=P;break;case"dropRight":i-=P;break;case"take":i=rh(i,t+P);break;case"takeRight":t=rl(t,i-P)}}return{start:t,end:i}}(0,_,this.__views__),P=v.start,U=v.end,k=U-P,B=l?U:P-1,W=this.__iteratees__,J=W.length,X=0,Q=rh(k,this.__takeCount__);if(!c||!l&&_==k&&Q==k)return au(t,this.__actions__);var er=[];e:for(;k--&&X<Q;){B+=i;for(var es=-1,eo=t[B];++es<J;){var ea=W[es],ec=ea.iteratee,el=ea.type,eh=ec(eo);if(2==el)eo=eh;else if(!eh){if(1==el)continue e;break e}}er[X++]=eo}return er},a.prototype.at=nc,a.prototype.chain=function(){return Ku(this)},a.prototype.commit=function(){return new Pn(this.value(),this.__chain__)},a.prototype.next=function(){this.__values__===c&&(this.__values__=sa(this.value()));var t=this.__index__>=this.__values__.length,i=t?c:this.__values__[this.__index__++];return{done:t,value:i}},a.prototype.plant=function(t){for(var i,l=this;l instanceof Fe;){var _=Wu(l);_.__index__=0,_.__values__=c,i?v.__wrapped__=_:i=_;var v=_;l=l.__wrapped__}return v.__wrapped__=t,i},a.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof D){var i=t;return this.__actions__.length&&(i=new D(this)),(i=i.reverse()).__actions__.push({func:nr,args:[Pi],thisArg:c}),new Pn(i,this.__chain__)}return this.thru(Pi)},a.prototype.toJSON=a.prototype.valueOf=a.prototype.value=function(){return au(this.__wrapped__,this.__actions__)},a.prototype.first=a.prototype.head,tV&&(a.prototype[tV]=function(){return this}),a}();tK?((tK.exports=t8)._=t8,tV._=t8):tq._=t8}).call(nT)}(nj,nj.exports);var nL=Object.defineProperty,nU=Object.defineProperties,nM=Object.getOwnPropertyDescriptors,nk=Object.getOwnPropertySymbols,n$=Object.prototype.hasOwnProperty,nz=Object.prototype.propertyIsEnumerable,xa=(t,i,c)=>i in t?nL(t,i,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[i]=c,dist_index_es_or=(t,i)=>{for(var c in i||(i={}))n$.call(i,c)&&xa(t,c,i[c]);if(nk)for(var c of nk(i))nz.call(i,c)&&xa(t,c,i[c]);return t},Gg=(t,i)=>nU(t,nM(i));function En(t,i,c){let l;let _=Ui(t);return i.rpcMap&&(l=i.rpcMap[_]),l||(l=`https://rpc.walletconnect.com/v1?chainId=eip155:${_}&projectId=${c}`),l}function Ui(t){return t.includes("eip155")?Number(t.split(":")[1]):Number(t)}function Ea(t){var i,c,l,_;let v={};if(!H(t))return v;for(let[P,U]of Object.entries(t)){let t=te(P)?[P]:U.chains,k=U.methods||[],B=U.events||[],W=U.rpcMap||{},J=Ze(P);v[J]=Gg(dist_index_es_or(dist_index_es_or({},v[J]),U),{chains:S(t,null==(i=v[J])?void 0:i.chains),methods:S(k,null==(c=v[J])?void 0:c.methods),events:S(B,null==(l=v[J])?void 0:l.events),rpcMap:dist_index_es_or(dist_index_es_or({},W),null==(_=v[J])?void 0:_.rpcMap)})}return v}function Zg(t){return t.includes(":")?t.split(":")[2]:t}let nH={},universal_provider_dist_index_es_J=t=>nH[t],index_es_Wi=(t,i)=>{nH[t]=i};let Jg=class Jg{constructor(t){this.name="polkadot",this.namespace=t.namespace,this.events=universal_provider_dist_index_es_J("events"),this.client=universal_provider_dist_index_es_J("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,i){if(this.chainId=t,!this.httpProviders[t]){let c=i||En(`${this.name}:${t}`,this.namespace);if(!c)throw Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,c)}this.events.emit(nN.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let t=this.namespace.accounts;return t&&t.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]}createHttpProviders(){let t={};return this.namespace.chains.forEach(i=>{var c;t[i]=this.createHttpProvider(i,null==(c=this.namespace.rpcMap)?void 0:c[i])}),t}getHttpProvider(){let t=`${this.name}:${this.chainId}`,i=this.httpProviders[t];if(typeof i>"u")throw Error(`JSON-RPC provider for ${t} not found`);return i}setHttpProvider(t,i){let c=this.createHttpProvider(t,i);c&&(this.httpProviders[t]=c)}createHttpProvider(t,i){let c=i||En(t,this.namespace);return typeof c>"u"?void 0:new JsonRpcProvider(new HttpConnection(c,universal_provider_dist_index_es_J("disableProviderPing")))}};let Xg=class Xg{constructor(t){this.name="eip155",this.namespace=t.namespace,this.events=universal_provider_dist_index_es_J("events"),this.client=universal_provider_dist_index_es_J("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,i){let c=Ui(t);if(!this.httpProviders[c]){let t=i||En(`${this.name}:${c}`,this.namespace,this.client.core.projectId);if(!t)throw Error(`No RPC url provided for chainId: ${c}`);this.setHttpProvider(c,t)}this.chainId=c,this.events.emit(nN.DEFAULT_CHAIN_CHANGED,`${this.name}:${c}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,i){let c=i||En(`${this.name}:${t}`,this.namespace,this.client.core.projectId);return typeof c>"u"?void 0:new JsonRpcProvider(new HttpConnection(c,universal_provider_dist_index_es_J("disableProviderPing")))}setHttpProvider(t,i){let c=this.createHttpProvider(t,i);c&&(this.httpProviders[t]=c)}createHttpProviders(){let t={};return this.namespace.chains.forEach(i=>{var c;let l=Ui(i);t[l]=this.createHttpProvider(l,null==(c=this.namespace.rpcMap)?void 0:c[i])}),t}getAccounts(){let t=this.namespace.accounts;return t?[...new Set(t.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}getHttpProvider(){let t=this.chainId,i=this.httpProviders[t];if(typeof i>"u")throw Error(`JSON-RPC provider for ${t} not found`);return i}async handleSwitchChain(t){var i;let c=t.request.params?null==(i=t.request.params[0])?void 0:i.chainId:"0x0";c=c.startsWith("0x")?c:`0x${c}`;let l=parseInt(c,16);if(this.isChainApproved(l))this.setDefaultChain(`${l}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:c}]},chainId:t.chainId}),this.setDefaultChain(`${l}`);else throw Error(`Failed to switch to chain 'eip155:${l}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}};let Qg=class Qg{constructor(t){this.name="solana",this.namespace=t.namespace,this.events=universal_provider_dist_index_es_J("events"),this.client=universal_provider_dist_index_es_J("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,i){if(!this.httpProviders[t]){let c=i||En(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!c)throw Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,c)}this.chainId=t,this.events.emit(nN.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw Error("ChainId not found");return t.split(":")[1]}getAccounts(){let t=this.namespace.accounts;return t?[...new Set(t.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let t={};return this.namespace.chains.forEach(i=>{var c;t[i]=this.createHttpProvider(i,null==(c=this.namespace.rpcMap)?void 0:c[i])}),t}getHttpProvider(){let t=`${this.name}:${this.chainId}`,i=this.httpProviders[t];if(typeof i>"u")throw Error(`JSON-RPC provider for ${t} not found`);return i}setHttpProvider(t,i){let c=this.createHttpProvider(t,i);c&&(this.httpProviders[t]=c)}createHttpProvider(t,i){let c=i||En(t,this.namespace,this.client.core.projectId);return typeof c>"u"?void 0:new JsonRpcProvider(new HttpConnection(c,universal_provider_dist_index_es_J("disableProviderPing")))}};let Vg=class Vg{constructor(t){this.name="cosmos",this.namespace=t.namespace,this.events=universal_provider_dist_index_es_J("events"),this.client=universal_provider_dist_index_es_J("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,i){if(this.chainId=t,!this.httpProviders[t]){let c=i||En(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!c)throw Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,c)}this.events.emit(nN.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let t=this.namespace.accounts;return t?[...new Set(t.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let t={};return this.namespace.chains.forEach(i=>{var c;t[i]=this.createHttpProvider(i,null==(c=this.namespace.rpcMap)?void 0:c[i])}),t}getHttpProvider(){let t=`${this.name}:${this.chainId}`,i=this.httpProviders[t];if(typeof i>"u")throw Error(`JSON-RPC provider for ${t} not found`);return i}setHttpProvider(t,i){let c=this.createHttpProvider(t,i);c&&(this.httpProviders[t]=c)}createHttpProvider(t,i){let c=i||En(t,this.namespace,this.client.core.projectId);return typeof c>"u"?void 0:new JsonRpcProvider(new HttpConnection(c,universal_provider_dist_index_es_J("disableProviderPing")))}};let kg=class kg{constructor(t){this.name="cip34",this.namespace=t.namespace,this.events=universal_provider_dist_index_es_J("events"),this.client=universal_provider_dist_index_es_J("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,i){if(this.chainId=t,!this.httpProviders[t]){let c=i||this.getCardanoRPCUrl(t);if(!c)throw Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,c)}this.events.emit(nN.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let t=this.namespace.accounts;return t?[...new Set(t.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let t={};return this.namespace.chains.forEach(i=>{let c=this.getCardanoRPCUrl(i);t[i]=this.createHttpProvider(i,c)}),t}getHttpProvider(){let t=`${this.name}:${this.chainId}`,i=this.httpProviders[t];if(typeof i>"u")throw Error(`JSON-RPC provider for ${t} not found`);return i}getCardanoRPCUrl(t){let i=this.namespace.rpcMap;if(i)return i[t]}setHttpProvider(t,i){let c=this.createHttpProvider(t,i);c&&(this.httpProviders[t]=c)}createHttpProvider(t,i){let c=i||this.getCardanoRPCUrl(t);return typeof c>"u"?void 0:new JsonRpcProvider(new HttpConnection(c,universal_provider_dist_index_es_J("disableProviderPing")))}};let jg=class jg{constructor(t){this.name="elrond",this.namespace=t.namespace,this.events=universal_provider_dist_index_es_J("events"),this.client=universal_provider_dist_index_es_J("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,i){if(!this.httpProviders[t]){let c=i||En(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!c)throw Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,c)}this.chainId=t,this.events.emit(nN.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw Error("ChainId not found");return t.split(":")[1]}getAccounts(){let t=this.namespace.accounts;return t?[...new Set(t.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let t={};return this.namespace.chains.forEach(i=>{var c;t[i]=this.createHttpProvider(i,null==(c=this.namespace.rpcMap)?void 0:c[i])}),t}getHttpProvider(){let t=`${this.name}:${this.chainId}`,i=this.httpProviders[t];if(typeof i>"u")throw Error(`JSON-RPC provider for ${t} not found`);return i}setHttpProvider(t,i){let c=this.createHttpProvider(t,i);c&&(this.httpProviders[t]=c)}createHttpProvider(t,i){let c=i||En(t,this.namespace,this.client.core.projectId);return typeof c>"u"?void 0:new JsonRpcProvider(new HttpConnection(c,universal_provider_dist_index_es_J("disableProviderPing")))}};let nv=class nv{constructor(t){this.name="multiversx",this.namespace=t.namespace,this.events=universal_provider_dist_index_es_J("events"),this.client=universal_provider_dist_index_es_J("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,i){if(!this.httpProviders[t]){let c=i||En(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!c)throw Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,c)}this.chainId=t,this.events.emit(nN.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw Error("ChainId not found");return t.split(":")[1]}getAccounts(){let t=this.namespace.accounts;return t?[...new Set(t.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){let t={};return this.namespace.chains.forEach(i=>{var c;t[i]=this.createHttpProvider(i,null==(c=this.namespace.rpcMap)?void 0:c[i])}),t}getHttpProvider(){let t=`${this.name}:${this.chainId}`,i=this.httpProviders[t];if(typeof i>"u")throw Error(`JSON-RPC provider for ${t} not found`);return i}setHttpProvider(t,i){let c=this.createHttpProvider(t,i);c&&(this.httpProviders[t]=c)}createHttpProvider(t,i){let c=i||En(t,this.namespace,this.client.core.projectId);return typeof c>"u"?void 0:new JsonRpcProvider(new HttpConnection(c,universal_provider_dist_index_es_J("disableProviderPing")))}};var nB=Object.defineProperty,nF=Object.defineProperties,nq=Object.getOwnPropertyDescriptors,nV=Object.getOwnPropertySymbols,nK=Object.prototype.hasOwnProperty,nW=Object.prototype.propertyIsEnumerable,Oa=(t,i,c)=>i in t?nB(t,i,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[i]=c,index_es_cr=(t,i)=>{for(var c in i||(i={}))nK.call(i,c)&&Oa(t,c,i[c]);if(nV)for(var c of nV(i))nW.call(i,c)&&Oa(t,c,i[c]);return t},index_es_Fi=(t,i)=>nF(t,nq(i));let index_es_hr=class index_es_hr{constructor(t){this.events=new(ec()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=t,this.logger="u">typeof t?.logger&&"string"!=typeof t?.logger?t.logger:(0,tR.pino)((0,tR.getDefaultLoggerOptions)({level:t?.logger||nA})),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){let i=new index_es_hr(t);return await i.initialize(),i}async request(t,i){let[c,l]=this.validateChain(i);if(!this.session)throw Error("Please call connect() before request()");return await this.getProvider(c).request({request:index_es_cr({},t),chainId:`${c}:${l}`,topic:this.session.topic})}sendAsync(t,i,c){this.request(t,c).then(t=>i(null,t)).catch(t=>i(t,void 0))}async enable(){if(!this.client)throw Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(t=this.session)?void 0:t.topic,reason:w("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}on(t,i){this.events.on(t,i)}once(t,i){this.events.once(t,i)}removeListener(t,i){this.events.removeListener(t,i)}off(t,i){this.events.off(t,i)}get isWalletConnect(){return!0}async pair(t){this.shouldAbortPairingAttempt=!1;let i=0;do{if(this.shouldAbortPairingAttempt)throw Error("Pairing aborted");if(i>=this.maxPairingAttempts)throw Error("Max auto pairing attempts reached");let{uri:c,approval:l}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});c&&(this.uri=c,this.events.emit("display_uri",c)),await l().then(t=>{this.session=t}).catch(t=>{if(t.message!==ng)throw t;i++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(t,i){try{let[c,l]=this.validateChain(t);this.getProvider(c).setDefaultChain(l,i)}catch(t){if(!/Please call connect/.test(t.message))throw t}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");let i=this.client.pairing.getAll();if(j(i)){for(let c of i)t.deletePairings?this.client.core.expirer.set(c.topic,0):await this.client.core.relayer.subscriber.unsubscribe(c.topic);this.logger.info(`Inactive pairings cleared: ${i.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){let t=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[t]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await dist_index_es_M.init({logger:this.providerOpts.logger||nA,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw Error("Sign Client not initialized");if(!this.session)throw Error("Session not initialized. Please call connect() before enable()");let t=[...new Set(Object.keys(this.session.namespaces).map(t=>Ze(t)))];index_es_Wi("client",this.client),index_es_Wi("events",this.events),index_es_Wi("disableProviderPing",this.disableProviderPing),t.forEach(t=>{if(!this.session)return;let i=function(t,i){let c=Object.keys(i.namespaces).filter(i=>i.includes(t));if(!c.length)return[];let l=[];return c.forEach(t=>{let c=i.namespaces[t].accounts;l.push(...c)}),l}(t,this.session),c=i.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`),l=function(t,i={}){let c=Ea(t),l=Ea(i);return nj.exports.merge(c,l)}(this.namespaces,this.optionalNamespaces),_=index_es_Fi(index_es_cr({},l[t]),{accounts:i,chains:c});switch(t){case"eip155":this.rpcProviders[t]=new Xg({namespace:_});break;case"solana":this.rpcProviders[t]=new Qg({namespace:_});break;case"cosmos":this.rpcProviders[t]=new Vg({namespace:_});break;case"polkadot":this.rpcProviders[t]=new Jg({namespace:_});break;case"cip34":this.rpcProviders[t]=new kg({namespace:_});break;case"elrond":this.rpcProviders[t]=new jg({namespace:_});break;case"multiversx":this.rpcProviders[t]=new nv({namespace:_})}})}registerEventListeners(){if(typeof this.client>"u")throw Error("Sign Client is not initialized");this.client.on("session_ping",t=>{this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{let{params:i}=t,{event:c}=i;if("accountsChanged"===c.name){let t=c.data;t&&j(t)&&this.events.emit("accountsChanged",t.map(Zg))}else"chainChanged"===c.name?this.onChainChanged(i.chainId):this.events.emit(c.name,c.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:i})=>{var c;let{namespaces:l}=i,_=null==(c=this.client)?void 0:c.session.get(t);this.session=index_es_Fi(index_es_cr({},_),{namespaces:l}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:i})}),this.client.on("session_delete",async t=>{await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",index_es_Fi(index_es_cr({},w("USER_DISCONNECTED")),{data:t.topic}))}),this.on(nN.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(t,!0)})}getProvider(t){if(!this.rpcProviders[t])throw Error(`Provider not found: ${t}`);return this.rpcProviders[t]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var i;this.getProvider(t).updateNamespace(null==(i=this.session)?void 0:i.namespaces[t])})}setNamespaces(t){let{namespaces:i,optionalNamespaces:c,sessionProperties:l}=t;if(!i||!Object.keys(i).length)throw Error("Namespaces must be not empty");this.namespaces=i,this.optionalNamespaces=c,this.sessionProperties=l,this.persist("namespaces",i),this.persist("optionalNamespaces",c)}validateChain(t){let[i,c]=t?.split(":")||["",""];if(i&&!Object.keys(this.namespaces).map(t=>Ze(t)).includes(i))throw Error(`Namespace '${i}' is not configured. Please call connect() first with namespace config.`);if(i&&c)return[i,c];let l=Ze(Object.keys(this.namespaces)[0]),_=this.rpcProviders[l].getDefaultChain();return[l,_]}async requestAccounts(){let[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}onChainChanged(t,i=!1){var c;let[l,_]=this.validateChain(t);i||this.getProvider(l).setDefaultChain(_),(null!=(c=this.namespaces[l])?c:this.namespaces[`${l}:${_}`]).defaultChain=_,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",_)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0})}persist(t,i){this.client.core.storage.setItem(`${nR}/${t}`,i)}async getFromStore(t){return await this.client.core.storage.getItem(`${nR}/${t}`)}};let nG=["eth_sendTransaction","personal_sign"],nJ=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],nY=["chainChanged","accountsChanged"],nX=["message","disconnect","connect"];var nZ=Object.defineProperty,nQ=Object.defineProperties,n0=Object.getOwnPropertyDescriptors,n1=Object.getOwnPropertySymbols,n5=Object.prototype.hasOwnProperty,n3=Object.prototype.propertyIsEnumerable,index_es_y=(t,i,c)=>i in t?nZ(t,i,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[i]=c,ethereum_provider_dist_index_es_C=(t,i)=>{for(var c in i||(i={}))n5.call(i,c)&&index_es_y(t,c,i[c]);if(n1)for(var c of n1(i))n3.call(i,c)&&index_es_y(t,c,i[c]);return t},ethereum_provider_dist_index_es_O=(t,i)=>nQ(t,n0(i));function dist_index_es_I(t){return Number(t[0].split(":")[1])}function ethereum_provider_dist_index_es_w(t){return`0x${t.toString(16)}`}let dist_index_es_m=class dist_index_es_m{constructor(){this.events=new ea.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY="wc@2:ethereum_provider:",this.on=(t,i)=>(this.events.on(t,i),this),this.once=(t,i)=>(this.events.once(t,i),this),this.removeListener=(t,i)=>(this.events.removeListener(t,i),this),this.off=(t,i)=>(this.events.off(t,i),this),this.parseAccount=t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t,this.signer={},this.rpc={}}static async init(t){let i=new dist_index_es_m;return await i.initialize(t),i}async request(t){return await this.signer.request(t,this.formatChainId(this.chainId))}sendAsync(t,i){this.signer.sendAsync(t,i,this.formatChainId(this.chainId))}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(t){if(!this.signer.client)throw Error("Provider not initialized. Call init() first");this.loadConnectOpts(t);let{required:i,optional:c}=function(t){let{chains:i,optionalChains:c,methods:l,optionalMethods:_,events:v,optionalEvents:P,rpcMap:U}=t;if(!j(i))throw Error("Invalid chains");let k=l||nG,B=v||nY,W={[dist_index_es_I(i)]:U[dist_index_es_I(i)]},J={chains:i,methods:k,events:B,rpcMap:W},X=v?.filter(t=>!nY.includes(t)),Q=l?.filter(t=>!nG.includes(t));if(!c&&!P&&!_&&!(null!=X&&X.length)&&!(null!=Q&&Q.length))return{required:J};let er=X?.length&&Q?.length||!c,es={chains:[...new Set(er?i.concat(c||[]):c)],methods:[...new Set(k.concat(_||[]))],events:[...new Set(B.concat(P||[]))],rpcMap:U};return{required:J,optional:es}}(this.rpc);try{let l=await new Promise(async(l,_)=>{var v;this.rpc.showQrModal&&(null==(v=this.modal)||v.subscribeModal(t=>{t.open||this.signer.session||(this.signer.abortPairingAttempt(),_(Error("Connection request reset. Please try again.")))})),await this.signer.connect(ethereum_provider_dist_index_es_O(ethereum_provider_dist_index_es_C({namespaces:{[this.namespace]:i}},c&&{optionalNamespaces:{[this.namespace]:c}}),{pairingTopic:t?.pairingTopic})).then(t=>{l(t)}).catch(t=>{_(Error(t.message))})});if(!l)return;this.setChainIds(this.rpc.chains);let _=function(t,i=[]){let c=[];return Object.keys(t).forEach(l=>{if(i.length&&!i.includes(l))return;let _=t[l];c.push(..._.accounts)}),c}(l.namespaces,[this.namespace]);this.setAccounts(_),this.events.emit("connect",{chainId:ethereum_provider_dist_index_es_w(this.chainId)})}catch(t){throw this.signer.logger.error(t),t}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",t=>{let{params:i}=t,{event:c}=i;"accountsChanged"===c.name?(this.accounts=this.parseAccounts(c.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===c.name?this.setChainId(this.formatChainId(c.data)):this.events.emit(c.name,c.data),this.events.emit("session_event",t)}),this.signer.on("chainChanged",t=>{let i=parseInt(t);this.chainId=i,this.events.emit("chainChanged",ethereum_provider_dist_index_es_w(this.chainId)),this.persist()}),this.signer.on("session_update",t=>{this.events.emit("session_update",t)}),this.signer.on("session_delete",t=>{this.reset(),this.events.emit("session_delete",t),this.events.emit("disconnect",ethereum_provider_dist_index_es_O(ethereum_provider_dist_index_es_C({},w("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",t=>{var i,c;this.rpc.showQrModal&&(null==(i=this.modal)||i.closeModal(),null==(c=this.modal)||c.openModal({uri:t})),this.events.emit("display_uri",t)})}switchEthereumChain(t){this.request({method:"wallet_switchEthereumChain",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return"string"==typeof t&&t.startsWith(`${this.namespace}:`)}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(":")[1])}setChainIds(t){let i=t.filter(t=>this.isCompatibleChainId(t)).map(t=>this.parseChainId(t));i.length&&(this.chainId=i[0],this.events.emit("chainChanged",ethereum_provider_dist_index_es_w(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){let i=this.parseChainId(t);this.chainId=i,this.switchEthereumChain(i)}}parseAccountId(t){let[i,c,l]=t.split(":");return{chainId:`${i}:${c}`,address:l}}setAccounts(t){this.accounts=t.filter(t=>this.parseChainId(this.parseAccountId(t).chainId)===this.chainId).map(t=>this.parseAccountId(t).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(t){var i,c;return{chains:(null==(i=t.chains)?void 0:i.map(t=>this.formatChainId(t)))||[`${this.namespace}:1`],optionalChains:t.optionalChains?t.optionalChains.map(t=>this.formatChainId(t)):void 0,methods:t?.methods||nG,events:t?.events||nY,optionalMethods:t?.optionalMethods||[],optionalEvents:t?.optionalEvents||[],rpcMap:t?.rpcMap||this.buildRpcMap(t.chains.concat(t.optionalChains||[]),t.projectId),showQrModal:!!(null!=t&&t.showQrModal),qrModalOptions:null!=(c=t?.qrModalOptions)?c:void 0,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,i){let c={};return t.forEach(t=>{c[t]=this.getRpcUrl(t,i)}),c}async initialize(t){if(this.rpc=this.getRpcConfig(t),this.chainId=dist_index_es_I(this.rpc.chains),this.signer=await index_es_hr.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storageOptions:t.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let t;try{let{WalletConnectModal:i}=await c.e(343).then(c.bind(c,59343));t=i}catch{throw Error("To use QR modal, please install @walletconnect/modal package")}if(t)try{this.modal=new t(ethereum_provider_dist_index_es_C({walletConnectVersion:2,projectId:this.rpc.projectId,standaloneChains:this.rpc.chains},this.rpc.qrModalOptions))}catch(t){throw this.signer.logger.error(t),Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(t){if(!t)return;let{chains:i,optionalChains:c,rpcMap:l}=t;i&&j(i)&&(this.rpc.chains=i.map(t=>this.formatChainId(t)),i.forEach(t=>{this.rpc.rpcMap[t]=l?.[t]||this.getRpcUrl(t)})),c&&j(c)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=c?.map(t=>this.formatChainId(t)),c.forEach(t=>{this.rpc.rpcMap[t]=l?.[t]||this.getRpcUrl(t)}))}getRpcUrl(t,i){var c;return(null==(c=this.rpc.rpcMap)?void 0:c[t])||`https://rpc.walletconnect.com/v1/?chainId=eip155:${t}&projectId=${i||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;let t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),i=this.session.namespaces[`${this.namespace}:${t}`]?this.session.namespaces[`${this.namespace}:${t}`]:this.session.namespaces[this.namespace];this.setChainIds(t?[this.formatChainId(t)]:i?.accounts),this.setAccounts(i?.accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return"string"==typeof t||t instanceof String?[this.parseAccount(t)]:t.map(t=>this.parseAccount(t))}};let n6=dist_index_es_m},38200:function(t,i,c){"use strict";c.d(i,{q:function(){return IEvents}});let IEvents=class IEvents{}},30997:function(t,i,c){"use strict";c.r(i),c.d(i,{IEvents:function(){return l.q}});var l=c(38200)},32568:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.HEARTBEAT_EVENTS=i.HEARTBEAT_INTERVAL=void 0;let l=c(66736);i.HEARTBEAT_INTERVAL=l.FIVE_SECONDS,i.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},53401:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});let l=c(39653);l.__exportStar(c(32568),i)},38969:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.HeartBeat=void 0;let l=c(39653),_=c(17187),v=c(66736),P=c(1614),U=c(53401);let HeartBeat=class HeartBeat extends P.IHeartBeat{constructor(t){super(t),this.events=new _.EventEmitter,this.interval=U.HEARTBEAT_INTERVAL,this.interval=(null==t?void 0:t.interval)||U.HEARTBEAT_INTERVAL}static init(t){return l.__awaiter(this,void 0,void 0,function*(){let i=new HeartBeat(t);return yield i.init(),i})}init(){return l.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(t,i){this.events.on(t,i)}once(t,i){this.events.once(t,i)}off(t,i){this.events.off(t,i)}removeListener(t,i){this.events.removeListener(t,i)}initialize(){return l.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),v.toMiliseconds(this.interval))})}pulse(){this.events.emit(U.HEARTBEAT_EVENTS.pulse)}};i.HeartBeat=HeartBeat},90772:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});let l=c(39653);l.__exportStar(c(38969),i),l.__exportStar(c(1614),i),l.__exportStar(c(53401),i)},44174:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.IHeartBeat=void 0;let l=c(30997);let IHeartBeat=class IHeartBeat extends l.IEvents{constructor(t){super()}};i.IHeartBeat=IHeartBeat},1614:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});let l=c(39653);l.__exportStar(c(44174),i)},39653:function(t,i,c){"use strict";c.r(i),c.d(i,{__assign:function(){return __assign},__asyncDelegator:function(){return __asyncDelegator},__asyncGenerator:function(){return __asyncGenerator},__asyncValues:function(){return __asyncValues},__await:function(){return __await},__awaiter:function(){return __awaiter},__classPrivateFieldGet:function(){return __classPrivateFieldGet},__classPrivateFieldSet:function(){return __classPrivateFieldSet},__createBinding:function(){return __createBinding},__decorate:function(){return __decorate},__exportStar:function(){return __exportStar},__extends:function(){return __extends},__generator:function(){return __generator},__importDefault:function(){return __importDefault},__importStar:function(){return __importStar},__makeTemplateObject:function(){return __makeTemplateObject},__metadata:function(){return __metadata},__param:function(){return __param},__read:function(){return __read},__rest:function(){return __rest},__spread:function(){return __spread},__spreadArrays:function(){return __spreadArrays},__values:function(){return __values}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(t,i){return(extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var c in i)i.hasOwnProperty(c)&&(t[c]=i[c])})(t,i)};function __extends(t,i){function __(){this.constructor=t}extendStatics(t,i),t.prototype=null===i?Object.create(i):(__.prototype=i.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(t){for(var i,c=1,l=arguments.length;c<l;c++)for(var _ in i=arguments[c])Object.prototype.hasOwnProperty.call(i,_)&&(t[_]=i[_]);return t}).apply(this,arguments)};function __rest(t,i){var c={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&0>i.indexOf(l)&&(c[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var _=0,l=Object.getOwnPropertySymbols(t);_<l.length;_++)0>i.indexOf(l[_])&&Object.prototype.propertyIsEnumerable.call(t,l[_])&&(c[l[_]]=t[l[_]]);return c}function __decorate(t,i,c,l){var _,v=arguments.length,P=v<3?i:null===l?l=Object.getOwnPropertyDescriptor(i,c):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(t,i,c,l);else for(var U=t.length-1;U>=0;U--)(_=t[U])&&(P=(v<3?_(P):v>3?_(i,c,P):_(i,c))||P);return v>3&&P&&Object.defineProperty(i,c,P),P}function __param(t,i){return function(c,l){i(c,l,t)}}function __metadata(t,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,i)}function __awaiter(t,i,c,l){return new(c||(c=Promise))(function(_,v){function fulfilled(t){try{step(l.next(t))}catch(t){v(t)}}function rejected(t){try{step(l.throw(t))}catch(t){v(t)}}function step(t){var i;t.done?_(t.value):((i=t.value)instanceof c?i:new c(function(t){t(i)})).then(fulfilled,rejected)}step((l=l.apply(t,i||[])).next())})}function __generator(t,i){var c,l,_,v,P={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return v={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v;function verb(v){return function(U){return function(v){if(c)throw TypeError("Generator is already executing.");for(;P;)try{if(c=1,l&&(_=2&v[0]?l.return:v[0]?l.throw||((_=l.return)&&_.call(l),0):l.next)&&!(_=_.call(l,v[1])).done)return _;switch(l=0,_&&(v=[2&v[0],_.value]),v[0]){case 0:case 1:_=v;break;case 4:return P.label++,{value:v[1],done:!1};case 5:P.label++,l=v[1],v=[0];continue;case 7:v=P.ops.pop(),P.trys.pop();continue;default:if(!(_=(_=P.trys).length>0&&_[_.length-1])&&(6===v[0]||2===v[0])){P=0;continue}if(3===v[0]&&(!_||v[1]>_[0]&&v[1]<_[3])){P.label=v[1];break}if(6===v[0]&&P.label<_[1]){P.label=_[1],_=v;break}if(_&&P.label<_[2]){P.label=_[2],P.ops.push(v);break}_[2]&&P.ops.pop(),P.trys.pop();continue}v=i.call(t,P)}catch(t){v=[6,t],l=0}finally{c=_=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([v,U])}}}function __createBinding(t,i,c,l){void 0===l&&(l=c),t[l]=i[c]}function __exportStar(t,i){for(var c in t)"default"===c||i.hasOwnProperty(c)||(i[c]=t[c])}function __values(t){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&t[i],l=0;if(c)return c.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&l>=t.length&&(t=void 0),{value:t&&t[l++],done:!t}}};throw TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(t,i){var c="function"==typeof Symbol&&t[Symbol.iterator];if(!c)return t;var l,_,v=c.call(t),P=[];try{for(;(void 0===i||i-- >0)&&!(l=v.next()).done;)P.push(l.value)}catch(t){_={error:t}}finally{try{l&&!l.done&&(c=v.return)&&c.call(v)}finally{if(_)throw _.error}}return P}function __spread(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(__read(arguments[i]));return t}function __spreadArrays(){for(var t=0,i=0,c=arguments.length;i<c;i++)t+=arguments[i].length;for(var l=Array(t),_=0,i=0;i<c;i++)for(var v=arguments[i],P=0,U=v.length;P<U;P++,_++)l[_]=v[P];return l}function __await(t){return this instanceof __await?(this.v=t,this):new __await(t)}function __asyncGenerator(t,i,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var l,_=c.apply(t,i||[]),v=[];return l={},verb("next"),verb("throw"),verb("return"),l[Symbol.asyncIterator]=function(){return this},l;function verb(t){_[t]&&(l[t]=function(i){return new Promise(function(c,l){v.push([t,i,c,l])>1||resume(t,i)})})}function resume(t,i){try{var c;(c=_[t](i)).value instanceof __await?Promise.resolve(c.value.v).then(fulfill,reject):settle(v[0][2],c)}catch(t){settle(v[0][3],t)}}function fulfill(t){resume("next",t)}function reject(t){resume("throw",t)}function settle(t,i){t(i),v.shift(),v.length&&resume(v[0][0],v[0][1])}}function __asyncDelegator(t){var i,c;return i={},verb("next"),verb("throw",function(t){throw t}),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(l,_){i[l]=t[l]?function(i){return(c=!c)?{value:__await(t[l](i)),done:"return"===l}:_?_(i):i}:_}}function __asyncValues(t){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,c=t[Symbol.asyncIterator];return c?c.call(t):(t=__values(t),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(c){i[c]=t[c]&&function(i){return new Promise(function(l,_){!function(t,i,c,l){Promise.resolve(l).then(function(i){t({value:i,done:c})},i)}(l,_,(i=t[c](i)).done,i.value)})}}}function __makeTemplateObject(t,i){return Object.defineProperty?Object.defineProperty(t,"raw",{value:i}):t.raw=i,t}function __importStar(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var c in t)Object.hasOwnProperty.call(t,c)&&(i[c]=t[c]);return i.default=t,i}function __importDefault(t){return t&&t.__esModule?t:{default:t}}function __classPrivateFieldGet(t,i){if(!i.has(t))throw TypeError("attempted to get private field on non-instance");return i.get(t)}function __classPrivateFieldSet(t,i,c){if(!i.has(t))throw TypeError("attempted to set private field on non-instance");return i.set(t,c),c}},85150:function(t,i,c){"use strict";let l=c(33893),_=c(63954),v=l.__importDefault(c(30653)),P=c(59728);i.ZP=class{constructor(){this.localStorage=v.default}getKeys(){return l.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return l.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(P.parseEntry)})}getItem(t){return l.__awaiter(this,void 0,void 0,function*(){let i=this.localStorage.getItem(t);if(null!==i)return _.safeJsonParse(i)})}setItem(t,i){return l.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(t,_.safeJsonStringify(i))})}removeItem(t){return l.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(t)})}}},30653:function(t,i,c){"use strict";!function(){function LocalStorage(){}LocalStorage.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},LocalStorage.prototype.setItem=function(t,i){this[t]=String(i)},LocalStorage.prototype.removeItem=function(t){delete this[t]},LocalStorage.prototype.clear=function(){let t=this;Object.keys(t).forEach(function(i){t[i]=void 0,delete t[i]})},LocalStorage.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},LocalStorage.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),void 0!==c.g&&c.g.localStorage?t.exports=c.g.localStorage:"undefined"!=typeof window&&window.localStorage?t.exports=window.localStorage:t.exports=new LocalStorage}()},59728:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});let l=c(33893);l.__exportStar(c(39076),i),l.__exportStar(c(20496),i)},39076:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.IKeyValueStorage=void 0,i.IKeyValueStorage=class{}},20496:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.parseEntry=void 0;let l=c(63954);i.parseEntry=function(t){var i;return[t[0],l.safeJsonParse(null!==(i=t[1])&&void 0!==i?i:"")]}},33893:function(t,i,c){"use strict";c.r(i),c.d(i,{__assign:function(){return __assign},__asyncDelegator:function(){return __asyncDelegator},__asyncGenerator:function(){return __asyncGenerator},__asyncValues:function(){return __asyncValues},__await:function(){return __await},__awaiter:function(){return __awaiter},__classPrivateFieldGet:function(){return __classPrivateFieldGet},__classPrivateFieldSet:function(){return __classPrivateFieldSet},__createBinding:function(){return __createBinding},__decorate:function(){return __decorate},__exportStar:function(){return __exportStar},__extends:function(){return __extends},__generator:function(){return __generator},__importDefault:function(){return __importDefault},__importStar:function(){return __importStar},__makeTemplateObject:function(){return __makeTemplateObject},__metadata:function(){return __metadata},__param:function(){return __param},__read:function(){return __read},__rest:function(){return __rest},__spread:function(){return __spread},__spreadArrays:function(){return __spreadArrays},__values:function(){return __values}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(t,i){return(extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var c in i)i.hasOwnProperty(c)&&(t[c]=i[c])})(t,i)};function __extends(t,i){function __(){this.constructor=t}extendStatics(t,i),t.prototype=null===i?Object.create(i):(__.prototype=i.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(t){for(var i,c=1,l=arguments.length;c<l;c++)for(var _ in i=arguments[c])Object.prototype.hasOwnProperty.call(i,_)&&(t[_]=i[_]);return t}).apply(this,arguments)};function __rest(t,i){var c={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&0>i.indexOf(l)&&(c[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var _=0,l=Object.getOwnPropertySymbols(t);_<l.length;_++)0>i.indexOf(l[_])&&Object.prototype.propertyIsEnumerable.call(t,l[_])&&(c[l[_]]=t[l[_]]);return c}function __decorate(t,i,c,l){var _,v=arguments.length,P=v<3?i:null===l?l=Object.getOwnPropertyDescriptor(i,c):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(t,i,c,l);else for(var U=t.length-1;U>=0;U--)(_=t[U])&&(P=(v<3?_(P):v>3?_(i,c,P):_(i,c))||P);return v>3&&P&&Object.defineProperty(i,c,P),P}function __param(t,i){return function(c,l){i(c,l,t)}}function __metadata(t,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,i)}function __awaiter(t,i,c,l){return new(c||(c=Promise))(function(_,v){function fulfilled(t){try{step(l.next(t))}catch(t){v(t)}}function rejected(t){try{step(l.throw(t))}catch(t){v(t)}}function step(t){var i;t.done?_(t.value):((i=t.value)instanceof c?i:new c(function(t){t(i)})).then(fulfilled,rejected)}step((l=l.apply(t,i||[])).next())})}function __generator(t,i){var c,l,_,v,P={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return v={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v;function verb(v){return function(U){return function(v){if(c)throw TypeError("Generator is already executing.");for(;P;)try{if(c=1,l&&(_=2&v[0]?l.return:v[0]?l.throw||((_=l.return)&&_.call(l),0):l.next)&&!(_=_.call(l,v[1])).done)return _;switch(l=0,_&&(v=[2&v[0],_.value]),v[0]){case 0:case 1:_=v;break;case 4:return P.label++,{value:v[1],done:!1};case 5:P.label++,l=v[1],v=[0];continue;case 7:v=P.ops.pop(),P.trys.pop();continue;default:if(!(_=(_=P.trys).length>0&&_[_.length-1])&&(6===v[0]||2===v[0])){P=0;continue}if(3===v[0]&&(!_||v[1]>_[0]&&v[1]<_[3])){P.label=v[1];break}if(6===v[0]&&P.label<_[1]){P.label=_[1],_=v;break}if(_&&P.label<_[2]){P.label=_[2],P.ops.push(v);break}_[2]&&P.ops.pop(),P.trys.pop();continue}v=i.call(t,P)}catch(t){v=[6,t],l=0}finally{c=_=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([v,U])}}}function __createBinding(t,i,c,l){void 0===l&&(l=c),t[l]=i[c]}function __exportStar(t,i){for(var c in t)"default"===c||i.hasOwnProperty(c)||(i[c]=t[c])}function __values(t){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&t[i],l=0;if(c)return c.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&l>=t.length&&(t=void 0),{value:t&&t[l++],done:!t}}};throw TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(t,i){var c="function"==typeof Symbol&&t[Symbol.iterator];if(!c)return t;var l,_,v=c.call(t),P=[];try{for(;(void 0===i||i-- >0)&&!(l=v.next()).done;)P.push(l.value)}catch(t){_={error:t}}finally{try{l&&!l.done&&(c=v.return)&&c.call(v)}finally{if(_)throw _.error}}return P}function __spread(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(__read(arguments[i]));return t}function __spreadArrays(){for(var t=0,i=0,c=arguments.length;i<c;i++)t+=arguments[i].length;for(var l=Array(t),_=0,i=0;i<c;i++)for(var v=arguments[i],P=0,U=v.length;P<U;P++,_++)l[_]=v[P];return l}function __await(t){return this instanceof __await?(this.v=t,this):new __await(t)}function __asyncGenerator(t,i,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var l,_=c.apply(t,i||[]),v=[];return l={},verb("next"),verb("throw"),verb("return"),l[Symbol.asyncIterator]=function(){return this},l;function verb(t){_[t]&&(l[t]=function(i){return new Promise(function(c,l){v.push([t,i,c,l])>1||resume(t,i)})})}function resume(t,i){try{var c;(c=_[t](i)).value instanceof __await?Promise.resolve(c.value.v).then(fulfill,reject):settle(v[0][2],c)}catch(t){settle(v[0][3],t)}}function fulfill(t){resume("next",t)}function reject(t){resume("throw",t)}function settle(t,i){t(i),v.shift(),v.length&&resume(v[0][0],v[0][1])}}function __asyncDelegator(t){var i,c;return i={},verb("next"),verb("throw",function(t){throw t}),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(l,_){i[l]=t[l]?function(i){return(c=!c)?{value:__await(t[l](i)),done:"return"===l}:_?_(i):i}:_}}function __asyncValues(t){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,c=t[Symbol.asyncIterator];return c?c.call(t):(t=__values(t),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(c){i[c]=t[c]&&function(i){return new Promise(function(l,_){!function(t,i,c,l){Promise.resolve(l).then(function(i){t({value:i,done:c})},i)}(l,_,(i=t[c](i)).done,i.value)})}}}function __makeTemplateObject(t,i){return Object.defineProperty?Object.defineProperty(t,"raw",{value:i}):t.raw=i,t}function __importStar(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var c in t)Object.hasOwnProperty.call(t,c)&&(i[c]=t[c]);return i.default=t,i}function __importDefault(t){return t&&t.__esModule?t:{default:t}}function __classPrivateFieldGet(t,i){if(!i.has(t))throw TypeError("attempted to get private field on non-instance");return i.get(t)}function __classPrivateFieldSet(t,i,c){if(!i.has(t))throw TypeError("attempted to set private field on non-instance");return i.set(t,c),c}},65727:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.PINO_CUSTOM_CONTEXT_KEY=i.PINO_LOGGER_DEFAULTS=void 0,i.PINO_LOGGER_DEFAULTS={level:"info"},i.PINO_CUSTOM_CONTEXT_KEY="custom_context"},9107:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.pino=void 0;let l=c(57121),_=l.__importDefault(c(36559));Object.defineProperty(i,"pino",{enumerable:!0,get:function(){return _.default}}),l.__exportStar(c(65727),i),l.__exportStar(c(58048),i)},58048:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.generateChildLogger=i.formatChildLoggerContext=i.getLoggerContext=i.setBrowserLoggerContext=i.getBrowserLoggerContext=i.getDefaultLoggerOptions=void 0;let l=c(65727);function getBrowserLoggerContext(t,i=l.PINO_CUSTOM_CONTEXT_KEY){return t[i]||""}function setBrowserLoggerContext(t,i,c=l.PINO_CUSTOM_CONTEXT_KEY){return t[c]=i,t}function getLoggerContext(t,i=l.PINO_CUSTOM_CONTEXT_KEY){return void 0===t.bindings?getBrowserLoggerContext(t,i):t.bindings().context||""}function formatChildLoggerContext(t,i,c=l.PINO_CUSTOM_CONTEXT_KEY){let _=getLoggerContext(t,c),v=_.trim()?`${_}/${i}`:i;return v}i.getDefaultLoggerOptions=function(t){return Object.assign(Object.assign({},t),{level:(null==t?void 0:t.level)||l.PINO_LOGGER_DEFAULTS.level})},i.getBrowserLoggerContext=getBrowserLoggerContext,i.setBrowserLoggerContext=setBrowserLoggerContext,i.getLoggerContext=getLoggerContext,i.formatChildLoggerContext=formatChildLoggerContext,i.generateChildLogger=function(t,i,c=l.PINO_CUSTOM_CONTEXT_KEY){let _=formatChildLoggerContext(t,i,c),v=t.child({context:_});return setBrowserLoggerContext(v,_,c)}},57121:function(t,i,c){"use strict";c.r(i),c.d(i,{__assign:function(){return __assign},__asyncDelegator:function(){return __asyncDelegator},__asyncGenerator:function(){return __asyncGenerator},__asyncValues:function(){return __asyncValues},__await:function(){return __await},__awaiter:function(){return __awaiter},__classPrivateFieldGet:function(){return __classPrivateFieldGet},__classPrivateFieldSet:function(){return __classPrivateFieldSet},__createBinding:function(){return __createBinding},__decorate:function(){return __decorate},__exportStar:function(){return __exportStar},__extends:function(){return __extends},__generator:function(){return __generator},__importDefault:function(){return __importDefault},__importStar:function(){return __importStar},__makeTemplateObject:function(){return __makeTemplateObject},__metadata:function(){return __metadata},__param:function(){return __param},__read:function(){return __read},__rest:function(){return __rest},__spread:function(){return __spread},__spreadArrays:function(){return __spreadArrays},__values:function(){return __values}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(t,i){return(extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var c in i)i.hasOwnProperty(c)&&(t[c]=i[c])})(t,i)};function __extends(t,i){function __(){this.constructor=t}extendStatics(t,i),t.prototype=null===i?Object.create(i):(__.prototype=i.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(t){for(var i,c=1,l=arguments.length;c<l;c++)for(var _ in i=arguments[c])Object.prototype.hasOwnProperty.call(i,_)&&(t[_]=i[_]);return t}).apply(this,arguments)};function __rest(t,i){var c={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&0>i.indexOf(l)&&(c[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var _=0,l=Object.getOwnPropertySymbols(t);_<l.length;_++)0>i.indexOf(l[_])&&Object.prototype.propertyIsEnumerable.call(t,l[_])&&(c[l[_]]=t[l[_]]);return c}function __decorate(t,i,c,l){var _,v=arguments.length,P=v<3?i:null===l?l=Object.getOwnPropertyDescriptor(i,c):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(t,i,c,l);else for(var U=t.length-1;U>=0;U--)(_=t[U])&&(P=(v<3?_(P):v>3?_(i,c,P):_(i,c))||P);return v>3&&P&&Object.defineProperty(i,c,P),P}function __param(t,i){return function(c,l){i(c,l,t)}}function __metadata(t,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,i)}function __awaiter(t,i,c,l){return new(c||(c=Promise))(function(_,v){function fulfilled(t){try{step(l.next(t))}catch(t){v(t)}}function rejected(t){try{step(l.throw(t))}catch(t){v(t)}}function step(t){var i;t.done?_(t.value):((i=t.value)instanceof c?i:new c(function(t){t(i)})).then(fulfilled,rejected)}step((l=l.apply(t,i||[])).next())})}function __generator(t,i){var c,l,_,v,P={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return v={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v;function verb(v){return function(U){return function(v){if(c)throw TypeError("Generator is already executing.");for(;P;)try{if(c=1,l&&(_=2&v[0]?l.return:v[0]?l.throw||((_=l.return)&&_.call(l),0):l.next)&&!(_=_.call(l,v[1])).done)return _;switch(l=0,_&&(v=[2&v[0],_.value]),v[0]){case 0:case 1:_=v;break;case 4:return P.label++,{value:v[1],done:!1};case 5:P.label++,l=v[1],v=[0];continue;case 7:v=P.ops.pop(),P.trys.pop();continue;default:if(!(_=(_=P.trys).length>0&&_[_.length-1])&&(6===v[0]||2===v[0])){P=0;continue}if(3===v[0]&&(!_||v[1]>_[0]&&v[1]<_[3])){P.label=v[1];break}if(6===v[0]&&P.label<_[1]){P.label=_[1],_=v;break}if(_&&P.label<_[2]){P.label=_[2],P.ops.push(v);break}_[2]&&P.ops.pop(),P.trys.pop();continue}v=i.call(t,P)}catch(t){v=[6,t],l=0}finally{c=_=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([v,U])}}}function __createBinding(t,i,c,l){void 0===l&&(l=c),t[l]=i[c]}function __exportStar(t,i){for(var c in t)"default"===c||i.hasOwnProperty(c)||(i[c]=t[c])}function __values(t){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&t[i],l=0;if(c)return c.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&l>=t.length&&(t=void 0),{value:t&&t[l++],done:!t}}};throw TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(t,i){var c="function"==typeof Symbol&&t[Symbol.iterator];if(!c)return t;var l,_,v=c.call(t),P=[];try{for(;(void 0===i||i-- >0)&&!(l=v.next()).done;)P.push(l.value)}catch(t){_={error:t}}finally{try{l&&!l.done&&(c=v.return)&&c.call(v)}finally{if(_)throw _.error}}return P}function __spread(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(__read(arguments[i]));return t}function __spreadArrays(){for(var t=0,i=0,c=arguments.length;i<c;i++)t+=arguments[i].length;for(var l=Array(t),_=0,i=0;i<c;i++)for(var v=arguments[i],P=0,U=v.length;P<U;P++,_++)l[_]=v[P];return l}function __await(t){return this instanceof __await?(this.v=t,this):new __await(t)}function __asyncGenerator(t,i,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var l,_=c.apply(t,i||[]),v=[];return l={},verb("next"),verb("throw"),verb("return"),l[Symbol.asyncIterator]=function(){return this},l;function verb(t){_[t]&&(l[t]=function(i){return new Promise(function(c,l){v.push([t,i,c,l])>1||resume(t,i)})})}function resume(t,i){try{var c;(c=_[t](i)).value instanceof __await?Promise.resolve(c.value.v).then(fulfill,reject):settle(v[0][2],c)}catch(t){settle(v[0][3],t)}}function fulfill(t){resume("next",t)}function reject(t){resume("throw",t)}function settle(t,i){t(i),v.shift(),v.length&&resume(v[0][0],v[0][1])}}function __asyncDelegator(t){var i,c;return i={},verb("next"),verb("throw",function(t){throw t}),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(l,_){i[l]=t[l]?function(i){return(c=!c)?{value:__await(t[l](i)),done:"return"===l}:_?_(i):i}:_}}function __asyncValues(t){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,c=t[Symbol.asyncIterator];return c?c.call(t):(t=__values(t),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(c){i[c]=t[c]&&function(i){return new Promise(function(l,_){!function(t,i,c,l){Promise.resolve(l).then(function(i){t({value:i,done:c})},i)}(l,_,(i=t[c](i)).done,i.value)})}}}function __makeTemplateObject(t,i){return Object.defineProperty?Object.defineProperty(t,"raw",{value:i}):t.raw=i,t}function __importStar(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var c in t)Object.hasOwnProperty.call(t,c)&&(i[c]=t[c]);return i.default=t,i}function __importDefault(t){return t&&t.__esModule?t:{default:t}}function __classPrivateFieldGet(t,i){if(!i.has(t))throw TypeError("attempted to get private field on non-instance");return i.get(t)}function __classPrivateFieldSet(t,i,c){if(!i.has(t))throw TypeError("attempted to set private field on non-instance");return i.set(t,c),c}},61882:function(){},43014:function(){},36900:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});let l=c(30004);l.__exportStar(c(46869),i),l.__exportStar(c(88033),i)},46869:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ONE_THOUSAND=i.ONE_HUNDRED=void 0,i.ONE_HUNDRED=100,i.ONE_THOUSAND=1e3},88033:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ONE_YEAR=i.FOUR_WEEKS=i.THREE_WEEKS=i.TWO_WEEKS=i.ONE_WEEK=i.THIRTY_DAYS=i.SEVEN_DAYS=i.FIVE_DAYS=i.THREE_DAYS=i.ONE_DAY=i.TWENTY_FOUR_HOURS=i.TWELVE_HOURS=i.SIX_HOURS=i.THREE_HOURS=i.ONE_HOUR=i.SIXTY_MINUTES=i.THIRTY_MINUTES=i.TEN_MINUTES=i.FIVE_MINUTES=i.ONE_MINUTE=i.SIXTY_SECONDS=i.THIRTY_SECONDS=i.TEN_SECONDS=i.FIVE_SECONDS=i.ONE_SECOND=void 0,i.ONE_SECOND=1,i.FIVE_SECONDS=5,i.TEN_SECONDS=10,i.THIRTY_SECONDS=30,i.SIXTY_SECONDS=60,i.ONE_MINUTE=i.SIXTY_SECONDS,i.FIVE_MINUTES=5*i.ONE_MINUTE,i.TEN_MINUTES=10*i.ONE_MINUTE,i.THIRTY_MINUTES=30*i.ONE_MINUTE,i.SIXTY_MINUTES=60*i.ONE_MINUTE,i.ONE_HOUR=i.SIXTY_MINUTES,i.THREE_HOURS=3*i.ONE_HOUR,i.SIX_HOURS=6*i.ONE_HOUR,i.TWELVE_HOURS=12*i.ONE_HOUR,i.TWENTY_FOUR_HOURS=24*i.ONE_HOUR,i.ONE_DAY=i.TWENTY_FOUR_HOURS,i.THREE_DAYS=3*i.ONE_DAY,i.FIVE_DAYS=5*i.ONE_DAY,i.SEVEN_DAYS=7*i.ONE_DAY,i.THIRTY_DAYS=30*i.ONE_DAY,i.ONE_WEEK=i.SEVEN_DAYS,i.TWO_WEEKS=2*i.ONE_WEEK,i.THREE_WEEKS=3*i.ONE_WEEK,i.FOUR_WEEKS=4*i.ONE_WEEK,i.ONE_YEAR=365*i.ONE_DAY},66736:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});let l=c(30004);l.__exportStar(c(44273),i),l.__exportStar(c(47001),i),l.__exportStar(c(52939),i),l.__exportStar(c(36900),i)},52939:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});let l=c(30004);l.__exportStar(c(88766),i)},88766:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.IWatch=void 0,i.IWatch=class{}},83207:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.fromMiliseconds=i.toMiliseconds=void 0;let l=c(36900);i.toMiliseconds=function(t){return t*l.ONE_THOUSAND},i.fromMiliseconds=function(t){return Math.floor(t/l.ONE_THOUSAND)}},83873:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.delay=void 0,i.delay=function(t){return new Promise(i=>{setTimeout(()=>{i(!0)},t)})}},44273:function(t,i,c){"use strict";Object.defineProperty(i,"__esModule",{value:!0});let l=c(30004);l.__exportStar(c(83873),i),l.__exportStar(c(83207),i)},47001:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Watch=void 0;let Watch=class Watch{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){let i=this.get(t);if(void 0!==i.elapsed)throw Error(`Watch already stopped for label: ${t}`);let c=Date.now()-i.started;this.timestamps.set(t,{started:i.started,elapsed:c})}get(t){let i=this.timestamps.get(t);if(void 0===i)throw Error(`No timestamp found for label: ${t}`);return i}elapsed(t){let i=this.get(t),c=i.elapsed||Date.now()-i.started;return c}};i.Watch=Watch,i.default=Watch},30004:function(t,i,c){"use strict";c.r(i),c.d(i,{__assign:function(){return __assign},__asyncDelegator:function(){return __asyncDelegator},__asyncGenerator:function(){return __asyncGenerator},__asyncValues:function(){return __asyncValues},__await:function(){return __await},__awaiter:function(){return __awaiter},__classPrivateFieldGet:function(){return __classPrivateFieldGet},__classPrivateFieldSet:function(){return __classPrivateFieldSet},__createBinding:function(){return __createBinding},__decorate:function(){return __decorate},__exportStar:function(){return __exportStar},__extends:function(){return __extends},__generator:function(){return __generator},__importDefault:function(){return __importDefault},__importStar:function(){return __importStar},__makeTemplateObject:function(){return __makeTemplateObject},__metadata:function(){return __metadata},__param:function(){return __param},__read:function(){return __read},__rest:function(){return __rest},__spread:function(){return __spread},__spreadArrays:function(){return __spreadArrays},__values:function(){return __values}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(t,i){return(extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var c in i)i.hasOwnProperty(c)&&(t[c]=i[c])})(t,i)};function __extends(t,i){function __(){this.constructor=t}extendStatics(t,i),t.prototype=null===i?Object.create(i):(__.prototype=i.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(t){for(var i,c=1,l=arguments.length;c<l;c++)for(var _ in i=arguments[c])Object.prototype.hasOwnProperty.call(i,_)&&(t[_]=i[_]);return t}).apply(this,arguments)};function __rest(t,i){var c={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&0>i.indexOf(l)&&(c[l]=t[l]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var _=0,l=Object.getOwnPropertySymbols(t);_<l.length;_++)0>i.indexOf(l[_])&&Object.prototype.propertyIsEnumerable.call(t,l[_])&&(c[l[_]]=t[l[_]]);return c}function __decorate(t,i,c,l){var _,v=arguments.length,P=v<3?i:null===l?l=Object.getOwnPropertyDescriptor(i,c):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(t,i,c,l);else for(var U=t.length-1;U>=0;U--)(_=t[U])&&(P=(v<3?_(P):v>3?_(i,c,P):_(i,c))||P);return v>3&&P&&Object.defineProperty(i,c,P),P}function __param(t,i){return function(c,l){i(c,l,t)}}function __metadata(t,i){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,i)}function __awaiter(t,i,c,l){return new(c||(c=Promise))(function(_,v){function fulfilled(t){try{step(l.next(t))}catch(t){v(t)}}function rejected(t){try{step(l.throw(t))}catch(t){v(t)}}function step(t){var i;t.done?_(t.value):((i=t.value)instanceof c?i:new c(function(t){t(i)})).then(fulfilled,rejected)}step((l=l.apply(t,i||[])).next())})}function __generator(t,i){var c,l,_,v,P={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return v={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v;function verb(v){return function(U){return function(v){if(c)throw TypeError("Generator is already executing.");for(;P;)try{if(c=1,l&&(_=2&v[0]?l.return:v[0]?l.throw||((_=l.return)&&_.call(l),0):l.next)&&!(_=_.call(l,v[1])).done)return _;switch(l=0,_&&(v=[2&v[0],_.value]),v[0]){case 0:case 1:_=v;break;case 4:return P.label++,{value:v[1],done:!1};case 5:P.label++,l=v[1],v=[0];continue;case 7:v=P.ops.pop(),P.trys.pop();continue;default:if(!(_=(_=P.trys).length>0&&_[_.length-1])&&(6===v[0]||2===v[0])){P=0;continue}if(3===v[0]&&(!_||v[1]>_[0]&&v[1]<_[3])){P.label=v[1];break}if(6===v[0]&&P.label<_[1]){P.label=_[1],_=v;break}if(_&&P.label<_[2]){P.label=_[2],P.ops.push(v);break}_[2]&&P.ops.pop(),P.trys.pop();continue}v=i.call(t,P)}catch(t){v=[6,t],l=0}finally{c=_=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([v,U])}}}function __createBinding(t,i,c,l){void 0===l&&(l=c),t[l]=i[c]}function __exportStar(t,i){for(var c in t)"default"===c||i.hasOwnProperty(c)||(i[c]=t[c])}function __values(t){var i="function"==typeof Symbol&&Symbol.iterator,c=i&&t[i],l=0;if(c)return c.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&l>=t.length&&(t=void 0),{value:t&&t[l++],done:!t}}};throw TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(t,i){var c="function"==typeof Symbol&&t[Symbol.iterator];if(!c)return t;var l,_,v=c.call(t),P=[];try{for(;(void 0===i||i-- >0)&&!(l=v.next()).done;)P.push(l.value)}catch(t){_={error:t}}finally{try{l&&!l.done&&(c=v.return)&&c.call(v)}finally{if(_)throw _.error}}return P}function __spread(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(__read(arguments[i]));return t}function __spreadArrays(){for(var t=0,i=0,c=arguments.length;i<c;i++)t+=arguments[i].length;for(var l=Array(t),_=0,i=0;i<c;i++)for(var v=arguments[i],P=0,U=v.length;P<U;P++,_++)l[_]=v[P];return l}function __await(t){return this instanceof __await?(this.v=t,this):new __await(t)}function __asyncGenerator(t,i,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var l,_=c.apply(t,i||[]),v=[];return l={},verb("next"),verb("throw"),verb("return"),l[Symbol.asyncIterator]=function(){return this},l;function verb(t){_[t]&&(l[t]=function(i){return new Promise(function(c,l){v.push([t,i,c,l])>1||resume(t,i)})})}function resume(t,i){try{var c;(c=_[t](i)).value instanceof __await?Promise.resolve(c.value.v).then(fulfill,reject):settle(v[0][2],c)}catch(t){settle(v[0][3],t)}}function fulfill(t){resume("next",t)}function reject(t){resume("throw",t)}function settle(t,i){t(i),v.shift(),v.length&&resume(v[0][0],v[0][1])}}function __asyncDelegator(t){var i,c;return i={},verb("next"),verb("throw",function(t){throw t}),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(l,_){i[l]=t[l]?function(i){return(c=!c)?{value:__await(t[l](i)),done:"return"===l}:_?_(i):i}:_}}function __asyncValues(t){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,c=t[Symbol.asyncIterator];return c?c.call(t):(t=__values(t),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(c){i[c]=t[c]&&function(i){return new Promise(function(l,_){!function(t,i,c,l){Promise.resolve(l).then(function(i){t({value:i,done:c})},i)}(l,_,(i=t[c](i)).done,i.value)})}}}function __makeTemplateObject(t,i){return Object.defineProperty?Object.defineProperty(t,"raw",{value:i}):t.raw=i,t}function __importStar(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var c in t)Object.hasOwnProperty.call(t,c)&&(i[c]=t[c]);return i.default=t,i}function __importDefault(t){return t&&t.__esModule?t:{default:t}}function __classPrivateFieldGet(t,i){if(!i.has(t))throw TypeError("attempted to get private field on non-instance");return i.get(t)}function __classPrivateFieldSet(t,i,c){if(!i.has(t))throw TypeError("attempted to set private field on non-instance");return i.set(t,c),c}},66151:function(t,i,c){"use strict";let l=c(70610),_=c(44020),v=c(80500),P=c(92806),isNullOrUndefined=t=>null==t,U=Symbol("encodeFragmentIdentifier");function validateArrayFormatSeparator(t){if("string"!=typeof t||1!==t.length)throw TypeError("arrayFormatSeparator must be single character string")}function encode(t,i){return i.encode?i.strict?l(t):encodeURIComponent(t):t}function decode(t,i){return i.decode?_(t):t}function removeHash(t){let i=t.indexOf("#");return -1!==i&&(t=t.slice(0,i)),t}function extract(t){t=removeHash(t);let i=t.indexOf("?");return -1===i?"":t.slice(i+1)}function parseValue(t,i){return i.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):i.parseBooleans&&null!==t&&("true"===t.toLowerCase()||"false"===t.toLowerCase())&&(t="true"===t.toLowerCase()),t}function parse(t,i){validateArrayFormatSeparator((i=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},i)).arrayFormatSeparator);let c=function(t){let i;switch(t.arrayFormat){case"index":return(t,c,l)=>{if(i=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),!i){l[t]=c;return}void 0===l[t]&&(l[t]={}),l[t][i[1]]=c};case"bracket":return(t,c,l)=>{if(i=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),!i){l[t]=c;return}if(void 0===l[t]){l[t]=[c];return}l[t]=[].concat(l[t],c)};case"colon-list-separator":return(t,c,l)=>{if(i=/(:list)$/.exec(t),t=t.replace(/:list$/,""),!i){l[t]=c;return}if(void 0===l[t]){l[t]=[c];return}l[t]=[].concat(l[t],c)};case"comma":case"separator":return(i,c,l)=>{let _="string"==typeof c&&c.includes(t.arrayFormatSeparator),v="string"==typeof c&&!_&&decode(c,t).includes(t.arrayFormatSeparator);c=v?decode(c,t):c;let P=_||v?c.split(t.arrayFormatSeparator).map(i=>decode(i,t)):null===c?c:decode(c,t);l[i]=P};case"bracket-separator":return(i,c,l)=>{let _=/(\[\])$/.test(i);if(i=i.replace(/\[\]$/,""),!_){l[i]=c?decode(c,t):c;return}let v=null===c?[]:c.split(t.arrayFormatSeparator).map(i=>decode(i,t));if(void 0===l[i]){l[i]=v;return}l[i]=[].concat(l[i],v)};default:return(t,i,c)=>{if(void 0===c[t]){c[t]=i;return}c[t]=[].concat(c[t],i)}}}(i),l=Object.create(null);if("string"!=typeof t||!(t=t.trim().replace(/^[?#&]/,"")))return l;for(let _ of t.split("&")){if(""===_)continue;let[t,P]=v(i.decode?_.replace(/\+/g," "):_,"=");P=void 0===P?null:["comma","separator","bracket-separator"].includes(i.arrayFormat)?P:decode(P,i),c(decode(t,i),P,l)}for(let t of Object.keys(l)){let c=l[t];if("object"==typeof c&&null!==c)for(let t of Object.keys(c))c[t]=parseValue(c[t],i);else l[t]=parseValue(c,i)}return!1===i.sort?l:(!0===i.sort?Object.keys(l).sort():Object.keys(l).sort(i.sort)).reduce((t,i)=>{let c=l[i];return c&&"object"==typeof c&&!Array.isArray(c)?t[i]=function keysSorter(t){return Array.isArray(t)?t.sort():"object"==typeof t?keysSorter(Object.keys(t)).sort((t,i)=>Number(t)-Number(i)).map(i=>t[i]):t}(c):t[i]=c,t},Object.create(null))}i.extract=extract,i.parse=parse,i.stringify=(t,i)=>{if(!t)return"";validateArrayFormatSeparator((i=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},i)).arrayFormatSeparator);let shouldFilter=c=>i.skipNull&&isNullOrUndefined(t[c])||i.skipEmptyString&&""===t[c],c=function(t){switch(t.arrayFormat){case"index":return i=>(c,l)=>{let _=c.length;return void 0===l||t.skipNull&&null===l||t.skipEmptyString&&""===l?c:null===l?[...c,[encode(i,t),"[",_,"]"].join("")]:[...c,[encode(i,t),"[",encode(_,t),"]=",encode(l,t)].join("")]};case"bracket":return i=>(c,l)=>void 0===l||t.skipNull&&null===l||t.skipEmptyString&&""===l?c:null===l?[...c,[encode(i,t),"[]"].join("")]:[...c,[encode(i,t),"[]=",encode(l,t)].join("")];case"colon-list-separator":return i=>(c,l)=>void 0===l||t.skipNull&&null===l||t.skipEmptyString&&""===l?c:null===l?[...c,[encode(i,t),":list="].join("")]:[...c,[encode(i,t),":list=",encode(l,t)].join("")];case"comma":case"separator":case"bracket-separator":{let i="bracket-separator"===t.arrayFormat?"[]=":"=";return c=>(l,_)=>void 0===_||t.skipNull&&null===_||t.skipEmptyString&&""===_?l:(_=null===_?"":_,0===l.length)?[[encode(c,t),i,encode(_,t)].join("")]:[[l,encode(_,t)].join(t.arrayFormatSeparator)]}default:return i=>(c,l)=>void 0===l||t.skipNull&&null===l||t.skipEmptyString&&""===l?c:null===l?[...c,encode(i,t)]:[...c,[encode(i,t),"=",encode(l,t)].join("")]}}(i),l={};for(let i of Object.keys(t))shouldFilter(i)||(l[i]=t[i]);let _=Object.keys(l);return!1!==i.sort&&_.sort(i.sort),_.map(l=>{let _=t[l];return void 0===_?"":null===_?encode(l,i):Array.isArray(_)?0===_.length&&"bracket-separator"===i.arrayFormat?encode(l,i)+"[]":_.reduce(c(l),[]).join("&"):encode(l,i)+"="+encode(_,i)}).filter(t=>t.length>0).join("&")},i.parseUrl=(t,i)=>{i=Object.assign({decode:!0},i);let[c,l]=v(t,"#");return Object.assign({url:c.split("?")[0]||"",query:parse(extract(t),i)},i&&i.parseFragmentIdentifier&&l?{fragmentIdentifier:decode(l,i)}:{})},i.stringifyUrl=(t,c)=>{c=Object.assign({encode:!0,strict:!0,[U]:!0},c);let l=removeHash(t.url).split("?")[0]||"",_=i.extract(t.url),v=i.parse(_,{sort:!1}),P=Object.assign(v,t.query),k=i.stringify(P,c);k&&(k=`?${k}`);let B=function(t){let i="",c=t.indexOf("#");return -1!==c&&(i=t.slice(c)),i}(t.url);return t.fragmentIdentifier&&(B=`#${c[U]?encode(t.fragmentIdentifier,c):t.fragmentIdentifier}`),`${l}${k}${B}`},i.pick=(t,c,l)=>{l=Object.assign({parseFragmentIdentifier:!0,[U]:!1},l);let{url:_,query:v,fragmentIdentifier:k}=i.parseUrl(t,l);return i.stringifyUrl({url:_,query:P(v,c),fragmentIdentifier:k},l)},i.exclude=(t,c,l)=>{let _=Array.isArray(c)?t=>!c.includes(t):(t,i)=>!c(t,i);return i.pick(t,_,l)}},62873:function(t,i){"use strict";function getFromWindow(t){let i;return"undefined"!=typeof window&&void 0!==window[t]&&(i=window[t]),i}function getFromWindowOrThrow(t){let i=getFromWindow(t);if(!i)throw Error(`${t} is not defined in Window`);return i}Object.defineProperty(i,"__esModule",{value:!0}),i.getLocalStorage=i.getLocalStorageOrThrow=i.getCrypto=i.getCryptoOrThrow=i.getLocation=i.getLocationOrThrow=i.getNavigator=i.getNavigatorOrThrow=i.getDocument=i.getDocumentOrThrow=i.getFromWindowOrThrow=i.getFromWindow=void 0,i.getFromWindow=getFromWindow,i.getFromWindowOrThrow=getFromWindowOrThrow,i.getDocumentOrThrow=function(){return getFromWindowOrThrow("document")},i.getDocument=function(){return getFromWindow("document")},i.getNavigatorOrThrow=function(){return getFromWindowOrThrow("navigator")},i.getNavigator=function(){return getFromWindow("navigator")},i.getLocationOrThrow=function(){return getFromWindowOrThrow("location")},i.getLocation=function(){return getFromWindow("location")},i.getCryptoOrThrow=function(){return getFromWindowOrThrow("crypto")},i.getCrypto=function(){return getFromWindow("crypto")},i.getLocalStorageOrThrow=function(){return getFromWindowOrThrow("localStorage")},i.getLocalStorage=function(){return getFromWindow("localStorage")}},65755:function(t,i,c){"use strict";i.D=void 0;let l=c(62873);i.D=function(){let t,i,c;try{t=l.getDocumentOrThrow(),i=l.getLocationOrThrow()}catch(t){return null}function getWindowMetadataOfAny(...i){let c=t.getElementsByTagName("meta");for(let t=0;t<c.length;t++){let l=c[t],_=["itemprop","property","name"].map(t=>l.getAttribute(t)).filter(t=>!!t&&i.includes(t));if(_.length&&_){let t=l.getAttribute("content");if(t)return t}}return""}let _=((c=getWindowMetadataOfAny("name","og:site_name","og:title","twitter:title"))||(c=t.title),c),v=function(){let t=getWindowMetadataOfAny("description","og:description","twitter:description","keywords");return t}(),P=i.origin,U=function(){let c=t.getElementsByTagName("link"),l=[];for(let t=0;t<c.length;t++){let _=c[t],v=_.getAttribute("rel");if(v&&v.toLowerCase().indexOf("icon")>-1){let t=_.getAttribute("href");if(t){if(-1===t.toLowerCase().indexOf("https:")&&-1===t.toLowerCase().indexOf("http:")&&0!==t.indexOf("//")){let c=i.protocol+"//"+i.host;if(0===t.indexOf("/"))c+=t;else{let l=i.pathname.split("/");l.pop();let _=l.join("/");c+=_+"/"+t}l.push(c)}else if(0===t.indexOf("//")){let c=i.protocol+t;l.push(c)}else l.push(t)}}}return l}();return{description:v,url:P,icons:U,name:_}}},54098:function(t,i){var c="undefined"!=typeof self?self:this,l=function(){function F(){this.fetch=!1,this.DOMException=c.DOMException}return F.prototype=c,new F}();(function(t){var i={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};if(i.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=ArrayBuffer.isView||function(t){return t&&c.indexOf(Object.prototype.toString.call(t))>-1};function normalizeName(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw TypeError("Invalid character in header field name");return t.toLowerCase()}function normalizeValue(t){return"string"!=typeof t&&(t=String(t)),t}function iteratorFor(t){var c={next:function(){var i=t.shift();return{done:void 0===i,value:i}}};return i.iterable&&(c[Symbol.iterator]=function(){return c}),c}function Headers(t){this.map={},t instanceof Headers?t.forEach(function(t,i){this.append(i,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(i){this.append(i,t[i])},this)}function consumed(t){if(t.bodyUsed)return Promise.reject(TypeError("Already read"));t.bodyUsed=!0}function fileReaderReady(t){return new Promise(function(i,c){t.onload=function(){i(t.result)},t.onerror=function(){c(t.error)}})}function readBlobAsArrayBuffer(t){var i=new FileReader,c=fileReaderReady(i);return i.readAsArrayBuffer(t),c}function bufferClone(t){if(t.slice)return t.slice(0);var i=new Uint8Array(t.byteLength);return i.set(new Uint8Array(t)),i.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t){if("string"==typeof t)this._bodyText=t;else if(i.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(i.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(i.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else{var c;i.arrayBuffer&&i.blob&&(c=t)&&DataView.prototype.isPrototypeOf(c)?(this._bodyArrayBuffer=bufferClone(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||_(t))?this._bodyArrayBuffer=bufferClone(t):this._bodyText=t=Object.prototype.toString.call(t)}}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var t=consumed(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?consumed(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var t,i,c,l=consumed(this);if(l)return l;if(this._bodyBlob)return t=this._bodyBlob,c=fileReaderReady(i=new FileReader),i.readAsText(t),c;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var i=new Uint8Array(t),c=Array(i.length),l=0;l<i.length;l++)c[l]=String.fromCharCode(i[l]);return c.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},i.formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}Headers.prototype.append=function(t,i){t=normalizeName(t),i=normalizeValue(i);var c=this.map[t];this.map[t]=c?c+", "+i:i},Headers.prototype.delete=function(t){delete this.map[normalizeName(t)]},Headers.prototype.get=function(t){return t=normalizeName(t),this.has(t)?this.map[t]:null},Headers.prototype.has=function(t){return this.map.hasOwnProperty(normalizeName(t))},Headers.prototype.set=function(t,i){this.map[normalizeName(t)]=normalizeValue(i)},Headers.prototype.forEach=function(t,i){for(var c in this.map)this.map.hasOwnProperty(c)&&t.call(i,this.map[c],c,this)},Headers.prototype.keys=function(){var t=[];return this.forEach(function(i,c){t.push(c)}),iteratorFor(t)},Headers.prototype.values=function(){var t=[];return this.forEach(function(i){t.push(i)}),iteratorFor(t)},Headers.prototype.entries=function(){var t=[];return this.forEach(function(i,c){t.push([c,i])}),iteratorFor(t)},i.iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Request(t,i){var c,l,_=(i=i||{}).body;if(t instanceof Request){if(t.bodyUsed)throw TypeError("Already read");this.url=t.url,this.credentials=t.credentials,i.headers||(this.headers=new Headers(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,_||null==t._bodyInit||(_=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=i.credentials||this.credentials||"same-origin",(i.headers||!this.headers)&&(this.headers=new Headers(i.headers)),this.method=(l=(c=i.method||this.method||"GET").toUpperCase(),v.indexOf(l)>-1?l:c),this.mode=i.mode||this.mode||null,this.signal=i.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&_)throw TypeError("Body not allowed for GET or HEAD requests");this._initBody(_)}function decode(t){var i=new FormData;return t.trim().split("&").forEach(function(t){if(t){var c=t.split("="),l=c.shift().replace(/\+/g," "),_=c.join("=").replace(/\+/g," ");i.append(decodeURIComponent(l),decodeURIComponent(_))}}),i}function Response(t,i){i||(i={}),this.type="default",this.status=void 0===i.status?200:i.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in i?i.statusText:"OK",this.headers=new Headers(i.headers),this.url=i.url||"",this._initBody(t)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var t=new Response(null,{status:0,statusText:""});return t.type="error",t};var P=[301,302,303,307,308];Response.redirect=function(t,i){if(-1===P.indexOf(i))throw RangeError("Invalid status code");return new Response(null,{status:i,headers:{location:t}})},t.DOMException=l.DOMException;try{new t.DOMException}catch(i){t.DOMException=function(t,i){this.message=t,this.name=i;var c=Error(t);this.stack=c.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function fetch(c,l){return new Promise(function(_,v){var P=new Request(c,l);if(P.signal&&P.signal.aborted)return v(new t.DOMException("Aborted","AbortError"));var U=new XMLHttpRequest;function abortXhr(){U.abort()}U.onload=function(){var t,i,c={status:U.status,statusText:U.statusText,headers:(t=U.getAllResponseHeaders()||"",i=new Headers,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var c=t.split(":"),l=c.shift().trim();if(l){var _=c.join(":").trim();i.append(l,_)}}),i)};c.url="responseURL"in U?U.responseURL:c.headers.get("X-Request-URL");var l="response"in U?U.response:U.responseText;_(new Response(l,c))},U.onerror=function(){v(TypeError("Network request failed"))},U.ontimeout=function(){v(TypeError("Network request failed"))},U.onabort=function(){v(new t.DOMException("Aborted","AbortError"))},U.open(P.method,P.url,!0),"include"===P.credentials?U.withCredentials=!0:"omit"===P.credentials&&(U.withCredentials=!1),"responseType"in U&&i.blob&&(U.responseType="blob"),P.headers.forEach(function(t,i){U.setRequestHeader(i,t)}),P.signal&&(P.signal.addEventListener("abort",abortXhr),U.onreadystatechange=function(){4===U.readyState&&P.signal.removeEventListener("abort",abortXhr)}),U.send(void 0===P._bodyInit?null:P._bodyInit)})}fetch.polyfill=!0,l.fetch||(l.fetch=fetch,l.Headers=Headers,l.Request=Request,l.Response=Response),t.Headers=Headers,t.Request=Request,t.Response=Response,t.fetch=fetch,Object.defineProperty(t,"__esModule",{value:!0})})({}),l.fetch.ponyfill=!0,delete l.fetch.polyfill,(i=l.fetch).default=l.fetch,i.fetch=l.fetch,i.Headers=l.Headers,i.Request=l.Request,i.Response=l.Response,t.exports=i},44020:function(t){"use strict";var i="%[a-f0-9]{2}",c=RegExp("("+i+")|([^%]+?)","gi"),l=RegExp("("+i+")+","gi");t.exports=function(t){if("string"!=typeof t)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(i){return function(t){for(var i={"%FE%FF":"","%FF%FE":""},_=l.exec(t);_;){try{i[_[0]]=decodeURIComponent(_[0])}catch(t){var v=function(t){try{return decodeURIComponent(t)}catch(_){for(var i=t.match(c)||[],l=1;l<i.length;l++)i=(t=(function decodeComponents(t,i){try{return[decodeURIComponent(t.join(""))]}catch(t){}if(1===t.length)return t;i=i||1;var c=t.slice(0,i),l=t.slice(i);return Array.prototype.concat.call([],decodeComponents(c),decodeComponents(l))})(i,l).join("")).match(c)||[];return t}}(_[0]);v!==_[0]&&(i[_[0]]=v)}_=l.exec(t)}i["%C2"]="";for(var P=Object.keys(i),U=0;U<P.length;U++){var k=P[U];t=t.replace(RegExp(k,"g"),i[k])}return t}(t)}}},17187:function(t){"use strict";var i,c="object"==typeof Reflect?Reflect:null,l=c&&"function"==typeof c.apply?c.apply:function(t,i,c){return Function.prototype.apply.call(t,i,c)};i=c&&"function"==typeof c.ownKeys?c.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var _=Number.isNaN||function(t){return t!=t};function EventEmitter(){EventEmitter.init.call(this)}t.exports=EventEmitter,t.exports.once=function(t,i){return new Promise(function(c,l){function errorListener(c){t.removeListener(i,resolver),l(c)}function resolver(){"function"==typeof t.removeListener&&t.removeListener("error",errorListener),c([].slice.call(arguments))}eventTargetAgnosticAddListener(t,i,resolver,{once:!0}),"error"!==i&&"function"==typeof t.on&&eventTargetAgnosticAddListener(t,"error",errorListener,{once:!0})})},EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var v=10;function checkListener(t){if("function"!=typeof t)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function _getMaxListeners(t){return void 0===t._maxListeners?EventEmitter.defaultMaxListeners:t._maxListeners}function _addListener(t,i,c,l){if(checkListener(c),void 0===(v=t._events)?(v=t._events=Object.create(null),t._eventsCount=0):(void 0!==v.newListener&&(t.emit("newListener",i,c.listener?c.listener:c),v=t._events),P=v[i]),void 0===P)P=v[i]=c,++t._eventsCount;else if("function"==typeof P?P=v[i]=l?[c,P]:[P,c]:l?P.unshift(c):P.push(c),(_=_getMaxListeners(t))>0&&P.length>_&&!P.warned){P.warned=!0;var _,v,P,U=Error("Possible EventEmitter memory leak detected. "+P.length+" "+String(i)+" listeners added. Use emitter.setMaxListeners() to increase limit");U.name="MaxListenersExceededWarning",U.emitter=t,U.type=i,U.count=P.length,console&&console.warn&&console.warn(U)}return t}function onceWrapper(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(t,i,c){var l={fired:!1,wrapFn:void 0,target:t,type:i,listener:c},_=onceWrapper.bind(l);return _.listener=c,l.wrapFn=_,_}function _listeners(t,i,c){var l=t._events;if(void 0===l)return[];var _=l[i];return void 0===_?[]:"function"==typeof _?c?[_.listener||_]:[_]:c?function(t){for(var i=Array(t.length),c=0;c<i.length;++c)i[c]=t[c].listener||t[c];return i}(_):arrayClone(_,_.length)}function listenerCount(t){var i=this._events;if(void 0!==i){var c=i[t];if("function"==typeof c)return 1;if(void 0!==c)return c.length}return 0}function arrayClone(t,i){for(var c=Array(i),l=0;l<i;++l)c[l]=t[l];return c}function eventTargetAgnosticAddListener(t,i,c,l){if("function"==typeof t.on)l.once?t.once(i,c):t.on(i,c);else if("function"==typeof t.addEventListener)t.addEventListener(i,function wrapListener(_){l.once&&t.removeEventListener(i,wrapListener),c(_)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return v},set:function(t){if("number"!=typeof t||t<0||_(t))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");v=t}}),EventEmitter.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||_(t))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(t){for(var i=[],c=1;c<arguments.length;c++)i.push(arguments[c]);var _="error"===t,v=this._events;if(void 0!==v)_=_&&void 0===v.error;else if(!_)return!1;if(_){if(i.length>0&&(P=i[0]),P instanceof Error)throw P;var P,U=Error("Unhandled error."+(P?" ("+P.message+")":""));throw U.context=P,U}var k=v[t];if(void 0===k)return!1;if("function"==typeof k)l(k,this,i);else for(var B=k.length,W=arrayClone(k,B),c=0;c<B;++c)l(W[c],this,i);return!0},EventEmitter.prototype.addListener=function(t,i){return _addListener(this,t,i,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(t,i){return _addListener(this,t,i,!0)},EventEmitter.prototype.once=function(t,i){return checkListener(i),this.on(t,_onceWrap(this,t,i)),this},EventEmitter.prototype.prependOnceListener=function(t,i){return checkListener(i),this.prependListener(t,_onceWrap(this,t,i)),this},EventEmitter.prototype.removeListener=function(t,i){var c,l,_,v,P;if(checkListener(i),void 0===(l=this._events)||void 0===(c=l[t]))return this;if(c===i||c.listener===i)0==--this._eventsCount?this._events=Object.create(null):(delete l[t],l.removeListener&&this.emit("removeListener",t,c.listener||i));else if("function"!=typeof c){for(_=-1,v=c.length-1;v>=0;v--)if(c[v]===i||c[v].listener===i){P=c[v].listener,_=v;break}if(_<0)return this;0===_?c.shift():function(t,i){for(;i+1<t.length;i++)t[i]=t[i+1];t.pop()}(c,_),1===c.length&&(l[t]=c[0]),void 0!==l.removeListener&&this.emit("removeListener",t,P||i)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(t){var i,c,l;if(void 0===(c=this._events))return this;if(void 0===c.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==c[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete c[t]),this;if(0==arguments.length){var _,v=Object.keys(c);for(l=0;l<v.length;++l)"removeListener"!==(_=v[l])&&this.removeAllListeners(_);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(i=c[t]))this.removeListener(t,i);else if(void 0!==i)for(l=i.length-1;l>=0;l--)this.removeListener(t,i[l]);return this},EventEmitter.prototype.listeners=function(t){return _listeners(this,t,!0)},EventEmitter.prototype.rawListeners=function(t){return _listeners(this,t,!1)},EventEmitter.listenerCount=function(t,i){return"function"==typeof t.listenerCount?t.listenerCount(i):listenerCount.call(t,i)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},92806:function(t){"use strict";t.exports=function(t,i){for(var c={},l=Object.keys(t),_=Array.isArray(i),v=0;v<l.length;v++){var P=l[v],U=t[P];(_?-1!==i.indexOf(P):i(P,U,t))&&(c[P]=U)}return c}},72307:function(t,i,c){t=c.nmd(t);var l,_,v,P="__lodash_hash_undefined__",U="[object Arguments]",k="[object Array]",B="[object Boolean]",W="[object Date]",J="[object Error]",X="[object Function]",Q="[object Map]",er="[object Number]",es="[object Object]",eo="[object Promise]",ea="[object RegExp]",ec="[object Set]",el="[object String]",eh="[object WeakMap]",ef="[object ArrayBuffer]",ed="[object DataView]",ep=/^\[object .+?Constructor\]$/,eg=/^(?:0|[1-9]\d*)$/,e_={};e_["[object Float32Array]"]=e_["[object Float64Array]"]=e_["[object Int8Array]"]=e_["[object Int16Array]"]=e_["[object Int32Array]"]=e_["[object Uint8Array]"]=e_["[object Uint8ClampedArray]"]=e_["[object Uint16Array]"]=e_["[object Uint32Array]"]=!0,e_[U]=e_[k]=e_[ef]=e_[B]=e_[ed]=e_[W]=e_[J]=e_[X]=e_[Q]=e_[er]=e_[es]=e_[ea]=e_[ec]=e_[el]=e_[eh]=!1;var ey="object"==typeof c.g&&c.g&&c.g.Object===Object&&c.g,ev="object"==typeof self&&self&&self.Object===Object&&self,em=ey||ev||Function("return this")(),eb=i&&!i.nodeType&&i,ew=eb&&t&&!t.nodeType&&t,eE=ew&&ew.exports===eb,eD=eE&&ey.process,eS=function(){try{return eD&&eD.binding&&eD.binding("util")}catch(t){}}(),ex=eS&&eS.isTypedArray;function mapToArray(t){var i=-1,c=Array(t.size);return t.forEach(function(t,l){c[++i]=[l,t]}),c}function setToArray(t){var i=-1,c=Array(t.size);return t.forEach(function(t){c[++i]=t}),c}var eI=Array.prototype,eO=Function.prototype,eP=Object.prototype,eC=em["__core-js_shared__"],eA=eO.toString,eR=eP.hasOwnProperty,eN=(l=/[^.]+$/.exec(eC&&eC.keys&&eC.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",eT=eP.toString,ej=RegExp("^"+eA.call(eR).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eL=eE?em.Buffer:void 0,eU=em.Symbol,eM=em.Uint8Array,ek=eP.propertyIsEnumerable,e$=eI.splice,ez=eU?eU.toStringTag:void 0,eH=Object.getOwnPropertySymbols,eB=eL?eL.isBuffer:void 0,eF=(_=Object.keys,v=Object,function(t){return _(v(t))}),eV=getNative(em,"DataView"),eK=getNative(em,"Map"),eW=getNative(em,"Promise"),eG=getNative(em,"Set"),eJ=getNative(em,"WeakMap"),eY=getNative(Object,"create"),eX=toSource(eV),eZ=toSource(eK),eQ=toSource(eW),e0=toSource(eG),e1=toSource(eJ),e5=eU?eU.prototype:void 0,e3=e5?e5.valueOf:void 0;function Hash(t){var i=-1,c=null==t?0:t.length;for(this.clear();++i<c;){var l=t[i];this.set(l[0],l[1])}}function ListCache(t){var i=-1,c=null==t?0:t.length;for(this.clear();++i<c;){var l=t[i];this.set(l[0],l[1])}}function MapCache(t){var i=-1,c=null==t?0:t.length;for(this.clear();++i<c;){var l=t[i];this.set(l[0],l[1])}}function SetCache(t){var i=-1,c=null==t?0:t.length;for(this.__data__=new MapCache;++i<c;)this.add(t[i])}function Stack(t){var i=this.__data__=new ListCache(t);this.size=i.size}function assocIndexOf(t,i){for(var c=t.length;c--;)if(eq(t[c][0],i))return c;return -1}function baseGetTag(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ez&&ez in Object(t)?function(t){var i=eR.call(t,ez),c=t[ez];try{t[ez]=void 0;var l=!0}catch(t){}var _=eT.call(t);return l&&(i?t[ez]=c:delete t[ez]),_}(t):eT.call(t)}function baseIsArguments(t){return isObjectLike(t)&&baseGetTag(t)==U}function equalArrays(t,i,c,l,_,v){var P=1&c,U=t.length,k=i.length;if(U!=k&&!(P&&k>U))return!1;var B=v.get(t);if(B&&v.get(i))return B==i;var W=-1,J=!0,X=2&c?new SetCache:void 0;for(v.set(t,i),v.set(i,t);++W<U;){var Q=t[W],er=i[W];if(l)var es=P?l(er,Q,W,i,t,v):l(Q,er,W,t,i,v);if(void 0!==es){if(es)continue;J=!1;break}if(X){if(!function(t,i){for(var c=-1,l=null==t?0:t.length;++c<l;)if(i(t[c],c,t))return!0;return!1}(i,function(t,i){if(!X.has(i)&&(Q===t||_(Q,t,c,l,v)))return X.push(i)})){J=!1;break}}else if(!(Q===er||_(Q,er,c,l,v))){J=!1;break}}return v.delete(t),v.delete(i),J}function getAllKeys(t){var i;return i=function(t){return null!=t&&isLength(t.length)&&!isFunction(t)?function(t,i){var c,l=e4(t),_=!l&&e8(t),v=!l&&!_&&e9(t),P=!l&&!_&&!v&&e7(t),U=l||_||v||P,k=U?function(t,i){for(var c=-1,l=Array(t);++c<t;)l[c]=i(c);return l}(t.length,String):[],B=k.length;for(var W in t)eR.call(t,W)&&!(U&&("length"==W||v&&("offset"==W||"parent"==W)||P&&("buffer"==W||"byteLength"==W||"byteOffset"==W)||(c=null==(c=B)?9007199254740991:c)&&("number"==typeof W||eg.test(W))&&W>-1&&W%1==0&&W<c))&&k.push(W);return k}(t):function(t){if(i=t&&t.constructor,t!==("function"==typeof i&&i.prototype||eP))return eF(t);var i,c=[];for(var l in Object(t))eR.call(t,l)&&"constructor"!=l&&c.push(l);return c}(t)}(t),e4(t)?i:function(t,i){for(var c=-1,l=i.length,_=t.length;++c<l;)t[_+c]=i[c];return t}(i,e6(t))}function getMapData(t,i){var c,l=t.__data__;return("string"==(c=typeof i)||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==i:null===i)?l["string"==typeof i?"string":"hash"]:l.map}function getNative(t,i){var c=null==t?void 0:t[i];return!(!isObject(c)||eN&&eN in c)&&(isFunction(c)?ej:ep).test(toSource(c))?c:void 0}Hash.prototype.clear=function(){this.__data__=eY?eY(null):{},this.size=0},Hash.prototype.delete=function(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i},Hash.prototype.get=function(t){var i=this.__data__;if(eY){var c=i[t];return c===P?void 0:c}return eR.call(i,t)?i[t]:void 0},Hash.prototype.has=function(t){var i=this.__data__;return eY?void 0!==i[t]:eR.call(i,t)},Hash.prototype.set=function(t,i){var c=this.__data__;return this.size+=this.has(t)?0:1,c[t]=eY&&void 0===i?P:i,this},ListCache.prototype.clear=function(){this.__data__=[],this.size=0},ListCache.prototype.delete=function(t){var i=this.__data__,c=assocIndexOf(i,t);return!(c<0)&&(c==i.length-1?i.pop():e$.call(i,c,1),--this.size,!0)},ListCache.prototype.get=function(t){var i=this.__data__,c=assocIndexOf(i,t);return c<0?void 0:i[c][1]},ListCache.prototype.has=function(t){return assocIndexOf(this.__data__,t)>-1},ListCache.prototype.set=function(t,i){var c=this.__data__,l=assocIndexOf(c,t);return l<0?(++this.size,c.push([t,i])):c[l][1]=i,this},MapCache.prototype.clear=function(){this.size=0,this.__data__={hash:new Hash,map:new(eK||ListCache),string:new Hash}},MapCache.prototype.delete=function(t){var i=getMapData(this,t).delete(t);return this.size-=i?1:0,i},MapCache.prototype.get=function(t){return getMapData(this,t).get(t)},MapCache.prototype.has=function(t){return getMapData(this,t).has(t)},MapCache.prototype.set=function(t,i){var c=getMapData(this,t),l=c.size;return c.set(t,i),this.size+=c.size==l?0:1,this},SetCache.prototype.add=SetCache.prototype.push=function(t){return this.__data__.set(t,P),this},SetCache.prototype.has=function(t){return this.__data__.has(t)},Stack.prototype.clear=function(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function(t){var i=this.__data__,c=i.delete(t);return this.size=i.size,c},Stack.prototype.get=function(t){return this.__data__.get(t)},Stack.prototype.has=function(t){return this.__data__.has(t)},Stack.prototype.set=function(t,i){var c=this.__data__;if(c instanceof ListCache){var l=c.__data__;if(!eK||l.length<199)return l.push([t,i]),this.size=++c.size,this;c=this.__data__=new MapCache(l)}return c.set(t,i),this.size=c.size,this};var e6=eH?function(t){return null==t?[]:function(t,i){for(var c=-1,l=null==t?0:t.length,_=0,v=[];++c<l;){var P=t[c];i(P,c,t)&&(v[_++]=P)}return v}(eH(t=Object(t)),function(i){return ek.call(t,i)})}:function(){return[]},e2=baseGetTag;function toSource(t){if(null!=t){try{return eA.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function eq(t,i){return t===i||t!=t&&i!=i}(eV&&e2(new eV(new ArrayBuffer(1)))!=ed||eK&&e2(new eK)!=Q||eW&&e2(eW.resolve())!=eo||eG&&e2(new eG)!=ec||eJ&&e2(new eJ)!=eh)&&(e2=function(t){var i=baseGetTag(t),c=i==es?t.constructor:void 0,l=c?toSource(c):"";if(l)switch(l){case eX:return ed;case eZ:return Q;case eQ:return eo;case e0:return ec;case e1:return eh}return i});var e8=baseIsArguments(function(){return arguments}())?baseIsArguments:function(t){return isObjectLike(t)&&eR.call(t,"callee")&&!ek.call(t,"callee")},e4=Array.isArray,e9=eB||function(){return!1};function isFunction(t){if(!isObject(t))return!1;var i=baseGetTag(t);return i==X||"[object GeneratorFunction]"==i||"[object AsyncFunction]"==i||"[object Proxy]"==i}function isLength(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function isObject(t){var i=typeof t;return null!=t&&("object"==i||"function"==i)}function isObjectLike(t){return null!=t&&"object"==typeof t}var e7=ex?function(t){return ex(t)}:function(t){return isObjectLike(t)&&isLength(t.length)&&!!e_[baseGetTag(t)]};t.exports=function(t,i){return function baseIsEqual(t,i,c,l,_){return t===i||(null!=t&&null!=i&&(isObjectLike(t)||isObjectLike(i))?function(t,i,c,l,_,v){var P=e4(t),X=e4(i),eo=P?k:e2(t),eh=X?k:e2(i);eo=eo==U?es:eo,eh=eh==U?es:eh;var ep=eo==es,eg=eh==es,e_=eo==eh;if(e_&&e9(t)){if(!e9(i))return!1;P=!0,ep=!1}if(e_&&!ep)return v||(v=new Stack),P||e7(t)?equalArrays(t,i,c,l,_,v):function(t,i,c,l,_,v,P){switch(c){case ed:if(t.byteLength!=i.byteLength||t.byteOffset!=i.byteOffset)break;t=t.buffer,i=i.buffer;case ef:if(t.byteLength!=i.byteLength||!v(new eM(t),new eM(i)))break;return!0;case B:case W:case er:return eq(+t,+i);case J:return t.name==i.name&&t.message==i.message;case ea:case el:return t==i+"";case Q:var U=mapToArray;case ec:var k=1&l;if(U||(U=setToArray),t.size!=i.size&&!k)break;var X=P.get(t);if(X)return X==i;l|=2,P.set(t,i);var es=equalArrays(U(t),U(i),l,_,v,P);return P.delete(t),es;case"[object Symbol]":if(e3)return e3.call(t)==e3.call(i)}return!1}(t,i,eo,c,l,_,v);if(!(1&c)){var ey=ep&&eR.call(t,"__wrapped__"),ev=eg&&eR.call(i,"__wrapped__");if(ey||ev){var em=ey?t.value():t,eb=ev?i.value():i;return v||(v=new Stack),_(em,eb,c,l,v)}}return!!e_&&(v||(v=new Stack),function(t,i,c,l,_,v){var P=1&c,U=getAllKeys(t),k=U.length;if(k!=getAllKeys(i).length&&!P)return!1;for(var B=k;B--;){var W=U[B];if(!(P?W in i:eR.call(i,W)))return!1}var J=v.get(t);if(J&&v.get(i))return J==i;var X=!0;v.set(t,i),v.set(i,t);for(var Q=P;++B<k;){var er=t[W=U[B]],es=i[W];if(l)var eo=P?l(es,er,W,i,t,v):l(er,es,W,t,i,v);if(!(void 0===eo?er===es||_(er,es,c,l,v):eo)){X=!1;break}Q||(Q="constructor"==W)}if(X&&!Q){var ea=t.constructor,ec=i.constructor;ea!=ec&&"constructor"in t&&"constructor"in i&&!("function"==typeof ea&&ea instanceof ea&&"function"==typeof ec&&ec instanceof ec)&&(X=!1)}return v.delete(t),v.delete(i),X}(t,i,c,l,_,v))}(t,i,c,l,baseIsEqual,_):t!=t&&i!=i)}(t,i)}},85346:function(t){"use strict";function tryStringify(t){try{return JSON.stringify(t)}catch(t){return'"[Circular]"'}}t.exports=function(t,i,c){var l=c&&c.stringify||tryStringify;if("object"==typeof t&&null!==t){var _=i.length+1;if(1===_)return t;var v=Array(_);v[0]=l(t);for(var P=1;P<_;P++)v[P]=l(i[P]);return v.join(" ")}if("string"!=typeof t)return t;var U=i.length;if(0===U)return t;for(var k="",B=0,W=-1,J=t&&t.length||0,X=0;X<J;){if(37===t.charCodeAt(X)&&X+1<J){switch(W=W>-1?W:0,t.charCodeAt(X+1)){case 100:case 102:if(B>=U||null==i[B])break;W<X&&(k+=t.slice(W,X)),k+=Number(i[B]),W=X+2,X++;break;case 105:if(B>=U||null==i[B])break;W<X&&(k+=t.slice(W,X)),k+=Math.floor(Number(i[B])),W=X+2,X++;break;case 79:case 111:case 106:if(B>=U||void 0===i[B])break;W<X&&(k+=t.slice(W,X));var Q=typeof i[B];if("string"===Q){k+="'"+i[B]+"'",W=X+2,X++;break}if("function"===Q){k+=i[B].name||"<anonymous>",W=X+2,X++;break}k+=l(i[B]),W=X+2,X++;break;case 115:if(B>=U)break;W<X&&(k+=t.slice(W,X)),k+=String(i[B]),W=X+2,X++;break;case 37:W<X&&(k+=t.slice(W,X)),k+="%",W=X+2,X++,B--}++B}++X}return -1===W?t:(W<J&&(k+=t.slice(W)),k)}},63954:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.safeJsonParse=function(t){if("string"!=typeof t)throw Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch(i){return t}},i.safeJsonStringify=function(t){return"string"==typeof t?t:JSON.stringify(t,(t,i)=>void 0===i?null:i)}},80500:function(t){"use strict";t.exports=(t,i)=>{if(!("string"==typeof t&&"string"==typeof i))throw TypeError("Expected the arguments to be of type `string`");if(""===i)return[t];let c=t.indexOf(i);return -1===c?[t]:[t.slice(0,c),t.slice(c+i.length)]}},70610:function(t){"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)},57026:function(t){"use strict";t.exports=function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},36559:function(t,i,c){"use strict";let l=c(85346);t.exports=pino;let _=function(){function defd(t){return void 0!==t&&t}try{if("undefined"!=typeof globalThis)return globalThis;return Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return defd(self)||defd(window)||defd(this)||{}}}().console||{};function pino(t){var i;(t=t||{}).browser=t.browser||{};let c=t.browser.transmit;if(c&&"function"!=typeof c.send)throw Error("pino: transmit option must have a send function");let l=t.browser.write||_;t.browser.write&&(t.browser.asObject=!0);let v=t.serializers||{},P=function(t,i){if(Array.isArray(t)){let i=t.filter(function(t){return"!stdSerializers.err"!==t});return i}return!0===t&&Object.keys(i)}(t.browser.serialize,v),U=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(U=!1),"function"==typeof l&&(l.error=l.fatal=l.warn=l.info=l.debug=l.trace=l),!1===t.enabled&&(t.level="silent");let k=t.level||"info",B=Object.create(l);B.log||(B.log=noop),Object.defineProperty(B,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(B,"level",{get:function(){return this._level},set:function(t){if("silent"!==t&&!this.levels.values[t])throw Error("unknown level "+t);this._level=t,set(W,B,"error","log"),set(W,B,"fatal","error"),set(W,B,"warn","error"),set(W,B,"info","log"),set(W,B,"debug","log"),set(W,B,"trace","log")}});let W={transmit:c,serialize:P,asObject:t.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:"function"==typeof(i=t).timestamp?i.timestamp:!1===i.timestamp?nullTime:epochTime};return B.levels=pino.levels,B.level=k,B.setMaxListeners=B.getMaxListeners=B.emit=B.addListener=B.on=B.prependListener=B.once=B.prependOnceListener=B.removeListener=B.removeAllListeners=B.listeners=B.listenerCount=B.eventNames=B.write=B.flush=noop,B.serializers=v,B._serialize=P,B._stdErrSerialize=U,B.child=function(i,l){if(!i)throw Error("missing bindings for child Pino");l=l||{},P&&i.serializers&&(l.serializers=i.serializers);let _=l.serializers;if(P&&_){var U=Object.assign({},v,_),k=!0===t.browser.serialize?Object.keys(U):P;delete i.serializers,applySerializers([i],k,U,this._stdErrSerialize)}function Child(t){this._childLevel=(0|t._childLevel)+1,this.error=bind(t,i,"error"),this.fatal=bind(t,i,"fatal"),this.warn=bind(t,i,"warn"),this.info=bind(t,i,"info"),this.debug=bind(t,i,"debug"),this.trace=bind(t,i,"trace"),U&&(this.serializers=U,this._serialize=k),c&&(this._logEvent=createLogEventShape([].concat(t._logEvent.bindings,i)))}return Child.prototype=this,new Child(this)},c&&(B._logEvent=createLogEventShape()),B}function set(t,i,c,v){let P=Object.getPrototypeOf(i);i[c]=i.levelVal>i.levels.values[c]?noop:P[c]?P[c]:_[c]||_[v]||noop,function(t,i,c){if(t.transmit||i[c]!==noop){var v;i[c]=(v=i[c],function(){let P=t.timestamp(),U=Array(arguments.length),k=Object.getPrototypeOf&&Object.getPrototypeOf(this)===_?_:this;for(var B=0;B<U.length;B++)U[B]=arguments[B];if(t.serialize&&!t.asObject&&applySerializers(U,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?v.call(k,function(t,i,c,_){t._serialize&&applySerializers(c,t._serialize,t.serializers,t._stdErrSerialize);let v=c.slice(),P=v[0],U={};_&&(U.time=_),U.level=pino.levels.values[i];let k=(0|t._childLevel)+1;if(k<1&&(k=1),null!==P&&"object"==typeof P){for(;k--&&"object"==typeof v[0];)Object.assign(U,v.shift());P=v.length?l(v.shift(),v):void 0}else"string"==typeof P&&(P=l(v.shift(),v));return void 0!==P&&(U.msg=P),U}(this,c,U,P)):v.apply(k,U),t.transmit){let l=t.transmit.level||i.level,_=pino.levels.values[l],v=pino.levels.values[c];if(v<_)return;(function(t,i,c){let l=i.send,_=i.ts,v=i.methodLevel,P=i.methodValue,U=i.val,k=t._logEvent.bindings;applySerializers(c,t._serialize||Object.keys(t.serializers),t.serializers,void 0===t._stdErrSerialize||t._stdErrSerialize),t._logEvent.ts=_,t._logEvent.messages=c.filter(function(t){return -1===k.indexOf(t)}),t._logEvent.level.label=v,t._logEvent.level.value=P,l(v,t._logEvent,U),t._logEvent=createLogEventShape(k)})(this,{ts:P,methodLevel:c,methodValue:v,transmitLevel:l,transmitValue:pino.levels.values[t.transmit.level||i.level],send:t.transmit.send,val:i.levelVal},U)}})}}(t,i,c)}function applySerializers(t,i,c,l){for(let _ in t)if(l&&t[_]instanceof Error)t[_]=pino.stdSerializers.err(t[_]);else if("object"==typeof t[_]&&!Array.isArray(t[_]))for(let l in t[_])i&&i.indexOf(l)>-1&&l in c&&(t[_][l]=c[l](t[_][l]))}function bind(t,i,c){return function(){let l=Array(1+arguments.length);l[0]=i;for(var _=1;_<l.length;_++)l[_]=arguments[_-1];return t[c].apply(this,l)}}function createLogEventShape(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function mock(){return{}}function passthrough(t){return t}function noop(){}function nullTime(){return!1}function epochTime(){return Date.now()}pino.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},pino.stdSerializers={mapHttpRequest:mock,mapHttpResponse:mock,wrapRequestSerializer:passthrough,wrapResponseSerializer:passthrough,wrapErrorSerializer:passthrough,req:mock,res:mock,err:function(t){let i={type:t.constructor.name,msg:t.message,stack:t.stack};for(let c in t)void 0===i[c]&&(i[c]=t[c]);return i}},pino.stdTimeFunctions=Object.assign({},{nullTime,epochTime,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})}}]);